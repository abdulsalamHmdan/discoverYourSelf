let autoSubmit = true;

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
const intelligences = {
    linguistic: { name: 'Ù„ØºÙˆÙŠ/Ù„ÙØ¸ÙŠ', icon: 'ğŸ“š', color: '#ef4444' },
    logical: { name: 'Ù…Ù†Ø·Ù‚ÙŠ/Ø±ÙŠØ§Ø¶ÙŠ', icon: 'ğŸ”¢', color: '#f97316' },
    spatial: { name: 'Ø¨ØµØ±ÙŠ/Ù…ÙƒØ§Ù†ÙŠ', icon: 'ğŸ¨', color: '#eab308' },
    bodily: { name: 'Ø¬Ø³Ø¯ÙŠ/Ø­Ø±ÙƒÙŠ', icon: 'ğŸƒ', color: '#22c55e' },
    musical: { name: 'Ø¥ÙŠÙ‚Ø§Ø¹ÙŠ', icon: 'ğŸµ', color: '#06b6d4' },
    interpersonal: { name: 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ', icon: 'ğŸ‘¥', color: '#3b82f6' },
    intrapersonal: { name: 'Ø°Ø§ØªÙŠ', icon: 'ğŸ­', color: '#8b5cf6' },
    naturalist: { name: 'Ø·Ø¨ÙŠØ¹ÙŠ/Ø¨ÙŠØ¦ÙŠ', icon: 'ğŸŒ¿', color: '#10b981' }
};

// ØªÙØ§ØµÙŠÙ„ Ø´Ø§Ù…Ù„Ø© Ù„ÙƒÙ„ Ù†ÙˆØ¹ Ø°ÙƒØ§Ø¡
const intelligenceDetails = {
    linguistic: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø°ÙˆÙˆ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù„ØºÙˆÙŠ Ø¨Ø­Ø¨Ù‡Ù… Ù„Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø©. ÙŠØªØ¹Ù„Ù…ÙˆÙ† Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„ØªØ­Ø¯Ø« ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø©ØŒ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ù‚Ø¯Ø±Ø© Ø¹Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø£Ù†ÙØ³Ù‡Ù… Ø¨ÙˆØ¶ÙˆØ­.',
        strengths: [
            'Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙˆØ§Ø¶Ø­ ÙˆØ§Ù„Ø¨Ù„ÙŠØº',
            'Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„ÙØ¸ÙŠØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©',
            'ÙÙ‡Ù… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„ØºØ© ÙˆØ§Ù„Ù†Ø­Ùˆ',
            'Ø§Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø©',
            'Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù‚Ù†Ø§Ø¹ ÙˆØ§Ù„ØªØ£Ø«ÙŠØ± Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª'
        ],
        learningMethods: [
            'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¨ØµÙˆØª Ø¹Ø§Ù„Ù',
            'ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙˆØ§Ù„Ù…Ù„Ø®ØµØ§Øª',
            'Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª',
            'Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª ÙˆØ§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ø¯ÙØ§Øª'
        ],
        activities: [
            'ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª ÙˆØ§Ù„Ù‚ØµØµ',
            'Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ§Øª',
            'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù†Ù‚Ø§Ø´Ø§Øª Ø§Ù„Ø£Ø¯Ø¨ÙŠØ©',
            'ØªØ¹Ù„Ù… Ù„ØºØ§Øª Ø¬Ø¯ÙŠØ¯Ø©',
            'ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø´Ø¹Ø± ÙˆØ§Ù„Ø®ÙˆØ§Ø·Ø±',
            'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©'
        ],
        careers: [
            'ÙƒØ§ØªØ¨ ÙˆÙ…Ø¤Ù„Ù',
            'ØµØ­ÙÙŠ ÙˆÙ…Ø±Ø§Ø³Ù„',
            'Ù…ØªØ±Ø¬Ù…',
            'Ù…Ø­Ø§Ù…ÙŠ',
            'Ù…Ø¯Ø±Ø³ Ù„ØºØ©',
            'Ù…Ø­Ø±Ø± ÙˆÙ…Ø¯Ù‚Ù‚ Ù„ØºÙˆÙŠ',
            'Ù…Ø°ÙŠØ¹ Ø¥Ø°Ø§Ø¹ÙŠ ÙˆØªÙ„ÙØ²ÙŠÙˆÙ†ÙŠ',
            'Ø´Ø§Ø¹Ø± ÙˆØ£Ø¯ÙŠØ¨'
        ]
    },
    logical: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ Ø¨Ø­Ø¨Ù‡Ù… Ù„Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ. ÙŠØ³ØªÙ…ØªØ¹ÙˆÙ† Ø¨Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© ÙˆÙŠÙØ¶Ù„ÙˆÙ† Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø­ÙŠØ§Ø©.',
        strengths: [
            'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠ ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ÙŠ',
            'Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©',
            'ÙÙ‡Ù… Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª',
            'Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
            'Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…'
        ],
        learningMethods: [
            'Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„',
            'Ø§Ù„ØªØ¹Ù„Ù… Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©',
            'Ø±Ø¨Ø· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©'
        ],
        activities: [
            'Ø­Ù„ Ø§Ù„Ø£Ù„ØºØ§Ø² ÙˆØ§Ù„Ø£Ø­Ø§Ø¬ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©',
            'Ù„Ø¹Ø¨ Ø§Ù„Ø´Ø·Ø±Ù†Ø¬ ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©',
            'Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª',
            'Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©',
            'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
            'Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚'
        ],
        careers: [
            'Ù…Ù‡Ù†Ø¯Ø³',
            'Ø¹Ø§Ù„Ù… Ø±ÙŠØ§Ø¶ÙŠØ§Øª',
            'Ù…Ø­Ø§Ø³Ø¨ ÙˆÙ…Ø­Ù„Ù„ Ù…Ø§Ù„ÙŠ',
            'Ù…Ø¨Ø±Ù…Ø¬ ÙˆÙ…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª',
            'Ø¹Ø§Ù„Ù… ÙÙŠØ²ÙŠØ§Ø¡ Ø£Ùˆ ÙƒÙŠÙ…ÙŠØ§Ø¡',
            'Ù…Ø­Ù„Ù„ Ø¨ÙŠØ§Ù†Ø§Øª',
            'Ø¨Ø§Ø­Ø« Ø¹Ù„Ù…ÙŠ',
            'Ù…Ø³ØªØ´Ø§Ø± Ø¥Ø¯Ø§Ø±ÙŠ'
        ]
    },
    spatial: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¨ØµØ±ÙŠ Ø§Ù„Ù…ÙƒØ§Ù†ÙŠ Ø¨Ù‚Ø¯Ø±ØªÙ‡Ù… Ø¹Ù„Ù‰ Ø§Ù„ØªÙÙƒÙŠØ± Ø¨Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£Ø´ÙƒØ§Ù„. ÙŠØªØ¹Ù„Ù…ÙˆÙ† Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø¤ÙŠØ© ÙˆØ§Ù„ØªØ®ÙŠÙ„ØŒ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ø­Ø³ ÙÙ†ÙŠ Ù‚ÙˆÙŠ ÙˆÙ‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ØªØµÙˆØ± Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡.',
        strengths: [
            'Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¨ØµØ±ÙŠ ÙˆØ§Ù„ØªØ®ÙŠÙ„',
            'ÙÙ‡Ù… Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª',
            'Ø§Ù„Ø­Ø³ Ø§Ù„ÙÙ†ÙŠ ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ÙŠ',
            'ØªØ°ÙƒØ± Ø§Ù„ÙˆØ¬ÙˆÙ‡ ÙˆØ§Ù„Ø£Ù…Ø§ÙƒÙ†',
            'Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ…ÙŠÙ… ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„Ø¨ØµØ±ÙŠ'
        ],
        learningMethods: [
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©',
            'Ø¹Ù…Ù„ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø°Ù‡Ù†ÙŠØ©',
            'Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø±Ù…ÙˆØ²',
            'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯'
        ],
        activities: [
            'Ø§Ù„Ø±Ø³Ù… ÙˆØ§Ù„ØªØµÙˆÙŠØ±',
            'Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø±Ø§ÙÙŠÙƒÙŠ',
            'Ø§Ù„Ù†Ø­Øª ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©',
            'Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ',
            'Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ù…Ø¬Ø³Ù…Ø§Øª',
            'ØªØ±ØªÙŠØ¨ ÙˆØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª'
        ],
        careers: [
            'Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ',
            'Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù…Ø§Ø±ÙŠ',
            'ÙÙ†Ø§Ù† ØªØ´ÙƒÙŠÙ„ÙŠ',
            'Ù…ØµÙˆØ± ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ',
            'Ù…ØµÙ…Ù… Ø¯Ø§Ø®Ù„ÙŠ',
            'Ø±Ø³Ø§Ù… ÙƒØ§Ø±ÙŠÙƒØ§ØªÙŠØ±',
            'Ù…Ø®Ø±Ø¬ Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ',
            'Ù…ØµÙ…Ù… Ø£Ù„Ø¹Ø§Ø¨'
        ]
    },
    bodily: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¬Ø³Ø¯ÙŠ Ø§Ù„Ø­Ø±ÙƒÙŠ Ø¨Ø­Ø¨Ù‡Ù… Ù„Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ. ÙŠØªØ¹Ù„Ù…ÙˆÙ† Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¬Ø³Ø§Ù…Ù‡Ù…ØŒ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ù…Ù‡Ø§Ø±Ø§Øª Ø­Ø±ÙƒÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØªÙ†Ø§Ø³Ù‚ Ø¬ÙŠØ¯.',
        strengths: [
            'Ø§Ù„ØªÙ†Ø§Ø³Ù‚ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©',
            'Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠØ¯ÙŠÙ† Ø¨Ù…Ù‡Ø§Ø±Ø©',
            'Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¨Ù„ØºØ© Ø§Ù„Ø¬Ø³Ø¯',
            'Ø±Ø¯ÙˆØ¯ Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ø¯Ù‚ÙŠÙ‚Ø©'
        ],
        learningMethods: [
            'Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© ÙˆØ§Ù„ØªØ¬Ø±Ø¨Ø©',
            'Ø§Ù„Ø­Ø±ÙƒØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ù…Ù„Ù…ÙˆØ³Ø©',
            'Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ø·Ù„Ù‚',
            'Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ©'
        ],
        activities: [
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨',
            'Ø§Ù„Ø±Ù‚Øµ ÙˆØ§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ÙŠØ©',
            'Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ù„Ø­Ø±Ù',
            'Ø§Ù„Ø·Ø¨Ø® ÙˆØ§Ù„Ø®Ø¨Ø²',
            'Ø§Ù„Ø¨Ø³ØªÙ†Ø© ÙˆØ§Ù„Ø²Ø±Ø§Ø¹Ø©',
            'Ø§Ù„ØªÙ…Ø«ÙŠÙ„ ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø³Ø±Ø­ÙŠ'
        ],
        careers: [
            'Ø±ÙŠØ§Ø¶ÙŠ Ù…Ø­ØªØ±Ù',
            'Ù…Ø¯Ø±Ø¨ Ø±ÙŠØ§Ø¶ÙŠ',
            'Ø±Ø§Ù‚Øµ Ø£Ùˆ Ù…ØµÙ…Ù… Ø±Ù‚ØµØ§Øª',
            'Ø¬Ø±Ø§Ø­',
            'Ø­Ø±ÙÙŠ Ù…Ø§Ù‡Ø±',
            'Ø·Ø¨ÙŠØ¨ Ø¹Ù„Ø§Ø¬ Ø·Ø¨ÙŠØ¹ÙŠ',
            'Ù…Ù…Ø«Ù„',
            'Ø·ÙŠØ§Ø±'
        ]
    },
    musical: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ÙŠ Ø¨Ø­Ø³Ø§Ø³ÙŠØªÙ‡Ù… Ù„Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹Ø§Øª ÙˆØ§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ù†ØªØ¸Ù…Ø©. ÙŠØ­Ø¨ÙˆÙ† Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¸Ù…ØŒ ÙˆÙŠØªØ¹Ù„Ù…ÙˆÙ† Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ ÙÙŠ Ø¨ÙŠØ¦Ø© Ù…Ù†Ø¸Ù…Ø© ÙˆÙ…Ù†ØªØ¸Ù…Ø©.',
        strengths: [
            'Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹Ø§Øª',
            'Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù†ØºÙ…Ø§Øª',
            'Ø§Ù„ØªÙ†Ø¸ÙŠÙ… ÙˆØ§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ',
            'Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¸Ù…',
            'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ©'
        ],
        learningMethods: [
            'Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ ÙˆØ§Ù„ØªÙƒØ±Ø§Ø±',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¸Ù…Ø©',
            'Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø¨ÙŠØ¦Ø© Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙ…Ù†Ø¸Ù…Ø©',
            'Ø±Ø¨Ø· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø§Ù„Ø£Ù†Ù…Ø§Ø·',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù†ØºÙ…Ø§Øª ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù…'
        ],
        activities: [
            'Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ÙˆØ§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø¬Ø¯Ø§ÙˆÙ„ Ø²Ù…Ù†ÙŠØ©',
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø¨Ø¥ÙŠÙ‚Ø§Ø¹ Ù…Ù†ØªØ¸Ù…',
            'ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©',
            'Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙˆØ§Ø¦Ù… ÙˆØ¬Ø¯Ø§ÙˆÙ„ Ù…Ù†Ø¸Ù…Ø©',
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡'
        ],
        careers: [
            'Ù…ÙˆØ³ÙŠÙ‚ÙŠ Ø£Ùˆ Ø¹Ø§Ø²Ù',
            'Ù…Ù†Ø¸Ù… ÙØ¹Ø§Ù„ÙŠØ§Øª',
            'Ù…Ø¯ÙŠØ± Ù…Ø´Ø§Ø±ÙŠØ¹',
            'Ù…Ø­Ø§Ø³Ø¨',
            'Ù…Ø¯Ø±Ø¨ ØªÙ†Ù…ÙŠØ© Ø¨Ø´Ø±ÙŠØ©',
            'Ù…Ù‡Ù†Ø¯Ø³ ØµÙˆØª',
            'Ù…Ø¯ÙŠØ± Ø¥Ø¯Ø§Ø±ÙŠ',
            'Ù…Ø·ÙˆØ± Ø£Ù†Ø¸Ù…Ø©'
        ]
    },
    interpersonal: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ø¨Ù‚Ø¯Ø±ØªÙ‡Ù… Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù‡Ù… Ø¨ÙØ¹Ø§Ù„ÙŠØ©. ÙŠØ­Ø¨ÙˆÙ† Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ù…Ù‡Ø§Ø±Ø§Øª Ù‚ÙŠØ§Ø¯ÙŠØ© ÙˆØªØ£Ø«ÙŠØ± Ø¥ÙŠØ¬Ø§Ø¨ÙŠ Ø¹Ù„Ù‰ Ù…Ù† Ø­ÙˆÙ„Ù‡Ù….',
        strengths: [
            'ÙÙ‡Ù… Ù…Ø´Ø§Ø¹Ø± ÙˆØ¯ÙˆØ§ÙØ¹ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†',
            'Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙØ¹Ø§Ù„ ÙˆØ§Ù„Ø¥Ù‚Ù†Ø§Ø¹',
            'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ',
            'Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù‚ÙˆÙŠØ©',
            'Ø­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª ÙˆØ§Ù„ÙˆØ³Ø§Ø·Ø©'
        ],
        learningMethods: [
            'Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª',
            'Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª ÙˆØ§Ù„Ø­ÙˆØ§Ø±Ø§Øª',
            'Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ ÙˆØ§Ù„ØªØ´Ø§Ø±ÙƒÙŠ',
            'Ù„Ø¹Ø¨ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„Ù…Ø­Ø§ÙƒØ§Ø©',
            'Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ù„Ù„Ø¢Ø®Ø±ÙŠÙ†'
        ],
        activities: [
            'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©',
            'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©',
            'Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ØªØ·ÙˆØ¹ÙŠ ÙˆØ§Ù„Ø®ÙŠØ±ÙŠ',
            'Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªÙˆØ¬ÙŠÙ‡',
            'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù†ÙˆØ§Ø¯ÙŠ ÙˆØ§Ù„Ø¬Ù…Ø¹ÙŠØ§Øª',
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©'
        ],
        careers: [
            'Ù…Ø¯ÙŠØ± Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©',
            'Ù…Ø³ØªØ´Ø§Ø± Ù†ÙØ³ÙŠ Ø£Ùˆ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ',
            'Ù…Ø¯Ø±Ø³ Ø£Ùˆ Ù…Ø¯Ø±Ø¨',
            'Ù…Ù†Ø¯ÙˆØ¨ Ù…Ø¨ÙŠØ¹Ø§Øª',
            'Ø³ÙŠØ§Ø³ÙŠ Ø£Ùˆ Ø¯Ø¨Ù„ÙˆÙ…Ø§Ø³ÙŠ',
            'Ù…Ø¯ÙŠØ± ØªØ³ÙˆÙŠÙ‚',
            'Ù…Ù†Ø³Ù‚ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ',
            'Ù…Ø°ÙŠØ¹ Ø£Ùˆ Ø¥Ø¹Ù„Ø§Ù…ÙŠ'
        ]
    },
    intrapersonal: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø°Ø§ØªÙŠ Ø¨ÙÙ‡Ù…Ù‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ù„Ø£Ù†ÙØ³Ù‡Ù… ÙˆÙ…Ø´Ø§Ø¹Ø±Ù‡Ù… ÙˆØ£Ù‡Ø¯Ø§ÙÙ‡Ù…. ÙŠØ­Ø¨ÙˆÙ† Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ØªÙÙƒØ±ØŒ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ù‚Ø¯Ø±Ø© Ø¹Ø§Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°Ø§ØªÙŠ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠ.',
        strengths: [
            'Ø§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ ÙˆØ§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ù„Ù„Ù†ÙØ³',
            'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§Ø¹Ø± ÙˆØ§Ù„Ø§Ù†ÙØ¹Ø§Ù„Ø§Øª',
            'ÙˆØ¶Ø¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø´Ø®ØµÙŠ',
            'Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ØªÙÙƒØ± Ø§Ù„Ø¹Ù…ÙŠÙ‚',
            'Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„Ø¹Ù…Ù„'
        ],
        learningMethods: [
            'Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø°Ø§ØªÙŠ ÙˆØ§Ù„ÙØ±Ø¯ÙŠ',
            'Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ØªÙÙƒØ± ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
            'Ø±Ø¨Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø´Ø®ØµÙŠØ©',
            'ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª ÙˆØ§Ù„ØªØ£Ù…Ù„Ø§Øª',
            'Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø¨ÙŠØ¦Ø© Ù‡Ø§Ø¯Ø¦Ø© ÙˆÙ…Ù†Ø¹Ø²Ù„Ø©'
        ],
        activities: [
            'ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ§Øª ÙˆØ§Ù„ØªØ£Ù…Ù„Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©',
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡',
            'ÙˆØ¶Ø¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø®Ø·Ø· Ø§Ù„Ø´Ø®ØµÙŠØ©',
            'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠ',
            'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ù‡ÙˆØ§ÙŠØ§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ©',
            'Ø§Ù„Ø³ÙØ± ÙˆØ§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø°Ø§ØªÙŠ'
        ],
        careers: [
            'ÙƒØ§ØªØ¨ Ø£Ùˆ Ù…Ø¤Ù„Ù',
            'Ù…Ø³ØªØ´Ø§Ø± Ø´Ø®ØµÙŠ',
            'Ø¨Ø§Ø­Ø« Ø£Ùˆ Ø¹Ø§Ù„Ù…',
            'ÙÙŠÙ„Ø³ÙˆÙ Ø£Ùˆ Ù…ÙÙƒØ±',
            'Ù…Ø¯Ø±Ø¨ ØªÙ†Ù…ÙŠØ© Ø°Ø§ØªÙŠØ©',
            'Ø±Ø§Ø¦Ø¯ Ø£Ø¹Ù…Ø§Ù„',
            'ÙÙ†Ø§Ù† Ù…Ø³ØªÙ‚Ù„',
            'Ù…Ø­Ù„Ù„ Ù†ÙØ³ÙŠ'
        ]
    },
    naturalist: {
        description: 'ÙŠØªÙ…ÙŠØ² Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø­Ø¨Ù‡Ù… Ù„Ù„Ø·Ø¨ÙŠØ¹Ø© ÙˆØ§Ù„Ø¨ÙŠØ¦Ø©. Ù„Ø¯ÙŠÙ‡Ù… Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ù…Ù„Ø§Ø­Ø¸Ø© ÙˆÙÙ‡Ù… Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ ÙˆÙŠØ´Ø¹Ø±ÙˆÙ† Ø¨Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù… ÙÙŠ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©.',
        strengths: [
            'Ù…Ù„Ø§Ø­Ø¸Ø© ÙˆÙÙ‡Ù… Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© Ù„Ù„ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©',
            'ØªØµÙ†ÙŠÙ ÙˆØªÙ…ÙŠÙŠØ² Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©',
            'ÙÙ‡Ù… Ø§Ù„Ù†Ø¸Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© ÙˆØ§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©'
        ],
        learningMethods: [
            'Ø§Ù„ØªØ¹Ù„Ù… ÙÙŠ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…Ø«Ù„Ø© Ù…Ù† Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©',
            'Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆØ§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù',
            'Ø§Ù„ØªØµÙ†ÙŠÙ ÙˆØ§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©',
            'Ø±Ø¨Ø· Ø§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©'
        ],
        activities: [
            'Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ÙˆØ§Ù„Ø¨Ø³ØªÙ†Ø©',
            'Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø·ÙŠÙˆØ± ÙˆØ§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª',
            'Ø§Ù„ØªØ®ÙŠÙŠÙ… ÙˆØ§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'Ø¬Ù…Ø¹ Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©',
            'Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ',
            'Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø­Ù…Ù„Ø§Øª Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ¦Ø©'
        ],
        careers: [
            'Ø¹Ø§Ù„Ù… Ø£Ø­ÙŠØ§Ø¡ Ø£Ùˆ Ø¨ÙŠØ¦Ø©',
            'Ù…Ù‡Ù†Ø¯Ø³ Ø²Ø±Ø§Ø¹ÙŠ',
            'Ø·Ø¨ÙŠØ¨ Ø¨ÙŠØ·Ø±ÙŠ',
            'Ù…Ø±Ø´Ø¯ Ø³ÙŠØ§Ø­ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ',
            'Ø¨Ø§Ø­Ø« ÙÙŠ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø£Ø±Ø¶',
            'Ù…ØµÙ…Ù… Ø­Ø¯Ø§Ø¦Ù‚',
            'Ù†Ø§Ø´Ø· Ø¨ÙŠØ¦ÙŠ',
            'Ø¹Ø§Ù„Ù… Ø¬ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§'
        ]
    }
};

// Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
function shuffleArray(array) {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
}

const importing = [
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø³Ø±Ø¹Ø© Ø¹Ù†Ø¯Ù…Ø§ Ø£Ù…Ø§Ø±Ø³ Ø§Ù„Ø´ÙŠØ¡ Ø¹Ù…Ù„ÙŠÙ‹Ø§.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø¹Ø¨Ù‘Ø± Ø¹Ù† Ø£ÙÙƒØ§Ø±ÙŠ Ø¨Ø¥ÙŠÙ…Ø§Ø¡Ø§Øª Ø£Ùˆ Ø­Ø±ÙƒØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ©.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø£Ùˆ Ø§Ù„Ø­Ø±ÙÙŠØ©.",
        "type": "bodily"
    },
    {
        "qu": "Ø£ÙØ¶Ù‘Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„ØªÙŠ ØªØªØ¶Ù…Ù† Ø­Ø±ÙƒØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù„ÙˆØ³ Ø§Ù„Ø·ÙˆÙŠÙ„.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ ØªÙ‚Ù„ÙŠØ¯ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ…Ø§Ø¡Ø§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø¬Ø¯ Ù…ØªØ¹Ø© ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø£Ùˆ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ÙŠØ©.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ù…ØªÙ„Ùƒ ØªÙˆØ§Ø²Ù†Ù‹Ø§ Ø¬Ø³Ø¯ÙŠÙ‹Ø§ Ø¬ÙŠØ¯Ù‹Ø§.",
        "type": "bodily"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø³Ø±Ø¹Ø©.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø­Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ø³Ø¯ÙŠ ÙÙŠ Ø§Ù„ØªØ¹Ø¨ÙŠØ± (ÙƒØ§Ù„Ø±Ù‚Øµ Ø£Ùˆ Ø§Ù„Ù…Ø³Ø±Ø­).",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ù†Ø³Ø¬Ù… Ø£ÙƒØ«Ø± Ø¹Ù†Ø¯Ù…Ø§ Ø£ØªØ­Ø±Ùƒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¹Ù„Ù… Ø£Ùˆ Ø§Ù„ØªÙÙƒÙŠØ±.",
        "type": "bodily"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ù‚Ø±Ø§Ø¡Ø© Ù…Ø´Ø§Ø¹Ø± Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ù…Ù† ÙˆØ¬ÙˆÙ‡Ù‡Ù….",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø£Ø´Ø®Ø§Øµ Ù…Ù† Ø®Ù„ÙÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ø§ÙƒØªØ´Ø§Ù Ù†ÙˆØ§ÙŠØ§ Ø§Ù„Ù†Ø§Ø³ Ø¨Ø³Ø±Ø¹Ø©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø¹Ù…Ù„ Ø¨ÙƒÙØ§Ø¡Ø© Ø¶Ù…Ù† ÙØ±ÙŠÙ‚ Ù…ØªØ¹Ø§ÙˆÙ†.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø¹Ù„Ù‰ Ø­Ù„ Ø®Ù„Ø§ÙØ§ØªÙ‡Ù….",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ ØªØ­ÙÙŠØ² Ù…Ù† Ø­ÙˆÙ„ÙŠ Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ù…ØªÙ‰ ÙŠØ´Ø¹Ø± Ø£Ø­Ø¯Ù‡Ù… Ø¨Ø§Ù„Ø¶ÙŠÙ‚ Ø­ØªÙ‰ Ø¯ÙˆÙ† Ø£Ù† ÙŠÙ‚ÙˆÙ„.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£ØªÙƒÙŠÙ Ù…Ø¹ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ£Ø«ÙŠØ± ÙÙŠ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø¨Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø©.",
        "type": "interpersonal"
    },
    {
        "qu": "Ø£Ø¹Ø±Ù Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙŠ ÙˆØ¶Ø¹ÙÙŠ Ø¨ÙˆØ¶ÙˆØ­.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø±Ø§Ø¬Ø¹ Ø£ÙÙƒØ§Ø±ÙŠ ÙˆÙ…ÙˆØ§Ù‚ÙÙŠ Ø¨Ø§Ù†ØªØ¸Ø§Ù….",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù…Ø´Ø§Ø¹Ø±ÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆØªØ±.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø¶Ø¹ Ø£Ù‡Ø¯Ø§ÙÙ‹Ø§ Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰ ÙˆØ£Ø³Ø¹Ù‰ Ù„ØªØ­Ù‚ÙŠÙ‚Ù‡Ø§.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø­ØªØ§Ø¬ Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø²Ù„Ø© Ù„Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ‚.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ù…Ù† Ø£Ø®Ø·Ø§Ø¦ÙŠ Ø¨ÙˆØ¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ ØªØ£Ø«ÙŠØ± Ù…Ø´Ø§Ø¹Ø±ÙŠ Ø¹Ù„Ù‰ Ù‚Ø±Ø§Ø±Ø§ØªÙŠ.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø¹Ø¨Ù‘Ø± Ø¹Ù† Ø°Ø§ØªÙŠ Ø¨ØµØ¯Ù‚ Ø­ØªÙ‰ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„ØµØ¹Ø¨Ø©.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø¶Ø¹ Ø®Ø·Ø· ØªØ·ÙˆÙŠØ± Ø´Ø®ØµÙŠØ© Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ…Ø±.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ù„Ø¯ÙŠÙ‘ ÙˆØ¹ÙŠ ÙˆØ§Ø¶Ø­ Ø¨Ù‡ÙˆÙŠØªÙŠ ÙˆÙ‚ÙŠÙ…ÙŠ Ø§Ù„Ø´Ø®ØµÙŠØ©.",
        "type": "intrapersonal"
    },
    {
        "qu": "Ø£Ø¬Ø¯ Ø³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø£ÙÙƒØ§Ø±ÙŠ Ø¨ÙˆØ¶ÙˆØ­ ÙˆØ¯Ù‚Ø©.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†ØµÙˆØµ ÙˆØªØ­Ù„ÙŠÙ„Ù‡Ø§.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ø¥Ù‚Ù†Ø§Ø¹ Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ù…ØªÙ„Ùƒ Ù…ÙØ±Ø¯Ø§Øª ØºÙ†ÙŠØ© ÙˆØ£Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø¨Ø·Ù„Ø§Ù‚Ø©.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø¬Ø¯ Ù…ØªØ¹Ø© ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù‚ØµØµ Ø£Ùˆ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù„ØºÙˆÙŠØ© Ø§Ù„ØµØºÙŠØ±Ø© ÙÙŠ Ø§Ù„Ù†ØµÙˆØµ.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø­Ø¨Ù‘ Ø§Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª ÙˆØ§Ù„Ø­ÙˆØ§Ø± Ø§Ù„ÙÙƒØ±ÙŠ.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ø¹Ù†Ø¯Ù…Ø§ Ø£Ù‚Ø±Ø£ Ø£Ùˆ Ø£ÙƒØªØ¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ ØªØ­ÙˆÙŠÙ„ ÙÙƒØ±Ø© Ù…Ø¬Ø±Ø¯Ø© Ø¥Ù„Ù‰ Ø´Ø±Ø­ Ø¨Ø³ÙŠØ· ÙˆÙˆØ§Ø¶Ø­.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù„Ø¹Ø¨ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©.",
        "type": "linguistic"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙˆØ§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†Ø·Ù‚ Ø¹Ù†Ø¯ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø­Ø¨Ù‘ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¡Ø§Øª.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠØ© Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ø§Ù„ØªÙÙƒÙŠØ±.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø·Ø±Ø­ Ø¹Ù„Ù‰ Ù†ÙØ³ÙŠ Ø£Ø³Ø¦Ù„Ø© ØªØ­Ù„ÙŠÙ„ÙŠØ© Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„ØªÙ†Ø§Ù‚Ø¶Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø¬Ø¬ Ø£Ùˆ Ø§Ù„Ø£ÙÙƒØ§Ø± Ø¨Ø³Ø±Ø¹Ø©.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø­Ø¨Ù‘ ÙÙ‡Ù… ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„.",
        "type": "logical"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø³Ø±Ø¹Ø© Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø·Ø¨Ù‘Ù‚ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ø¬Ø¯ Ù…ØªØ¹Ø© ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø£Ùˆ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚.",
        "type": "logical"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø£ØµÙˆØ§Øª Ø£Ùˆ Ø§Ù„Ù†Ø¨Ø±Ø§Øª.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ù…Ù†Ø·ÙˆÙ‚ Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©.",
        "type": "musical"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø³Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ù…ÙŠØ² Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…Ø­ÙŠØ·Ø© Ø­ØªÙ‰ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªØ®Ø¯Ù… Ù†ØºÙ…Ø© ØµÙˆØªÙŠ Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ù…Ø¹Ù†Ù‰.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨ØªÙ‚Ù„ÙŠØ¯ Ø§Ù„Ø£ØµÙˆØ§Øª Ø£Ùˆ Ø§Ù„Ù„Ù‡Ø¬Ø§Øª.",
        "type": "musical"
    },
    {
        "qu": "Ø£ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ù…Ù† Ø£ØµÙˆØ§ØªÙ‡Ù… Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„ØµÙˆØª Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„ØªØ°ÙƒØ±.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„ØªØºÙŠÙ‘Ø± ÙÙŠ Ù†Ø¨Ø±Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø¯ÙŠØ«.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø³Ù…Ø§Ø¹ Ø§Ù„Ø®Ø·Ø¨ Ø£Ùˆ Ø§Ù„Ø­ÙˆØ§Ø±Ø§Øª Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø©.",
        "type": "musical"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªØ£Ù…Ù„ ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø£Ùˆ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ø£Ùˆ Ø§Ù„ÙØµÙˆÙ„ Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ù‡ØªÙ… Ø¨Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙˆØ§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù…Ù† Ø­ÙˆÙ„ÙŠ.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ø­Ø¨Ù‘ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù…ØºÙ„Ù‚Ø©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ù…ÙŠØ² Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø´Ø¬Ø§Ø± Ø£Ùˆ Ø§Ù„Ø·ÙŠÙˆØ± Ø£Ùˆ Ø§Ù„ØµØ®ÙˆØ±.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ© ÙÙŠ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ù‡ØªÙ… Ø¨Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø£Ùˆ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø£Ø¯Ù‚ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ø¸Ø± Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø³Ø±Ø¹Ø© Ù…Ù† Ø§Ù„Ø¸ÙˆØ§Ù‡Ø± Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© Ø£Ùˆ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠØ©.",
        "type": "naturalist"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ ØªØ®ÙŠÙ‘Ù„ Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø£Ùˆ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø¨ÙˆØ¶ÙˆØ­ Ø°Ù‡Ù†ÙŠ.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¨ØµØ±ÙŠØ© ÙÙŠ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø´Ø§Ù‡Ø¯.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ø±ØªØ¨ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù†Ø³Ù‚Ø© ÙˆØ¬Ø°Ø§Ø¨Ø© Ø¨ØµØ±ÙŠÙ‹Ø§.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø±Ø³Ù… Ø£Ùˆ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø£Ùˆ Ø§Ù„ØªØµÙˆÙŠØ±.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ÙˆØ§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø©.",
        "type": "spatial"
    },
    {
        "qu": "Ø£ØªØ¹Ù„Ù… Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø±Ù‰ ØµÙˆØ±Ù‹Ø§ Ø£Ùˆ Ø±Ø³ÙˆÙ…Ø§Øª ØªÙˆØ¶ÙŠØ­ÙŠØ©.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ù„Ø§Ø­Ø¸ Ø§Ù„Ø¬Ù…Ø§Ù„ ÙÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„ØªÙ†Ø§Ø³Ù‚.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ø³ØªØ·ÙŠØ¹ ØªÙƒÙˆÙŠÙ† ØµÙˆØ±Ø© Ø°Ù‡Ù†ÙŠØ© Ù„Ø£ÙŠ ÙÙƒØ±Ø© Ø£Ø³Ù…Ø¹Ù‡Ø§.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ø­Ø¨Ù‘ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù…Ø±Ø¦ÙŠØ© Ù…Ø«Ù„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø£Ùˆ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©.",
        "type": "spatial"
    },
    {
        "qu": "Ø£Ù…ØªÙ„Ùƒ Ø­Ø³Ù‘Ù‹Ø§ Ù‚ÙˆÙŠÙ‹Ø§ Ø¨Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ù‚Ø¹.",
        "type": "spatial"
    }
];
// Ø¥Ù†Ø´Ø§Ø¡ HTML Ù„Ù„Ø³Ø¤Ø§Ù„

const originalQuestions = importing.filter((x, i) => i < 5).map(x => {
    return {
        type: x.type,
        questionType: 'rating',
        question: 'Ù‚ÙŠÙ‘Ù… Ù…Ø¯Ù‰ Ø§Ù†Ø·Ø¨Ø§Ù‚ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù„ÙŠÙƒ:',
        weight: 1,
        difficulty: 'medium',
        reliability: 1,
        statements: [
            { text: x.qu, value: 0 },
        ]
    }
})
// [
// Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù„ØºÙˆÙŠ
// {
//     type: 'linguistic',
//     questionType: 'single',
//     question: 'Ø¹Ù†Ø¯Ù…Ø§ ØªØ°Ø§ÙƒØ±ØŒ Ø£ÙŠ Ø£Ø³Ù„ÙˆØ¨ ØªÙØ¶Ù‘Ù„ØŸ',
//     weight: 1.2,
//     difficulty: 'easy',
//     reliability: 0.9,
//     options: [
//         { text: 'Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„Ø®Ù‘ØµØ§Øª ÙˆÙƒØªØ¨', value: 2 },
//         { text: 'Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠØ¯ÙŠÙˆ ØªØ¹Ù„ÙŠÙ…ÙŠ', value: 1 },
//         { text: 'Ø¹Ù…Ù„ Ù…Ø®Ø·Ø· Ø¨ØµØ±ÙŠ', value: 1 },
//         { text: 'Ù…Ù†Ø§Ù‚Ø´Ø© Ù…Ø¹ ØµØ¯ÙŠÙ‚', value: 2 }
//     ]
// },
// {
//     type: 'linguistic',
//     questionType: 'single',
//     question: 'Ø¹Ù†Ø¯Ù…Ø§ ØªØ°Ø§ÙƒØ±ØŒ Ø£ÙŠ Ø£Ø³Ù„ÙˆØ¨ ØªÙØ¶Ù‘Ù„ØŸ',
//     weight: 1.2,
//     difficulty: 'easy',
//     reliability: 0.9,
//     options: [
//         { text: 'Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„Ø®Ù‘ØµØ§Øª ÙˆÙƒØªØ¨', value: 2 },
//         { text: 'Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠØ¯ÙŠÙˆ ØªØ¹Ù„ÙŠÙ…ÙŠ', value: 1 },
//         { text: 'Ø¹Ù…Ù„ Ù…Ø®Ø·Ø· Ø¨ØµØ±ÙŠ', value: 1 },
//         { text: 'Ù…Ù†Ø§Ù‚Ø´Ø© Ù…Ø¹ ØµØ¯ÙŠÙ‚', value: 2 }
//     ]
// },
// {
//     type: 'bodily',
//     questionType: 'multiple',
//     question: 'Ø£ÙŠ Ø¨ÙŠØ¦Ø© Ø¹Ù…Ù„ ØªÙØ¶Ù„ØŸ (Ø§Ø®ØªØ± ÙƒÙ„ Ù…Ø§ ÙŠÙ†Ø·Ø¨Ù‚)',
//     weight: 1.0,
//     difficulty: 'easy',
//     reliability: 0.7,
//     options: [
//         { text: 'ÙˆØ±Ø´Ø© Ø¹Ù…Ù„ Ø£Ùˆ Ù…Ø®ØªØ¨Ø±', value: 4 },
//         { text: 'ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ø·Ù„Ù‚', value: 4 },
//         { text: 'ØµØ§Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ©', value: 3 },
//         { text: 'Ù…ÙƒØ§Ù† ÙŠØ³Ù…Ø­ Ø¨Ø§Ù„Ø­Ø±ÙƒØ©', value: 4 }
//     ]
// },
// {
//     type: 'musical',
//     questionType: 'ranking',
//     question: 'Ø±ØªÙ‘Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ÙŠØ© Ø­Ø³Ø¨ Ø§Ø³ØªÙ…ØªØ§Ø¹Ùƒ Ø¨Ù‡Ø§ (Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø£ÙƒØ«Ø± ØªÙØ¶ÙŠÙ„Ø§Ù‹):',
//     weight: 1.2,
//     difficulty: 'medium',
//     reliability: 0.8,
//     options: [
//         { text: 'Ø§Ù„ØªØµÙÙŠÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹', value: 0 },
//         { text: 'Ø§Ù„Ù…Ø´ÙŠ Ø¨Ø®Ø·ÙˆØ§Øª Ù…Ù†ØªØ¸Ù…Ø©', value: 0 },
//         { text: 'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ', value: 0 },
//         { text: 'Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø¨Ø¥ÙŠÙ‚Ø§Ø¹ Ø«Ø§Ø¨Øª', value: 0 }
//     ]
// },
// {
//     type: 'naturalist',
//     questionType: 'rating',
//     question: 'Ù‚ÙŠÙ‘Ù… Ù…Ø¯Ù‰ Ø§Ù†Ø·Ø¨Ø§Ù‚ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª Ø¹Ù„ÙŠÙƒ (1-5 Ù†Ø¬ÙˆÙ…):',
//     weight: 1,
//     difficulty: 'medium',
//     reliability: 1,
//     statements: [
//         { text: 'Ø£Ø´Ø¹Ø± Ø¨Ø§Ù„Ø³Ù„Ø§Ù… ÙÙŠ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©', value: 0 },
//     ]
// }
// ];

// Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
const questions = shuffleArray(originalQuestions);
// Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø©
let currentUser = '';
let currentQuestionIndex = 0;
let answers = {};
let startTime = Date.now();
let timerInterval;

// Ø¹Ù†Ø§ØµØ± DOM
const welcomeScreen = document.getElementById('welcome-screen');
const onboardingScreen = document.getElementById('onboarding-screen');
const testScreen = document.getElementById('test-screen');
const resultsScreen = document.getElementById('results-screen');
const userNameInput = document.getElementById('userName');
const startBtn = document.getElementById('startBtn');
const howItWorksBtn = document.getElementById('howItWorksBtn');
const howItWorksModal = document.getElementById('howItWorksModal');
const closeModalBtn = document.getElementById('closeModalBtn');
const startTestBtn = document.getElementById('startTestBtn');
const midwayBreak = document.getElementById('midway-break');
const continueTestBtn = document.getElementById('continueTestBtn');

// Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
startBtn.addEventListener('click', function () {
    showOnboarding();
});




howItWorksBtn.addEventListener('click', function () {
    howItWorksModal.classList.remove('hidden');
    howItWorksModal.classList.add('flex');
});

closeModalBtn.addEventListener('click', function () {
    howItWorksModal.classList.add('hidden');
    howItWorksModal.classList.remove('flex');
});

// Ø£Ø­Ø¯Ø§Ø« Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØºÙŠØ± Ø§Ù„Ù…ÙƒØªÙ…Ù„
document.getElementById('continueTestFromModal').addEventListener('click', function () {
    document.getElementById('incompleteTestModal').classList.add('hidden');
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ ØºÙŠØ± Ù…ÙØ¬Ø§Ø¨ Ø¹Ù„ÙŠÙ‡
    goToFirstUnansweredQuestion();
});

document.getElementById('showPartialResults').addEventListener('click', function () {
    document.getElementById('incompleteTestModal').classList.add('hidden');
    proceedWithResults();
});

document.getElementById('closeIncompleteModal').addEventListener('click', function () {
    document.getElementById('incompleteTestModal').classList.add('hidden');
});

// Ø£Ø­Ø¯Ø§Ø« Ù†Ø§ÙØ°Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
document.getElementById('proceedToResults').addEventListener('click', function () {
    document.getElementById('reviewTestModal').classList.add('hidden');
    proceedWithResults();
});

document.getElementById('reviewAnswers').addEventListener('click', function () {
    document.getElementById('reviewTestModal').classList.add('hidden');
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ ØºÙŠØ± Ù…ÙØ¬Ø§Ø¨ Ø¹Ù„ÙŠÙ‡ Ø£Ùˆ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„
    const firstUnanswered = findFirstUnansweredQuestion();
    if (firstUnanswered !== -1) {
        currentQuestionIndex = firstUnanswered;
    } else {
        currentQuestionIndex = 0;
    }
    showQuestion(currentQuestionIndex);
});

document.getElementById('closeReviewModal').addEventListener('click', function () {
    document.getElementById('reviewTestModal').classList.add('hidden');
});

startTestBtn.addEventListener('click', function () {
    startTest();
});

continueTestBtn.addEventListener('click', function () {
    midwayBreak.classList.add('hidden');
});

// Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±


// Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹
function showOnboarding() {
    welcomeScreen.classList.add('hidden');
    onboardingScreen.classList.remove('hidden');
}

// Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
function startTest() {
    onboardingScreen.classList.add('hidden');
    testScreen.classList.remove('hidden');

    // Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    createProgressTimeline();

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
    startTimer();

    // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„
    showQuestion(0);
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
function createProgressTimeline() {
    const timeline = document.getElementById('progressTimeline');
    timeline.innerHTML = '';

    for (let i = currentQuestionIndex - 4; i <= (currentQuestionIndex > 4 ? currentQuestionIndex + 4 : 9); i++) {
        if (i <= originalQuestions.length && i > 0) {
            createDot(i)
        }
    }

    function createDot(i) {
        const dot = document.createElement('div');
        const isAnswered = answers[i - 1] !== undefined;
        const isCurrent = i === currentQuestionIndex + 1;

        let className = 'w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-bold cursor-pointer transition-all ';

        if (isAnswered) {
            className += 'bg-green-500 text-white border-green-500 hover:bg-green-600';
        } else if (isCurrent) {
            className += 'bg-indigo-600 text-white border-indigo-600 animate-pulse';
        } else {
            className += 'bg-white text-gray-400 border-gray-300 hover:border-gray-400';
        }
        dot.className = className;
        dot.textContent = i;
        dot.title = isAnswered ? 'ØªÙ…Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©' : (isCurrent ? 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ' : 'Ù„Ù… ØªØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©');
        dot.addEventListener('click', () => goToQuestion(i - 1));
        timeline.appendChild(dot);

    }


}

// Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø³Ø¤Ø§Ù„ Ù…Ø­Ø¯Ø¯
function goToQuestion(index) {
    if (index >= 0 && index < questions.length) {
        currentQuestionIndex = index;
        showQuestion(index);
    }
}

// Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ ØºÙŠØ± Ù…ÙØ¬Ø§Ø¨ Ø¹Ù„ÙŠÙ‡
function goToFirstUnansweredQuestion() {
    for (let i = 0; i < questions.length; i++) {
        if (answers[i] === undefined) {
            currentQuestionIndex = i;
            showQuestion(i);
            return;
        }
    }
}

// Ø¹Ø±Ø¶ Ø´Ø±Ø­ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„
function showQuestionTypeExplanation(questionType) {
    const explanationContainer = document.getElementById('questionTypeExplanation');
    let explanationHTML = '';

    switch (questionType) {
        case 'single':
            explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">ğŸ¯</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯</h4>
                                <p class="text-sm text-blue-600">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ùƒ Ù…Ù† Ø¨ÙŠÙ† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</p>
                            </div>
                        </div>
                    `;
            break;

        case 'multiple':
            explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">â˜‘ï¸</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯</h4>
                                <p class="text-sm text-blue-600">Ø§Ø®ØªØ± ÙƒÙ„ Ù…Ø§ ÙŠÙ†Ø·Ø¨Ù‚ Ø¹Ù„ÙŠÙƒØŒ Ø«Ù… Ø§Ø¶ØºØ· "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©"</p>
                            </div>
                        </div>
                    `;
            break;

        case 'ranking':
            explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">ğŸ“Š</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªÙØ¶ÙŠÙ„</h4>
                                <p class="text-sm text-blue-600">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± â†‘ â†“ Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù…Ù† Ø§Ù„Ø£ÙƒØ«Ø± ØªÙØ¶ÙŠÙ„Ø§Ù‹ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</p>
                            </div>
                        </div>
                    `;
            break;

        case 'rating':
            explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">â­</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ØªÙ‚ÙŠÙŠÙ… Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…</h4>
                                <p class="text-sm text-blue-600">Ù‚ÙŠÙ‘Ù… ÙƒÙ„ Ø¹Ø¨Ø§Ø±Ø© Ù…Ù† 1 Ø¥Ù„Ù‰ 5 Ù†Ø¬ÙˆÙ… Ø­Ø³Ø¨ Ø§Ù†Ø·Ø¨Ø§Ù‚Ù‡Ø§ Ø¹Ù„ÙŠÙƒ</p>
                            </div>
                        </div>
                    `;
            break;
    }

    explanationContainer.innerHTML = explanationHTML;
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
function showQuestion(index) {
    const question = questions[index] || "noQ";
    const intelligence = intelligences[question.type] || "noQ";
    const container = document.getElementById('questionContainer');

    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø®Ø±ÙˆØ¬
    container.classList.add('question-transition', 'question-exit');

    setTimeout(() => {
        // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø£ÙƒØ«Ø± Ø­ÙŠØ§Ø¯ÙŠØ©
        document.getElementById('currentIntelligenceIcon').textContent = 'ğŸ§ ';
        document.getElementById('currentIntelligenceName').textContent = 'Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©';
        // document.getElementById('currentIntelligenceIcon').textContent = intelligence.icon;
        // document.getElementById('currentIntelligenceName').textContent = intelligence.name;

        // ØªØ­Ø¯ÙŠØ« Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ§Ù„ØªÙ‚Ø¯Ù…
        document.getElementById('currentQuestion').textContent = index;
        const progress = ((index + 1) / (questions.length + 1)) * 100;
        document.getElementById('progressPercent').textContent = Math.round(progress) + '%';

        // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„ØªÙ‚Ø¯Ù…
        const circle = document.getElementById('progressCircle');
        const circumference = 2 * Math.PI * 20;
        const offset = circumference - (progress / 100) * circumference;
        circle.style.strokeDashoffset = offset;

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ Ø§Ù„ØªÙ‚Ø¯Ù…ÙŠ
        const answeredCount = Object.keys(answers).length;
        document.getElementById('progressText').textContent =
            `ØªÙ…Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ ${answeredCount} Ù…Ù† ${questions.length} Â· Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${questions.length - answeredCount} Ø³Ø¤Ø§Ù„Ù‹Ø§`;

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        createProgressTimeline();
        if (question == "noQ") {
            updateNavigationButtons()
            // container.innerHTML = `<div class="option-item"> <div class="rating-scale">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø§Ø³Ø¦Ù„Ø©</div></div>`;
            container.innerHTML = `<div class="option-item items-center"> <div class="rating-scale text-center" style="flex-direction: column;">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø§Ø³Ø¦Ù„Ø©</div></div>`;
            return;
        }

        // Ø¹Ø±Ø¶ Ø´Ø±Ø­ Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„
        // showQuestionTypeExplanation(question.questionType);

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
        container.innerHTML = createQuestionHTML(question, index);

        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¯Ø®ÙˆÙ„
        container.classList.remove('question-exit');
        container.classList.add('question-enter');

        setTimeout(() => {
            container.classList.remove('question-enter');
            container.classList.add('question-active');
        }, 50);

        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
        updateNavigationButtons()
        // document.getElementById('prevBtn').disabled = index === 0;
        // document.getElementById('nextBtn').disabled = !answers[index];

        // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        addQuestionEventListeners(question, index);

        // Ø§Ø³ØªØ±Ø§Ø­Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø·Ø±ÙŠÙ‚
        if (index === 20) {
            showMidwayBreak();
        }
    }, 200);
}

// Ø¥Ù†Ø´Ø§Ø¡ HTML Ù„Ù„Ø³Ø¤Ø§Ù„
function createQuestionHTML(question, index) {
    let html = `<h3 class="text-2xl md:text-3xl font-semibold mb-8 text-center leading-relaxed">${question.question}</h3>`;
    html += '<div class="space-y-6">';
    question.statements.forEach((statement, i) => {
        // if (!answers[index]) {
        //     answers[index] = new Array(1).fill(0);
        // }
        // // Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
        // answers[index][0] = Math.ceil(Math.random() * 5);


        const currentRating = answers[index] && answers[index][i] ? answers[index][i] : 0;
        html += `
                    <div class="option-item ${question.type === 'preference' ? 'preference-option' : ''}">
                        <div class="option-text">${statement.text}</div>
                        <div class="rating-scale">
                            <div class="rating-label">Ù„Ø§ ØªÙ†Ø·Ø¨Ù‚</div>
                            <div class="rating-buttons">
                                ${[1, 2, 3, 4, 5].map(rating => `
                                    <div class="rating-btn ${currentRating === rating ? 'selected' : ''}" 
                                         data-rating="${rating}"
                                         onclick="selectRating(${index}, ${rating})">
                                        ${rating}
                                    </div>
                                `).join('')}
                            </div>
                            <div class="rating-label">ØªÙ†Ø·Ø¨Ù‚ ØªÙ…Ø§Ù…Ø§Ù‹</div>
                        </div>
                    </div>
                `;

        // for (let star = 1; star <= 5; star++) {
        //     const filled = star <= currentRating ? 'text-yellow-400' : 'text-gray-300';
        //     html += `
        //                 <button type="button" class="star-btn text-3xl hover:text-yellow-400 transition-colors ${filled}" 
        //                         data-rating="${star}" data-statement="${i}">
        //                     â˜…
        //                 </button>
        //             `;
        // }
    });
    // html += '</div></div>';
    return html;
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø³Ø¤Ø§Ù„
function addQuestionEventListeners(question, index) {
    // initializeRatingSystem(question, index);
}
function selectRating(index, rating) {
    // answers[questionIndex][optionIndex] = rating;
    if (!answers[index]) {
        answers[index] = new Array(1).fill(0);
    }

    // Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
    answers[index][0] = rating;

    const ratingButtons = document.querySelectorAll('.rating-btn');
    ratingButtons.forEach((btn) => {
        const btnRating = parseInt(btn.getAttribute('data-rating'));
        btn.classList.toggle('selected', btnRating === rating);
    });
    saveAnswer()
    updateNavigationButtons();
    setTimeout(() => {
        if (index < questions.length && currentQuestionIndex !== (index + 1) && autoSubmit) {
            currentQuestionIndex = index + 1;
            showQuestion(currentQuestionIndex);
        } else if (index >= questions.length) {
            showReviewModal();
        }
    }, 300);

}
// document.getElementById('startBtn').click()
// document.getElementById('startTestBtn').click()

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø±
function initializeSortable(index) {
    const container = document.getElementById('rankingContainer');

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©
    container.addEventListener('click', function (e) {
        if (e.target.classList.contains('move-up-btn') || e.target.classList.contains('move-down-btn')) {
            const direction = e.target.dataset.direction;
            const itemIndex = parseInt(e.target.dataset.itemIndex);
            const items = Array.from(container.children);
            const currentItem = items[itemIndex];

            if (direction === 'up' && itemIndex > 0) {
                // ØªØ­Ø±ÙŠÙƒ Ù„Ù„Ø£Ø¹Ù„Ù‰
                const previousItem = items[itemIndex - 1];
                container.insertBefore(currentItem, previousItem);
            } else if (direction === 'down' && itemIndex < items.length - 1) {
                // ØªØ­Ø±ÙŠÙƒ Ù„Ù„Ø£Ø³ÙÙ„
                const nextItem = items[itemIndex + 1];
                container.insertBefore(nextItem, currentItem);
            }

            updateRankingNumbers();
            updateMoveButtons();
            saveRankingAnswer(index);
        }
    });
}

// ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©
function updateMoveButtons() {
    const container = document.getElementById('rankingContainer');
    const items = Array.from(container.children);

    items.forEach((item, index) => {
        const upBtn = item.querySelector('.move-up-btn');
        const downBtn = item.querySelector('.move-down-btn');

        // ØªØ­Ø¯ÙŠØ« data-item-index
        upBtn.dataset.itemIndex = index;
        downBtn.dataset.itemIndex = index;

        // ØªØ¹Ø·ÙŠÙ„/ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        if (index === 0) {
            upBtn.disabled = true;
            upBtn.classList.add('opacity-50', 'cursor-not-allowed');
        } else {
            upBtn.disabled = false;
            upBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }

        if (index === items.length - 1) {
            downBtn.disabled = true;
            downBtn.classList.add('opacity-50', 'cursor-not-allowed');
        } else {
            downBtn.disabled = false;
            downBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        }
    });
}

// ØªØ­Ø¯ÙŠØ« Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ±ØªÙŠØ¨
function updateRankingNumbers() {
    const items = document.querySelectorAll('.ranking-item');
    items.forEach((item, i) => {
        const numberSpan = item.querySelector('span');
        numberSpan.textContent = i + 1;
    });
}

// Ø­ÙØ¸ Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØªØ±ØªÙŠØ¨
function saveRankingAnswer(index) {
    const items = document.querySelectorAll('.ranking-item');
    answers[index] = Array.from(items).map(item => parseInt(item.dataset.index));
    saveAnswer();
    updateNavigationButtons();
}

// Ø­ÙØ¸ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„
function saveDefaultRanking(index) {
    if (!answers[index]) {
        // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø§Ø­ÙØ¸ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        answers[index] = [0, 1, 2, 3]; // Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ØµÙ„ÙŠ
        saveAnswer();
        updateNavigationButtons();
    }
}

// ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…
function initializeRatingSystem(question, index) {
    const starButtons = document.querySelectorAll('.star-btn');

    starButtons.forEach(button => {
        button.addEventListener('click', function () {
            const rating = parseInt(this.dataset.rating);
            const statementIndex = parseInt(this.dataset.statement);

            // ØªÙ‡ÙŠØ¦Ø© Ù…ØµÙÙˆÙØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
            if (!answers[index]) {
                answers[index] = new Array(question.statements.length).fill(0);
            }

            // Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
            answers[index][statementIndex] = rating;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ… Ø¨ØµØ±ÙŠØ§Ù‹
            const statementStars = document.querySelectorAll(`[data-statement="${statementIndex}"] .star-btn`);
            statementStars.forEach((star, i) => {
                if (i < rating) {
                    star.classList.remove('text-gray-300');
                    star.classList.add('text-yellow-400');
                } else {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                }
            });

            saveAnswer();
            updateNavigationButtons();

        });
    });

    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø¥Ø¬Ø§Ø¨Ø© Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
    if (answers[index] && answers[index].every(rating => rating > 0)) {
        const confirmBtn = document.getElementById('confirmRatingBtn');
        if (confirmBtn) {
            confirmBtn.disabled = false;
        }
    }
}

// Ø­ÙØ¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø©
function saveAnswer() {
    const message = document.getElementById('autoSaveMessage');
    message.style.opacity = '1';
    setTimeout(() => {
        message.style.opacity = '0';
    }, 600);
}

// Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
function loadSavedData() {
    const savedAnswers = localStorage.getItem('multipleIntelligenceAnswers');
    const savedProgress = localStorage.getItem('multipleIntelligenceProgress');

    if (savedAnswers && savedProgress) {
        const progress = JSON.parse(savedProgress);
        const timeDiff = Date.now() - progress.startTime;

        // Ø¥Ø°Ø§ Ù…Ø± Ø£Ù‚Ù„ Ù…Ù† 24 Ø³Ø§Ø¹Ø©ØŒ Ø§Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„
        if (timeDiff < 24 * 60 * 60 * 1000) {
            return {
                answers: JSON.parse(savedAnswers),
                progress: progress,
                canResume: true
            };
        }
    }

    return { canResume: false };
}

// Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
// function showAutoAdvanceIndicator() {
//     const indicator = document.getElementById('autoAdvanceIndicator');
//     indicator.style.opacity = '1';
// }

// // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
// function hideAutoAdvanceIndicator() {
//     const indicator = document.getElementById('autoAdvanceIndicator');
//     indicator.style.opacity = '0';
// }

// ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
function updateNavigationButtons() {
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    // const finishBtn = document.getElementById('finishTestBtn');

    prevBtn.disabled = currentQuestionIndex === 0;
    nextBtn.disabled = !answers[currentQuestionIndex] || autoSubmit;

    // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ 90% Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
    const answeredCount = Object.keys(answers).length;
    const completionPercentage = (answeredCount / questions.length) * 100;

    // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£Ø®ÙŠØ±
    if (currentQuestionIndex === questions.length) {
        nextBtn.textContent = 'ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±';
        nextBtn.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
        nextBtn.classList.add('bg-green-600', 'hover:bg-green-700');
        nextBtn.disabled = false;
    } else {
        nextBtn.textContent = 'Ø§Ù„ØªØ§Ù„ÙŠ';
        nextBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
        nextBtn.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
    }
}

// Ø£Ø­Ø¯Ø§Ø« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„
document.getElementById('prevBtn').addEventListener('click', function () {
    if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        showQuestion(currentQuestionIndex);
        updateNavigationButtons()
    }
});

document.getElementById('nextBtn').addEventListener('click', function () {
    if (currentQuestionIndex < questions.length) {
        currentQuestionIndex++;
        showQuestion(currentQuestionIndex);
    } else {
        showReviewModal();
    }
});
document.querySelector('.autoSubmit').addEventListener('click', function () {
    const autoSubmitText = document.getElementById('autoSubmitText');
    autoSubmit = !autoSubmit
    autoSubmitText.textContent = `ğŸ’¡ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ${autoSubmit ? 'Ù„ØªØ¹Ø·ÙŠÙ„' : 'Ù„ØªÙØ¹ÙŠÙ„'} Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©`
    autoSubmitText.classList.toggle("bg-blue-100", autoSubmit)
    updateNavigationButtons()
});

// Ø²Ø± Ø­ÙØ¸ Ù„Ø§Ø­Ù‚Ø§Ù‹
// document.getElementById('saveLaterBtn').addEventListener('click', function () {
//     // Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
//     saveAnswer();

//     // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙ‚Ø¯Ù…
//     const answeredCount = Object.keys(answers).length;
//     const progress = Math.round((answeredCount / questions.length) * 100);

//     if (confirm(`ØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ!\n\nØ§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ: ${answeredCount} Ù…Ù† ${questions.length} Ø³Ø¤Ø§Ù„Ø§Ù‹ (${progress}%)\n\nÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹ Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† Ø­ÙŠØ« ØªÙˆÙ‚ÙØª.\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø§Ù„Ø¢Ù†ØŸ`)) {
//         // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
//         testScreen.classList.add('hidden');
//         welcomeScreen.classList.remove('hidden');

//         // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
//         if (timerInterval) {
//             clearInterval(timerInterval);
//         }

//         // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ø§Ù„Ø­ÙØ¸
//         setTimeout(() => {
//             alert('âœ… ØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ Ø¨Ù†Ø¬Ø§Ø­!\n\nØ¹Ù†Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø©ØŒ Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±" ÙˆØ³ØªØ¬Ø¯ Ø®ÙŠØ§Ø± "Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±" Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ù† Ø­ÙŠØ« ØªÙˆÙ‚ÙØª.');
//         }, 500);
//     }
// });

// Ø²Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
// document.getElementById('finishTestBtn').addEventListener('click', function () {
//     showReviewModal();
// });

// // Ø²Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©
// document.getElementById('goToUnansweredBtn').addEventListener('click', function () {
//     goToFirstUnansweredQuestion();
// });

// Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
function startTimer() {
    timerInterval = setInterval(function () {
        const elapsed = Date.now() - startTime;
        const minutes = Math.floor(elapsed / 60000);
        const seconds = Math.floor((elapsed % 60000) / 1000);
        document.getElementById('timerDisplay').textContent =
            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }, 1000);
}

// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ø³ØªØ±Ø§Ø­Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø·Ø±ÙŠÙ‚
function showMidwayBreak() {
    midwayBreak.classList.remove('hidden');

    // ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªÙ†ÙØ³
    let breathCount = 0;
    const breathingText = document.getElementById('breathingText');

    const breathingInterval = setInterval(function () {
        if (breathCount < 5) { // 5 Ø¯ÙˆØ±Ø§Øª ØªÙ†ÙØ³
            if (breathCount % 2 === 0) {
                breathingText.textContent = `Ø´Ù‡ÙŠÙ‚... ${4 - (breathCount % 4)}`;
            } else {
                breathingText.textContent = `Ø²ÙÙŠØ±... ${4 - (breathCount % 4)}`;
            }
            breathCount++;
        } else {
            clearInterval(breathingInterval);
            breathingText.textContent = 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©!';
        }
    }, 1000);
}

// Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆØ²Ø§Ù† ÙˆØ§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ù…Ø­Ø³Ù†
function calculateResults() {
    const scores = {};
    const maxScores = {};
    const actualScores = {};
    const weightedMaxScores = {};
    const weightedActualScores = {};
    const questionCounts = {};
    const detailedBreakdown = {};
    const reliabilityScores = {};

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„ÙƒÙ„ Ù†ÙˆØ¹ Ø°ÙƒØ§Ø¡
    Object.keys(intelligences).forEach(type => {
        scores[type] = 0;
        maxScores[type] = 0;
        actualScores[type] = 0;
        weightedMaxScores[type] = 0;
        weightedActualScores[type] = 0;
        questionCounts[type] = 0;
        reliabilityScores[type] = 0;
        detailedBreakdown[type] = {
            questions: [],
            totalPossible: 0,
            totalAchieved: 0,
            answeredQuestions: 0,
            weightedPossible: 0,
            weightedAchieved: 0,
            averageReliability: 0,
            difficultyBreakdown: { easy: 0, medium: 0, hard: 0 }
        };
    });

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ù…Ø­Ø³Ù†
    questions.forEach((question, index) => {
        const questionType = question.type;
        const weight = question.weight || 1.0; // Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ 1.0
        const reliability = question.reliability || 0.8; // Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© 80%
        const difficulty = question.difficulty || 'medium';

        questionCounts[questionType]++;

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø³Ø¤Ø§Ù„ Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        let questionMaxScore = 0;
        let questionActualScore = 0;
        let isAnswered = false;

        switch (question.questionType) {
            case 'rating':
                    questionMaxScore = 4; // 5 Ù†Ø¬ÙˆÙ… Ù„ÙƒÙ„ Ø¹Ø¨Ø§Ø±Ø©

                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙØ¹Ù„ÙŠØ©
                    if (answers[index] !== undefined &&
                        answers[index] !== null &&
                        Array.isArray(answers[index]) &&
                        answers[index].length === question.statements.length) {

                        let validRatings = 0;
                        answers[index].forEach(rating => {
                            if (typeof rating === 'number' && rating >= 1 && rating <= 5) {
                                questionActualScore += rating-1;
                                validRatings++;
                            }
                        });

                        // Ø§Ø¹ØªØ¨Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…ÙØ¬Ø§Ø¨ Ø¹Ù„ÙŠÙ‡ Ø¥Ø°Ø§ ØªÙ… ØªÙ‚ÙŠÙŠÙ… 80% Ù…Ù† Ø§Ù„Ø¹Ø¨Ø§Ø±Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
                        isAnswered = validRatings >= Math.ceil(question.statements.length * 0.8);

                        if (!isAnswered && validRatings > 0) {
                            // Ø¥Ø¹Ø·Ø§Ø¡ Ù†Ù‚Ø§Ø· Ø¬Ø²Ø¦ÙŠØ© Ù„Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù†Ø§Ù‚ØµØ©
                            questionActualScore = (questionActualScore / validRatings) * question.statements.length * 0.7;
                            isAnswered = true;
                        }
                    }
                break;
        }

        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ
        questionActualScore = Math.max(0, Math.min(questionMaxScore, questionActualScore));

        // ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø·
        const reliableActualScore = questionActualScore * reliability;
        const reliableMaxScore = questionMaxScore * reliability;

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ù„Ù…Ø¬Ø§Ù…ÙŠØ¹ (Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© ÙˆØ§Ù„Ù…ÙˆØ²ÙˆÙ†Ø©)
        maxScores[questionType] += questionMaxScore;
        actualScores[questionType] += questionActualScore;
        weightedMaxScores[questionType] += questionMaxScore * weight;
        weightedActualScores[questionType] += reliableActualScore * weight;
        reliabilityScores[questionType] += reliability;

        // Ø­ÙØ¸ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ù…Ø­Ø³Ù†
        detailedBreakdown[questionType].questions.push({
            questionIndex: index + 1,
            questionType: question.questionType,
            maxScore: questionMaxScore,
            actualScore: questionActualScore,
            weight: weight,
            reliability: reliability,
            difficulty: difficulty,
            weightedMaxScore: questionMaxScore * weight,
            weightedActualScore: reliableActualScore * weight,
            isAnswered: isAnswered,
            answer: answers[index]
        });

        if (isAnswered) {
            detailedBreakdown[questionType].answeredQuestions++;
            detailedBreakdown[questionType].difficultyBreakdown[difficulty]++;
        }

        detailedBreakdown[questionType].totalPossible += questionMaxScore;
        detailedBreakdown[questionType].totalAchieved += questionActualScore;
        detailedBreakdown[questionType].weightedPossible += questionMaxScore * weight;
        detailedBreakdown[questionType].weightedAchieved += reliableActualScore * weight;
    });

    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¥Ù„Ù‰ Ù†Ø³Ø¨ Ù…Ø¦ÙˆÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ù…Ø­Ø³Ù†
    Object.keys(actualScores).forEach(type => {
        // Ø­Ø³Ø§Ø¨ Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡
        const avgReliability = questionCounts[type] > 0 ?
            reliabilityScores[type] / questionCounts[type] : 0;
        detailedBreakdown[type].averageReliability = Math.round(avgReliability * 100) / 100;

        if (weightedMaxScores[type] > 0 && detailedBreakdown[type].answeredQuestions > 0) {
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø§Ù„Ù…ÙˆØ²ÙˆÙ†Ø© Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©
            const weightedPercentage = (weightedActualScores[type] / weightedMaxScores[type]) * 100;

            // ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø§Ù…Ù„ ØªØµØ­ÙŠØ­ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
            const difficultyFactor = calculateDifficultyFactor(detailedBreakdown[type].difficultyBreakdown, detailedBreakdown[type].answeredQuestions);

            // ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø§Ù…Ù„ ØªØµØ­ÙŠØ­ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©
            const reliabilityFactor = Math.min(1.0, avgReliability + 0.1); // Ù…ÙƒØ§ÙØ£Ø© ØµØºÙŠØ±Ø© Ù„Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©

            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
            let finalScore = weightedPercentage * difficultyFactor * reliabilityFactor;

            // ØªÙ‚Ø±ÙŠØ¨ Ù„Ø£Ù‚Ø±Ø¨ Ø¹ÙØ´Ø± Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¯Ù‚Ø©
            scores[type] = Math.round(finalScore * 10) / 10;

            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù†Ø³Ø¨Ø© ÙÙŠ Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ØµØ­ÙŠØ­
            scores[type] = Math.max(0, Math.min(100, scores[type]));

            // ØªØ·Ø¨ÙŠÙ‚ ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø© (Ø£Ù‚Ù„ Ù‚Ø³ÙˆØ© Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯)
            const answerRate = detailedBreakdown[type].answeredQuestions / questionCounts[type];
            if (answerRate < 1.0 && answerRate >= 0.6) {
                // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø© (Ø£Ù‚Ù„ Ø¹Ù‚ÙˆØ¨Ø©)
                const penalty = (1 - answerRate) * 0.2; // Ø¹Ù‚ÙˆØ¨Ø© 20% ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰
                scores[type] = Math.round((scores[type] * (1 - penalty)) * 10) / 10;
            } else if (answerRate < 0.6) {
                // Ø¥Ø°Ø§ Ø£ÙØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø£Ù‚Ù„ Ù…Ù† 60% Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©ØŒ ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù‚ÙˆØ¨Ø© Ø£ÙƒØ¨Ø±
                const penalty = Math.min(0.5, (1 - answerRate) * 0.8);
                scores[type] = Math.round((scores[type] * (1 - penalty)) * 10) / 10;
            }
        } else {
            scores[type] = 0;
        }
    });

    // Ø¯Ø§Ù„Ø© Ø­Ø³Ø§Ø¨ Ø¹Ø§Ù…Ù„ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
    function calculateDifficultyFactor(difficultyBreakdown, totalAnswered) {
        if (totalAnswered === 0) return 1.0;

        const easyWeight = 0.9;   // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³Ù‡Ù„Ø© ØªØ­ØµÙ„ Ø¹Ù„Ù‰ ÙˆØ²Ù† Ø£Ù‚Ù„ Ù‚Ù„ÙŠÙ„Ø§Ù‹
        const mediumWeight = 1.0; // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ²Ù† Ø¹Ø§Ø¯ÙŠ
        const hardWeight = 1.2;   // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØµØ¹Ø¨Ø© ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ£Ø©

        const weightedTotal = (difficultyBreakdown.easy * easyWeight) +
            (difficultyBreakdown.medium * mediumWeight) +
            (difficultyBreakdown.hard * hardWeight);

        return Math.min(1.15, weightedTotal / totalAnswered); // Ø­Ø¯ Ø£Ù‚ØµÙ‰ 15% Ù…ÙƒØ§ÙØ£Ø©
    }

    // Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± ØªØ´Ø®ÙŠØµÙŠ Ø´Ø§Ù…Ù„
    const diagnostics = {
        summary: {
            totalQuestions: questions.length,
            answeredQuestions: Object.keys(answers).length,
            completionRate: Math.round((Object.keys(answers).length / questions.length) * 100)
        },
        byIntelligenceType: {},
        validation: {
            errors: [],
            warnings: [],
            isReliable: true
        },
        statistics: {}
    };

    // Ù…ØªÙˆØ³Ø·Ø§Øª Ø¹Ø§Ù…Ø© Ù…Ø±Ø¬Ø¹ÙŠØ© Ù„ÙƒÙ„ Ù†ÙˆØ¹ Ø°ÙƒØ§Ø¡ (Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯Ø±Ø§Ø³Ø§Øª Ø³Ø§Ø¨Ù‚Ø©)
    const generalAverages = {
        linguistic: 62,
        logical: 58,
        spatial: 55,
        bodily: 60,
        musical: 45,
        interpersonal: 68,
        intrapersonal: 52,
        naturalist: 48
    };

    // ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ù†ÙˆØ¹ Ø°ÙƒØ§Ø¡ Ù…Ø¹ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø§Øª
    Object.keys(intelligences).forEach(type => {
        const breakdown = detailedBreakdown[type];
        const generalAvg = generalAverages[type];
        const scoreDifference = scores[type] - generalAvg;

        diagnostics.byIntelligenceType[type] = {
            name: intelligences[type].name,
            totalQuestions: questionCounts[type],
            answeredQuestions: breakdown.answeredQuestions,
            completionRate: Math.round((breakdown.answeredQuestions / questionCounts[type]) * 100),
            maxPossibleScore: maxScores[type],
            actualScore: actualScores[type],
            weightedMaxScore: weightedMaxScores[type],
            weightedActualScore: weightedActualScores[type],
            finalPercentage: scores[type],
            efficiency: maxScores[type] > 0 ? Math.round((actualScores[type] / maxScores[type]) * 100) : 0,
            averageReliability: breakdown.averageReliability,
            difficultyBreakdown: breakdown.difficultyBreakdown,
            // Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ø§Ù…
            generalAverage: generalAvg,
            differenceFromAverage: Math.round(scoreDifference * 10) / 10,
            performanceLevel: scoreDifference > 15 ? 'Ù…Ù…ØªØ§Ø²' :
                scoreDifference > 5 ? 'Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹' :
                    scoreDifference > -5 ? 'Ù…ØªÙˆØ³Ø·' :
                        scoreDifference > -15 ? 'Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ù…ØªÙˆØ³Ø·' : 'ÙŠØ­ØªØ§Ø¬ ØªØ·ÙˆÙŠØ±'
        };
    });

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
    const allScores = Object.values(scores);
    const validScores = allScores.filter(score => score > 0);

    if (validScores.length > 0) {
        const sum = validScores.reduce((a, b) => a + b, 0);
        const mean = sum / validScores.length;
        const variance = validScores.reduce((acc, score) => acc + Math.pow(score - mean, 2), 0) / validScores.length;
        const standardDeviation = Math.sqrt(variance);

        diagnostics.statistics = {
            mean: Math.round(mean * 10) / 10,
            median: validScores.sort((a, b) => a - b)[Math.floor(validScores.length / 2)],
            standardDeviation: Math.round(standardDeviation * 10) / 10,
            min: Math.min(...validScores),
            max: Math.max(...validScores),
            range: Math.max(...validScores) - Math.min(...validScores)
        };
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    Object.keys(scores).forEach(type => {
        const typeData = diagnostics.byIntelligenceType[type];

        // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if (typeData.completionRate < 50) {
            diagnostics.validation.warnings.push(`Ù†Ø³Ø¨Ø© Ø¥ÙƒÙ…Ø§Ù„ Ù…Ù†Ø®ÙØ¶Ø© Ù„Ù„Ø°ÙƒØ§Ø¡ ${intelligences[type].name}: ${typeData.completionRate}%`);
        }

        // ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ù†Ø·Ù‚ÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        if (scores[type] === 0 && typeData.answeredQuestions > 0) {
            diagnostics.validation.errors.push(`Ù†ØªÙŠØ¬Ø© ØµÙØ± ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠØ© Ù„Ù„Ø°ÙƒØ§Ø¡ ${intelligences[type].name} Ø±ØºÙ… ÙˆØ¬ÙˆØ¯ Ø¥Ø¬Ø§Ø¨Ø§Øª`);
        }

        if (scores[type] > 95 && typeData.completionRate === 100) {
            diagnostics.validation.warnings.push(`Ù†ØªÙŠØ¬Ø© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø°ÙƒØ§Ø¡ ${intelligences[type].name}: ${scores[type]}%`);
        }
    });

    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø§Ù…
    if (diagnostics.statistics.mean) {
        if (diagnostics.statistics.mean < 15) {
            diagnostics.validation.warnings.push(`Ù…ØªÙˆØ³Ø· Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ù†Ø®ÙØ¶ Ø¬Ø¯Ø§Ù‹: ${diagnostics.statistics.mean}%`);
            diagnostics.validation.isReliable = false;
        }

        if (diagnostics.statistics.mean > 85) {
            diagnostics.validation.warnings.push(`Ù…ØªÙˆØ³Ø· Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø±ØªÙØ¹ Ø¬Ø¯Ø§Ù‹: ${diagnostics.statistics.mean}%`);
        }

        if (diagnostics.statistics.standardDeviation < 3) {
            diagnostics.validation.warnings.push(`ØªØ´Ø§Ø¨Ù‡ ÙƒØ¨ÙŠØ± ÙÙŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‚Ø¯ ÙŠØ´ÙŠØ± Ù„Ø¹Ø¯Ù… Ø¯Ù‚Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª`);
        }
    }

    // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ´Ø®ÙŠØµÙŠ Ø§Ù„Ø´Ø§Ù…Ù„
    console.group('ğŸ” ØªÙ‚Ø±ÙŠØ± ØªØ´Ø®ÙŠØµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ø§Ù…Ù„');
    console.log('ğŸ“Š Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ø§Ù…:', diagnostics.summary);
    console.log('ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', diagnostics.statistics);
    console.log('ğŸ¯ ØªÙØ§ØµÙŠÙ„ ÙƒÙ„ Ù†ÙˆØ¹ Ø°ÙƒØ§Ø¡:', diagnostics.byIntelligenceType);

    if (diagnostics.validation.errors.length > 0) {
        console.error('âŒ Ø£Ø®Ø·Ø§Ø¡:', diagnostics.validation.errors);
    }

    if (diagnostics.validation.warnings.length > 0) {
        console.warn('âš ï¸ ØªØ­Ø°ÙŠØ±Ø§Øª:', diagnostics.validation.warnings);
    }

    console.log('âœ… Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬:', diagnostics.validation.isReliable ? 'Ø¹Ø§Ù„ÙŠØ©' : 'Ù…Ù†Ø®ÙØ¶Ø©');
    console.groupEnd();

    // Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    return {
        scores: scores,
        diagnostics: diagnostics,
        isReliable: diagnostics.validation.isReliable
    };
}

// Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
function showReviewModal() {
    const totalQuestions = questions.length;
    const answeredQuestions = Object.keys(answers).length;

    // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
    createReviewSummary();

    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø© Ø¥Ù† ÙˆØ¬Ø¯Øª
    if (answeredQuestions < totalQuestions) {
        showUnansweredQuestions();
    } else {
        document.getElementById('unansweredSection').classList.add('hidden');
    }

    document.getElementById('reviewTestModal').classList.remove('hidden');
    document.getElementById('reviewTestModal').classList.add('flex');
}

// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
function createReviewSummary() {
    const reviewSummary = document.getElementById('reviewSummary');
    const intelligenceTypes = Object.keys(intelligences);

    reviewSummary.innerHTML = intelligenceTypes.map(type => {
        const intel = intelligences[type];
        const questionsOfType = questions.filter(q => q.type === type);
        const answeredOfType = questionsOfType.filter((q, index) => {
            const questionIndex = questions.indexOf(q);
            return answers[questionIndex] !== undefined;
        }).length;

        const percentage = questionsOfType.length > 0 ?
            Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

        return `
                    <div class="text-center p-3 bg-white rounded-lg border border-gray-200">
                        <div class="text-2xl mb-1">${intel.icon}</div>
                        <div class="text-xs font-semibold text-gray-700 mb-1">${intel.name}</div>
                        <div class="text-sm font-bold" style="color: ${intel.color}">
                            ${answeredOfType}/${questionsOfType.length}
                        </div>
                        <div class="text-xs text-gray-500">${percentage}%</div>
                    </div>
                `;
    }).join('');
}

// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©
function showUnansweredQuestions() {
    const unansweredSection = document.getElementById('unansweredSection');
    const unansweredList = document.getElementById('unansweredList');

    const unanswered = [];
    for (let i = 0; i < questions.length; i++) {
        if (answers[i] === undefined) {
            unanswered.push(i + 1);
        }
    }

    if (unanswered.length > 0) {
        unansweredSection.classList.remove('hidden');

        const displayList = unanswered.length <= 15 ?
            unanswered.join('ØŒ ') :
            unanswered.slice(0, 15).join('ØŒ ') + ` Ùˆ${unanswered.length - 15} Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰`;

        unansweredList.innerHTML = `
                    <p class="mb-2">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ù… ØªØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„ÙŠÙ‡Ø§:</p>
                    <div class="bg-white rounded-lg p-3 border border-yellow-300">
                        <strong>Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</strong> ${displayList}
                    </div>
                    <p class="mt-2 text-xs">ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª" Ù„Ù„Ø¹ÙˆØ¯Ø© ÙˆØ¥ÙƒÙ…Ø§Ù„Ù‡Ø§</p>
                `;
    }
}

// Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ ØºÙŠØ± Ù…ÙØ¬Ø§Ø¨ Ø¹Ù„ÙŠÙ‡
function findFirstUnansweredQuestion() {
    for (let i = 0; i < questions.length; i++) {
        if (answers[i] === undefined) {
            return i;
        }
    }
    return -1;
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù…Ø­Ø¯Ø«Ø©)
function showResults() {
    showReviewModal();
}

// Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØºÙŠØ± Ø§Ù„Ù…ÙƒØªÙ…Ù„
function showIncompleteTestModal(answeredQuestions, totalQuestions) {
    const remainingQuestions = totalQuestions - answeredQuestions;
    const percentage = Math.round((answeredQuestions / totalQuestions) * 100);

    // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©
    const unansweredQuestions = [];
    for (let i = 0; i < totalQuestions; i++) {
        if (answers[i] === undefined) {
            unansweredQuestions.push(i + 1);
        }
    }

    const unansweredList = unansweredQuestions.length <= 10 ?
        unansweredQuestions.join('ØŒ ') :
        unansweredQuestions.slice(0, 10).join('ØŒ ') + ` ÙˆØ£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰...`;

    document.getElementById('incompleteMessage').innerHTML = `
                ØªÙ…Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ <strong>${answeredQuestions}</strong> Ù…Ù† <strong>${totalQuestions}</strong> Ø³Ø¤Ø§Ù„Ø§Ù‹<br>
                <span class="text-sm text-gray-500">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„: ${percentage}% â€¢ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${remainingQuestions} Ø£Ø³Ø¦Ù„Ø©</span><br>
                <div class="mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                    <div class="text-sm font-semibold text-yellow-800 mb-1">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©:</div>
                    <div class="text-sm text-yellow-700">${unansweredList}</div>
                </div>
            `;

    document.getElementById('incompleteTestModal').classList.remove('hidden');
    document.getElementById('incompleteTestModal').classList.add('flex');
}

// Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù…Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„Ø¯Ù‚Ø©
function proceedWithResults() {
    clearInterval(timerInterval);
    // testScreen.classList.add('hidden');
    // resultsScreen.classList.remove('hidden');

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø´Ø§Ù…Ù„
    const resultsData = calculateResults();
    const scores = resultsData.scores;
    const diagnostics = resultsData.diagnostics;
    const isReliable = resultsData.isReliable;

    // Ø¹Ø±Ø¶ ØªØ­Ø°ÙŠØ± Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØºÙŠØ± Ù…ÙˆØ«ÙˆÙ‚Ø©
    if (!isReliable) {
        console.warn('âš ï¸ ØªØ­Ø°ÙŠØ±: Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‚Ø¯ ØªÙƒÙˆÙ† ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø³Ø¨Ø¨ Ø¹Ø¯Ù… Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª');

        // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ†Ø¨ÙŠÙ‡ Ø¨ØµØ±ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        const warningDiv = document.createElement('div');
        warningDiv.className = 'bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 mx-4';
        warningDiv.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">âš ï¸</span>
                        <div>
                            <h4 class="font-semibold text-yellow-800">ØªÙ†Ø¨ÙŠÙ‡ Ø­ÙˆÙ„ Ø¯Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h4>
                            <p class="text-yellow-700 text-sm mt-1">
                                Ø¨Ø¹Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‚Ø¯ ØªÙƒÙˆÙ† ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø³Ø¨Ø¨ Ø¹Ø¯Ù… Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©. 
                                Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ… Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©ØŒ ÙŠÙÙ†ØµØ­ Ø¨Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©.
                            </p>
                        </div>
                    </div>
                `;
        resultsScreen.insertBefore(warningDiv, resultsScreen.firstChild.nextSibling);
    }

    // Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    document.getElementById('resultUserName').textContent = currentUser;

    // Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ù†Ù…Ø· Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª
    showIntelligencePattern(scores);

    // Ø¹Ø±Ø¶ Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ø§Ù…
    showAverageComparison(scores, diagnostics);

    // Ø¹Ø±Ø¶ Ø£Ù‚Ù„ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    showLowestIntelligences(scores);

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
    createResultsChart(scores);

    // Ø¹Ø±Ø¶ Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    showTopIntelligences(scores);

    // Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
    showDetailedResults(scores);

    // Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
    showPersonalRecommendations(scores);

    // Ø¹Ø±Ø¶ Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±
    showDevelopmentPlan(scores);

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø­ØµØ§Ø¦ÙŠØ© ÙÙŠ Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø© Ù„Ù„Ù…Ù‡ØªÙ…ÙŠÙ†
    if (diagnostics.statistics.mean) {
        const statsDiv = document.createElement('div');
        statsDiv.className = 'bg-gray-50 border border-gray-200 rounded-lg p-4 mt-8 mx-4';
        statsDiv.innerHTML = `
                    <details class="cursor-pointer">
                        <summary class="font-semibold text-gray-700 hover:text-gray-900">
                            ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªÙØµÙŠÙ„ÙŠØ© (Ù„Ù„Ù…Ù‡ØªÙ…ÙŠÙ†)
                        </summary>
                        <div class="mt-3 grid md:grid-cols-3 gap-4 text-sm">
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ø§Ù…</div>
                                <div class="text-lg font-bold text-indigo-600">${diagnostics.statistics.mean}%</div>
                            </div>
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">Ø§Ù„Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠ</div>
                                <div class="text-lg font-bold text-blue-600">${diagnostics.statistics.standardDeviation}</div>
                            </div>
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„</div>
                                <div class="text-lg font-bold text-green-600">${diagnostics.summary.completionRate}%</div>
                            </div>
                        </div>
                    </details>
                `;
        resultsScreen.appendChild(statsDiv);
    }

    shareResults()
}



// Ø¹Ø±Ø¶ Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ø§Ù…
function showAverageComparison(scores, diagnostics) {
    const averageComparison = document.getElementById('averageComparison');

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ù‚ Ø¹Ù† Ø§Ù„Ù…ØªÙˆØ³Ø·
    const comparisons = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            ...diagnostics.byIntelligenceType[key]
        }))
        .sort((a, b) => b.differenceFromAverage - a.differenceFromAverage);

    averageComparison.innerHTML = comparisons.map(intel => {
        const isAboveAverage = intel.differenceFromAverage > 0;
        const difference = Math.abs(intel.differenceFromAverage);
        const arrowIcon = isAboveAverage ? 'â†—ï¸' : 'â†˜ï¸';
        const colorClass = isAboveAverage ? 'text-green-600' : 'text-orange-600';
        const bgClass = isAboveAverage ? 'bg-green-50 border-green-200' : 'bg-orange-50 border-orange-200';

        return `
                    <div class="bg-white rounded-xl p-4 border-2 ${bgClass} hover:shadow-lg transition-shadow">
                        <div class="text-center mb-3">
                            <div class="text-3xl mb-2">${intel.icon}</div>
                            <h4 class="font-semibold text-gray-800 text-sm">${intel.name}</h4>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-600">Ù†ØªÙŠØ¬ØªÙƒ:</span>
                                <span class="font-bold" style="color: ${intel.color}">${intel.score}%</span>
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-600">Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ø§Ù…:</span>
                                <span class="font-semibold text-gray-700">${intel.generalAverage}%</span>
                            </div>
                            
                            <div class="border-t pt-2">
                                <div class="flex items-center justify-center gap-2">
                                    <span class="text-lg">${arrowIcon}</span>
                                    <span class="font-bold ${colorClass}">
                                        ${isAboveAverage ? '+' : '-'}${difference}%
                                    </span>
                                </div>
                                <div class="text-center mt-1">
                                    <span class="text-xs px-2 py-1 rounded-full ${bgClass} ${colorClass} font-medium">
                                        ${intel.performanceLevel}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
    }).join('');
}

// Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ù†Ù…Ø· Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª
function showIntelligencePattern(scores) {
    const intelligencePattern = document.getElementById('intelligencePattern');

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key]
        }))
        .sort((a, b) => b.score - a.score);

    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø¹Ø§Ù…
    const topThree = sortedIntelligences.slice(0, 3);
    const averageScore = Object.values(scores).reduce((sum, score) => sum + score, 0) / 8;

    let patternDescription = '';
    if (averageScore >= 70) {
        patternDescription = 'Ù„Ø¯ÙŠÙƒ ØªÙˆØ§Ø²Ù† Ù…Ù…ØªØ§Ø² ÙÙŠ Ù…Ø¹Ø¸Ù… Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª! ğŸŒŸ';
    } else if (averageScore >= 50) {
        patternDescription = 'Ù„Ø¯ÙŠÙƒ ØªÙˆØ²ÙŠØ¹ Ù…ØªÙˆØ§Ø²Ù† Ù…Ø¹ ØªÙ…ÙŠØ² ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª ğŸ‘';
    } else {
        patternDescription = 'Ù„Ø¯ÙŠÙƒ Ù†Ù‚Ø§Ø· Ù‚ÙˆØ© Ù…Ø­Ø¯Ø¯Ø© ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„ÙŠÙ‡Ø§ ÙˆØªØ·ÙˆÙŠØ±Ù‡Ø§ ğŸ’ª';
    }

    intelligencePattern.innerHTML = `
                <div class="mb-6">
                    <p class="text-xl text-indigo-700 font-semibold mb-4">${patternDescription}</p>
                    <div class="bg-white rounded-xl p-4 border border-indigo-200">
                        <h4 class="font-semibold text-gray-800 mb-3">Ø£Ù‚ÙˆÙ‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª Ù„Ø¯ÙŠÙƒ:</h4>
                        <div class="flex flex-wrap justify-center gap-4">
                            ${topThree.map((intel, index) => `
                                <div class="flex items-center gap-2 bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-2 rounded-full border border-indigo-300">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <span class="font-semibold text-indigo-800">${intel.name}</span>
                                    <span class="bg-indigo-600 text-white px-2 py-1 rounded-full text-sm font-bold">${intel.score}%</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-4 md:grid-cols-8 gap-2">
                    ${sortedIntelligences.map(intel => `
                        <div class="text-center">
                            <div class="w-16 h-16 mx-auto mb-2 rounded-full flex items-center justify-center text-2xl" 
                                 style="background-color: ${intel.color}20; border: 2px solid ${intel.color}">
                                ${intel.icon}
                            </div>
                            <div class="text-xs font-bold" style="color: ${intel.color}">${intel.score}%</div>
                            <div class="text-xs text-gray-600 mt-1">${intel.name}</div>
                        </div>
                    `).join('')}
                </div>
            `;
}

// Ø¹Ø±Ø¶ Ø£Ù‚Ù„ 3 Ø°ÙƒØ§Ø¡Ø§Øª
function showLowestIntelligences(scores) {
    const lowestIntelligences = document.getElementById('lowestIntelligences');

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ù…Ù† Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ø£Ø¹Ù„Ù‰
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => a.score - b.score)
        .slice(0, 3);

    lowestIntelligences.innerHTML = sortedIntelligences.map((intel, index) => `
                <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border-l-4 border-gray-400 hover:shadow-lg transition-shadow">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${intel.icon}</div>
                        <h4 class="text-lg font-bold text-gray-800">${intel.name}</h4>
                        <div class="flex items-center justify-center gap-2 mt-2">
                            <div class="bg-gray-200 rounded-full h-3 w-20">
                                <div class="h-3 rounded-full bg-gray-400 transition-all duration-1000" style="width: ${intel.score}%"></div>
                            </div>
                            <span class="text-lg font-bold text-gray-600">${intel.score}%</span>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 mb-4">
                        <h5 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                            <span class="text-sm">ğŸ“</span> Ù…Ø§ Ù‡ÙˆØŸ
                        </h5>
                        <p class="text-sm text-gray-600 leading-relaxed">
                            ${intel.details.description.substring(0, 120)}...
                        </p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h5 class="font-semibold text-blue-700 mb-3 flex items-center gap-2">
                            <span class="text-sm">ğŸš€</span> ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ·ÙˆÙŠØ±
                        </h5>
                        <ul class="space-y-2">
                            ${intel.details.learningMethods.slice(0, 3).map(method => `
                                <li class="flex items-start gap-2 text-sm text-blue-700">
                                    <span class="text-blue-500 font-bold mt-0.5">â€¢</span>
                                    <span>${method}</span>
                                </li>
                            `).join('')}
                        </ul>
                        
                        <div class="mt-3 pt-3 border-t border-blue-200">
                            <h6 class="font-semibold text-blue-600 mb-2 text-sm">Ø£Ù†Ø´Ø·Ø© Ù…Ù‚ØªØ±Ø­Ø©:</h6>
                            <div class="flex flex-wrap gap-1">
                                ${intel.details.activities.slice(0, 2).map(activity => `
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${activity}</span>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
}

// Ø¹Ø±Ø¶ Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
function showTopIntelligences(scores) {
    const topIntelligences = document.getElementById('topIntelligences');

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);

    topIntelligences.innerHTML = sortedIntelligences.map((intel, index) => {
        const medalColors = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
        const gradients = [
            'from-yellow-50 to-amber-50 border-yellow-400',
            'from-gray-50 to-slate-50 border-gray-400',
            'from-orange-50 to-amber-50 border-orange-400'
        ];

        return `
                    <div class="bg-gradient-to-r ${gradients[index]} rounded-xl border-l-4 p-6 shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="text-4xl mr-4">${medalColors[index]}</div>
                            <div class="text-4xl mr-4">${intel.icon}</div>
                            <div class="flex-1">
                                <h4 class="text-xl font-bold text-gray-800">${intel.name}</h4>
                                <div class="flex items-center gap-2 mt-2">
                                    <div class="bg-gray-200 rounded-full h-4 flex-1">
                                        <div class="h-4 rounded-full transition-all duration-1000" style="width: ${intel.score}%; background-color: ${intel.color}"></div>
                                    </div>
                                    <span class="text-xl font-bold" style="color: ${intel.color}">${intel.score}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 mb-4">
                            <p class="text-gray-700 leading-relaxed">${intel.details.description}</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-lg p-3">
                                <h5 class="font-semibold text-green-700 mb-2 flex items-center gap-2">
                                    <span>ğŸ’ª</span> Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©
                                </h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.strengths.slice(0, 2).map(strength => `<li>â€¢ ${strength}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-3">
                                <h5 class="font-semibold text-blue-700 mb-2 flex items-center gap-2">
                                    <span>ğŸ’¼</span> Ù…Ù‡Ù† Ù…Ù†Ø§Ø³Ø¨Ø©
                                </h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.careers.slice(0, 3).map(career => `<li>â€¢ ${career}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
    }).join('');
}

// Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
function showDetailedResults(scores) {
    const detailedResults = document.getElementById('detailedResults');

    // ØªØ±ØªÙŠØ¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => b.score - a.score);

    detailedResults.innerHTML = sortedIntelligences.map((intel, index) => {
        const isTopThree = index < 3;
        const borderClass = isTopThree ? 'border-l-4' : 'border-l-2';
        const bgClass = isTopThree ? 'from-indigo-50 to-purple-50' : 'from-gray-50 to-white';

        return `
                    <div class="bg-gradient-to-r ${bgClass} rounded-xl ${borderClass} p-6 shadow-lg transition-all hover:shadow-xl" style="border-color: ${intel.color}">
                        <!-- Header -->
                        <div class="flex items-center mb-6">
                            <div class="text-4xl mr-4">${intel.icon}</div>
                            <div class="flex-1">
                                <div class="flex items-center gap-3 mb-2">
                                    <h4 class="text-2xl font-bold" style="color: ${intel.color}">${intel.name}</h4>
                                    ${isTopThree ? `<span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-semibold">Ø£Ø¹Ù„Ù‰ ${index + 1}</span>` : ''}
                                </div>
                                <div class="flex items-center gap-3">
                                    <div class="bg-gray-200 rounded-full h-5 flex-1">
                                        <div class="h-5 rounded-full transition-all duration-1000" style="width: ${intel.score}%; background-color: ${intel.color}"></div>
                                    </div>
                                    <span class="text-2xl font-bold" style="color: ${intel.color}">${intel.score}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Description -->
                        <div class="bg-white rounded-lg p-4 mb-6 border border-gray-100">
                            <h5 class="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                                <span class="text-lg">ğŸ“</span> ÙˆØµÙ Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡
                            </h5>
                            <p class="text-gray-700 leading-relaxed">${intel.details.description}</p>
                        </div>
                        
                        <!-- Details Grid -->
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Learning Methods -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-green-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">ğŸ“š</span> Ø·Ø±Ù‚ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.learningMethods.map(method => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-green-500 font-bold mt-1">â€¢</span>
                                            <span>${method}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <!-- Activities -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-blue-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">ğŸ¯</span> Ø£Ù†Ø´Ø·Ø© ÙˆÙ‡ÙˆØ§ÙŠØ§Øª Ù…Ù‚ØªØ±Ø­Ø©
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.activities.map(activity => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-blue-500 font-bold mt-1">â€¢</span>
                                            <span>${activity}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <!-- Careers -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-purple-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">ğŸ’¼</span> Ù…Ù‡Ù† ÙˆØªØ®ØµØµØ§Øª Ù…Ù†Ø§Ø³Ø¨Ø©
                                </h5>
                                <div class="flex flex-wrap gap-2">
                                    ${intel.details.careers.map(career => `
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">${career}</span>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <!-- Strengths -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-orange-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">ğŸ’ª</span> Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.strengths.map(strength => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-orange-500 font-bold mt-1">â€¢</span>
                                            <span>${strength}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                        
                        ${isTopThree ? `
                            <div class="mt-6 bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-lg p-4">
                                <h5 class="font-semibold text-amber-800 mb-2 flex items-center gap-2">
                                    <span class="text-lg">ğŸ’¡</span> Ù†ØµØ§Ø¦Ø­ Ø®Ø§ØµØ© Ù„ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø°ÙƒØ§Ø¡
                                </h5>
                                <p class="text-amber-700 text-sm leading-relaxed">
                                    Ù‡Ø°Ø§ Ø£Ø­Ø¯ Ø£Ù‚ÙˆÙ‰ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ù„Ø¯ÙŠÙƒ! Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ù…Ù‡Ù† Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø£Ø¹Ù„Ø§Ù‡ØŒ ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø·Ø±Ù‚ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø¯Ø±Ø§Ø³ØªÙƒ ÙˆØ¹Ù…Ù„Ùƒ.
                                </p>
                            </div>
                        ` : ''}
                    </div>
                `;
    }).join('');
}

// Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
function showPersonalRecommendations(scores) {
    const personalRecommendations = document.getElementById('personalRecommendations');

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    const topThree = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);

    // Ø¬Ù…Ø¹ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ù…Ù† Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    const allLearningMethods = [...new Set(topThree.flatMap(intel => intel.details.learningMethods))];
    const allActivities = [...new Set(topThree.flatMap(intel => intel.details.activities))];
    const allCareers = [...new Set(topThree.flatMap(intel => intel.details.careers))];

    personalRecommendations.innerHTML = `
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-indigo-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸ“š</span> Ø·Ø±Ù‚ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ùƒ
                    </h4>
                    <div class="space-y-3">
                        ${allLearningMethods.slice(0, 6).map(method => `
                            <div class="flex items-center gap-3 p-3 bg-indigo-50 rounded-lg">
                                <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
                                <span class="text-gray-700">${method}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸ¯</span> Ø£Ù†Ø´Ø·Ø© Ù…Ù‚ØªØ±Ø­Ø© Ù„Ùƒ
                    </h4>
                    <div class="space-y-3">
                        ${allActivities.slice(0, 6).map(activity => `
                            <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
                                <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                                <span class="text-gray-700">${activity}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg md:col-span-2">
                    <h4 class="text-xl font-bold text-purple-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸ’¼</span> Ù…Ø¬Ø§Ù„Ø§Øª Ù…Ù‡Ù†ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ
                    </h4>
                    <div class="grid md:grid-cols-3 gap-3">
                        ${allCareers.slice(0, 12).map(career => `
                            <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 text-center">
                                <span class="text-purple-800 font-medium">${career}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
}

// Ø¹Ø±Ø¶ Ø®Ø·Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±
function showDevelopmentPlan(scores) {
    const developmentPlan = document.getElementById('developmentPlan');

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    const topThree = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => b.score - a.score)
        .slice(0, 3);

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ù‚Ù„ 2 Ø°ÙƒØ§Ø¡Ø§Øª Ù„Ù„ØªØ·ÙˆÙŠØ±
    const bottomTwo = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            ...intelligences[key],
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => a.score - b.score)
        .slice(0, 2);

    developmentPlan.innerHTML = `
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸš€</span> Ø§Ø³ØªØ«Ù…Ø± Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ
                    </h4>
                    <p class="text-gray-600 mb-4">Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù‚ÙˆÙŠØ© Ù„Ø¯ÙŠÙƒ:</p>
                    <div class="space-y-4">
                        ${topThree.map((intel, index) => `
                            <div class="border-l-4 pl-4" style="border-color: ${intel.color}">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <h5 class="font-semibold" style="color: ${intel.color}">${intel.name} (${intel.score}%)</h5>
                                </div>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.activities.slice(0, 2).map(activity => `<li>â€¢ ${activity}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-orange-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸ’ª</span> Ø·ÙˆØ± Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù
                    </h4>
                    <p class="text-gray-600 mb-4">Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª ØªØ­ØªØ§Ø¬ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ·ÙˆÙŠØ±:</p>
                    <div class="space-y-4">
                        ${bottomTwo.map(intel => `
                            <div class="border-l-4 border-gray-300 pl-4">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <h5 class="font-semibold text-gray-700">${intel.name} (${intel.score}%)</h5>
                                </div>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    ${intel.details.learningMethods.slice(0, 2).map(method => `<li>â€¢ Ø¬Ø±Ø¨: ${method}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200 md:col-span-2">
                    <h4 class="text-xl font-bold text-blue-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">ğŸ“‹</span> Ø®Ø·Ø© Ø¹Ù…Ù„ Ù„Ù…Ø¯Ø© 30 ÙŠÙˆÙ…Ø§Ù‹
                    </h4>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-green-700 mb-3">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>â€¢ Ø§Ø¨Ø¯Ø£ Ø¨Ù†Ø´Ø§Ø· ÙˆØ§Ø­Ø¯ Ù…Ù† Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ</li>
                                <li>â€¢ Ø§Ù‚Ø±Ø£ Ø¹Ù† Ø£Ø¹Ù„Ù‰ Ø°ÙƒØ§Ø¡ Ù„Ø¯ÙŠÙƒ</li>
                                <li>â€¢ Ø¬Ø±Ø¨ Ø·Ø±ÙŠÙ‚Ø© ØªØ¹Ù„Ù… Ø¬Ø¯ÙŠØ¯Ø©</li>
                            </ul>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-blue-700 mb-3">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ-Ø§Ù„Ø«Ø§Ù„Ø«</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>â€¢ Ø·Ø¨Ù‚ Ø·Ø±Ù‚ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ</li>
                                <li>â€¢ Ø§Ø¨Ø¯Ø£ Ù‡ÙˆØ§ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù†Ø´Ø·Ø©</li>
                                <li>â€¢ Ø§Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ·ÙˆÙŠØ± Ù†Ù‚Ø·Ø© Ø¶Ø¹Ù ÙˆØ§Ø­Ø¯Ø©</li>
                            </ul>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-purple-700 mb-3">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø±Ø§Ø¨Ø¹</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>â€¢ Ù‚ÙŠÙ‘Ù… ØªÙ‚Ø¯Ù…Ùƒ</li>
                                <li>â€¢ Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ù…Ù‡Ù†ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø©</li>
                                <li>â€¢ Ø¶Ø¹ Ø®Ø·Ø© Ù„Ù„Ø´Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
function createResultsChart(scores) {
    const ctx = document.getElementById('resultsChart').getContext('2d');

    const labels = Object.keys(intelligences).map(key => intelligences[key].name);
    const data = Object.keys(intelligences).map(key => scores[key]);
    const colors = Object.keys(intelligences).map(key => intelligences[key].color);

    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Ù†Ø³Ø¨Ø© Ø§Ù„Ø°ÙƒØ§Ø¡',
                data: data,
                backgroundColor: 'rgba(79, 70, 229, 0.2)',
                borderColor: 'rgba(79, 70, 229, 1)',
                borderWidth: 2,
                pointBackgroundColor: colors,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false
                }
            },
            scales: {
                r: {
                    beginAtZero: true,
                    max: 100,
                    ticks: {
                        stepSize: 20
                    }
                }
            }
        }
    });
}

// Ø£Ø­Ø¯Ø§Ø« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
function setupActionButtons() {
    // Ø²Ø± ØªØ­Ù…ÙŠÙ„ PDF
    const downloadBtn = document.getElementById('downloadPdfBtn');
    if (downloadBtn) {
        downloadBtn.addEventListener('click', function () {
            generatePDFReport();
        });
    }



    // Ø²Ø± Ø­ÙØ¸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    const saveBtn = document.getElementById('saveResultsBtn');
    if (saveBtn) {
        saveBtn.addEventListener('click', function () {
            saveResultsToFile();
        });
    }

    // Ø²Ø± Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø£Ø¬ÙˆØ¨Ø©
    const printAnswersBtn = document.getElementById('printAnswersBtn');
    if (printAnswersBtn) {
        printAnswersBtn.addEventListener('click', function () {
            printAnswers();
        });
    }

    // Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³Ù„
    const showConsoleBtn = document.getElementById('showConsoleBtn');
    if (showConsoleBtn) {
        showConsoleBtn.addEventListener('click', function () {
            // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒÙˆÙ†Ø³Ù„
            document.getElementById('consoleSettingsModal').classList.remove('hidden');
            document.getElementById('consoleSettingsModal').classList.add('flex');
        });
    }

    // Ø£Ø­Ø¯Ø§Ø« Ù†Ø§ÙØ°Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒÙˆÙ†Ø³Ù„
    document.getElementById('applyConsoleSettings').addEventListener('click', function () {
        let DEBUG_SETTINGS = {};
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©
        DEBUG_SETTINGS.showDetailedScoring = document.getElementById('showDetailedScoring').checked;
        DEBUG_SETTINGS.showQuestionAnalysis = document.getElementById('showQuestionAnalysis').checked;
        DEBUG_SETTINGS.showRecommendations = document.getElementById('showRecommendations').checked;
        DEBUG_SETTINGS.showStatistics = document.getElementById('showStatistics').checked;
        DEBUG_SETTINGS.enablePerformanceMetrics = document.getElementById('enablePerformanceMetrics').checked;

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ¹Ø±Ø¶Ù‡Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³Ù„
        const resultsData = calculateResults();
        displayResultsInConsole(resultsData.scores, resultsData.diagnostics, resultsData.diagnostics.byIntelligenceType);

        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
        document.getElementById('consoleSettingsModal').classList.add('hidden');
        document.getElementById('consoleSettingsModal').classList.remove('flex');

        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        alert('ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³Ù„!\n\nØ§ÙØªØ­ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·ÙˆØ± (F12) ÙˆØ§Ø°Ù‡Ø¨ Ù„ØªØ¨ÙˆÙŠØ¨ Console Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª.');
    });

    document.getElementById('closeConsoleModal').addEventListener('click', function () {
        document.getElementById('consoleSettingsModal').classList.add('hidden');
        document.getElementById('consoleSettingsModal').classList.remove('flex');
    });

    // Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
    const retakeBtn = document.getElementById('retakeBtn');
    if (retakeBtn) {
        retakeBtn.addEventListener('click', function () {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ Ø³ØªÙÙ‚Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠØ©.')) {
                // Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                localStorage.removeItem('multipleIntelligenceAnswers');
                localStorage.removeItem('multipleIntelligenceProgress');
                localStorage.removeItem('multipleIntelligenceResults');
                location.reload();
            }
        });
    }
}

// Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
async function shareResults() {
    const resultsData = calculateResults();
    const scores = resultsData.scores;

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            name: intelligences[key].name
        }))
        .sort((a, b) => b.score - a.score);

    const topThree = sortedIntelligences.slice(0, 3);
    var data2 = new URLSearchParams();
    data2.append('data', JSON.stringify({ tops: topThree, time: Date.now() - startTime }));
    data2.append('type', 'stat.p3');
    data2.append('ob', '1');
    await fetch('saveExam', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
        },
        body: data2
    })
    var data = new URLSearchParams();
    data.append('data', JSON.stringify({ scores, questions, answers }));
    data.append('type', 'p3');
    data.append('ob', '1');
    fetch('saveExam', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
        },
        body: data
    }).catch(() => {
        alert("Ø­ØµÙ„Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ ØªØ¶Ø·Ø± Ø§Ù„Ù‰ Ø§Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±")
    }).finally(() => {
        testScreen.classList.add('hidden');
        resultsScreen.classList.remove('hidden');
    })

}

// Ø­ÙØ¸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ù…Ù„Ù
function saveResultsToFile() {
    const resultsData = calculateResults();
    const scores = resultsData.scores;

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø­ÙØ¸
    const fullResults = {
        userInfo: {
            name: currentUser,
            testDate: new Date().toISOString(),
            completionTime: Math.round((Date.now() - startTime) / 1000 / 60) // Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚
        },
        scores: scores,
        answers: answers,
        diagnostics: resultsData.diagnostics,
        recommendations: generateRecommendations(scores)
    };

    // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ Ø£ÙŠØ¶Ø§Ù‹
    // localStorage.setItem('multipleIntelligenceResults', JSON.stringify(fullResults));

    // ØªØ­Ù…ÙŠÙ„ ÙƒÙ…Ù„Ù JSON
    const dataStr = JSON.stringify(fullResults, null, 2);
    const dataBlob = new Blob([dataStr], { type: 'application/json' });
    const url = URL.createObjectURL(dataBlob);

    const link = document.createElement('a');
    link.href = url;
    link.download = `Ù†ØªØ§Ø¦Ø¬_Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª_Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©_${new Date().getTime()}.json`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);

    alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙŠØ±Ø§Ø¯Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹.');
}

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙˆØµÙŠØ§Øª
function generateRecommendations(scores) {
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            name: intelligences[key].name,
            details: intelligenceDetails[key]
        }))
        .sort((a, b) => b.score - a.score);

    const topThree = sortedIntelligences.slice(0, 3);

    return {
        learningMethods: [...new Set(topThree.flatMap(intel => intel.details.learningMethods))].slice(0, 8),
        activities: [...new Set(topThree.flatMap(intel => intel.details.activities))].slice(0, 8),
        careers: [...new Set(topThree.flatMap(intel => intel.details.careers))].slice(0, 10)
    };
}

// Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± PDF
function generatePDFReport() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ
    doc.setFont('helvetica');
    doc.setFontSize(16);

    // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
    doc.text('ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©', 105, 20, { align: 'center' });
    doc.setFontSize(12);
    doc.text(`Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${currentUser}`, 20, 40);
    doc.text(`ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: ${new Date().toLocaleDateString('ar-SA')}`, 20, 50);

    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    const resultsData = calculateResults();
    const scores = resultsData.scores;

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            name: intelligences[key].name
        }))
        .sort((a, b) => b.score - a.score);

    // Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª
    doc.setFontSize(14);
    doc.text('Ø£Ø¹Ù„Ù‰ 3 Ø°ÙƒØ§Ø¡Ø§Øª:', 20, 70);
    doc.setFontSize(12);

    let yPos = 85;
    sortedIntelligences.slice(0, 3).forEach((intel, index) => {
        doc.text(`${index + 1}. ${intel.name}: ${intel.score}%`, 25, yPos);
        yPos += 10;
    });

    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    doc.setFontSize(14);
    doc.text('Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬:', 20, yPos + 15);
    doc.setFontSize(10);
    yPos += 30;

    sortedIntelligences.forEach((intel) => {
        if (yPos > 270) {
            doc.addPage();
            yPos = 20;
        }
        doc.text(`${intel.name}: ${intel.score}%`, 25, yPos);
        yPos += 8;
    });

    // Ø§Ù„ØªÙˆØµÙŠØ§Øª
    if (yPos > 200) {
        doc.addPage();
        yPos = 20;
    }

    doc.setFontSize(14);
    doc.text('Ø§Ù„ØªÙˆØµÙŠØ§Øª:', 20, yPos + 15);
    doc.setFontSize(10);
    yPos += 30;

    const topIntel = sortedIntelligences[0];
    const recommendations = intelligenceDetails[topIntel.type].learningMethods.slice(0, 5);

    recommendations.forEach((rec) => {
        if (yPos > 270) {
            doc.addPage();
            yPos = 20;
        }
        const lines = doc.splitTextToSize(`â€¢ ${rec}`, 170);
        doc.text(lines, 25, yPos);
        yPos += lines.length * 5 + 3;
    });

    // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
    doc.save(`ØªÙ‚Ø±ÙŠØ±_Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª_Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©_${new Date().getTime()}.pdf`);
}

// ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ CSV
function exportDataToCSV() {
    const resultsData = calculateResults();
    const scores = resultsData.scores;

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª CSV
    let csvContent = "Ù†ÙˆØ¹ Ø§Ù„Ø°ÙƒØ§Ø¡,Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©,Ø§Ù„ÙˆØµÙ\n";

    Object.keys(intelligences).forEach(type => {
        const intel = intelligences[type];
        const score = scores[type];
        csvContent += `"${intel.name}","${score}%","${intelligenceDetails[type].description.substring(0, 100)}..."\n`;
    });

    // Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
    csvContent += "\n\nÙ…Ù„Ø®Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:\n";
    csvContent += "Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„,Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¤Ø§Ù„,Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©\n";

    questions.forEach((question, index) => {
        const answer = answers[index];
        let answerText = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©';

        if (answer !== undefined) {
            if (Array.isArray(answer)) {
                answerText = answer.join(', ');
            } else {
                answerText = answer.toString();
            }
        }

        csvContent += `"${index + 1}","${question.questionType}","${answerText}"\n`;
    });

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    const url = URL.createObjectURL(blob);
    link.setAttribute('href', url);
    link.setAttribute('download', `Ø¨ÙŠØ§Ù†Ø§Øª_Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª_Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©_${new Date().getTime()}.csv`);
    link.style.visibility = 'hidden';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø£Ø¬ÙˆØ¨Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
function printAnswers() {
    // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© Ø·Ø¨Ø§Ø¹Ø© Ù„Ù„Ø£Ø¬ÙˆØ¨Ø©
    const printWindow = window.open('', '_blank');

    // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø°ÙƒØ§Ø¡
    const answersByIntelligence = {};
    Object.keys(intelligences).forEach(type => {
        answersByIntelligence[type] = [];
    });

    // ØªØµÙ†ÙŠÙ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø£Ø¬ÙˆØ¨Ø©
    questions.forEach((question, index) => {
        const answer = answers[index];
        let answerText = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©';
        let answerDetails = '';

        if (answer !== undefined && answer !== null) {
            switch (question.questionType) {
                case 'single':
                    if (typeof answer === 'number' && answer >= 0 && answer < question.options.length) {
                        answerText = question.options[answer].text;
                        answerDetails = `Ø§Ù„Ø®ÙŠØ§Ø± ${answer + 1}`;
                    }
                    break;

                case 'multiple':
                    if (Array.isArray(answer) && answer.length > 0) {
                        const selectedOptions = answer.map(optIndex => {
                            if (optIndex >= 0 && optIndex < question.options.length) {
                                return question.options[optIndex].text;
                            }
                            return 'Ø®ÙŠØ§Ø± ØºÙŠØ± ØµØ­ÙŠØ­';
                        }).filter(opt => opt !== 'Ø®ÙŠØ§Ø± ØºÙŠØ± ØµØ­ÙŠØ­');

                        answerText = selectedOptions.join(' â€¢ ');
                        answerDetails = `ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${selectedOptions.length} Ù…Ù† ${question.options.length} Ø®ÙŠØ§Ø±Ø§Øª`;
                    }
                    break;

                case 'ranking':
                    if (Array.isArray(answer) && answer.length === 4) {
                        const rankedItems = answer.map((optIndex, rank) => {
                            if (optIndex >= 0 && optIndex < question.options.length) {
                                return `${rank + 1}. ${question.options[optIndex].text}`;
                            }
                            return `${rank + 1}. Ø®ÙŠØ§Ø± ØºÙŠØ± ØµØ­ÙŠØ­`;
                        });
                        answerText = rankedItems.join(' | ');
                        answerDetails = 'ØªØ±ØªÙŠØ¨ Ù…Ù† Ø§Ù„Ø£ÙƒØ«Ø± ØªÙØ¶ÙŠÙ„Ø§Ù‹ Ù„Ù„Ø£Ù‚Ù„';
                    }
                    break;

                case 'rating':
                    if (Array.isArray(answer) && answer.length > 0) {
                        const ratings = answer.map((rating, index) => {
                            if (index < question.statements.length) {
                                const stars = 'â˜…'.repeat(rating) + 'â˜†'.repeat(5 - rating);
                                return `${question.statements[index].text}: ${stars} (${rating}/5)`;
                            }
                            return '';
                        }).filter(r => r !== '');

                        answerText = ratings.join(' | ');
                        answerDetails = `ØªÙ‚ÙŠÙŠÙ… ${ratings.length} Ø¹Ø¨Ø§Ø±Ø§Øª`;
                    }
                    break;
            }
        }

        answersByIntelligence[question.type].push({
            questionNumber: index + 1,
            question: question.question,
            questionType: question.questionType,
            answer: answerText,
            details: answerDetails,
            isAnswered: answer !== undefined && answer !== null
        });
    });

    // Ø­Ø³Ø§Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
    const totalQuestions = questions.length;
    const answeredQuestions = Object.keys(answers).length;
    const completionRate = Math.round((answeredQuestions / totalQuestions) * 100);

    // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
    printWindow.document.write(`
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø© - Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            margin: 20px; 
                            line-height: 1.6; 
                            font-size: 12px;
                        }
                        .header { 
                            text-align: center; 
                            border-bottom: 3px solid #4f46e5; 
                            padding-bottom: 20px; 
                            margin-bottom: 30px; 
                            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
                            padding: 20px;
                            border-radius: 10px;
                        }
                        .stats {
                            background-color: #f8fafc;
                            padding: 15px;
                            border-radius: 8px;
                            margin-bottom: 25px;
                            border-left: 4px solid #10b981;
                        }
                        .intelligence-section {
                            margin-bottom: 30px;
                            page-break-inside: avoid;
                        }
                        .intelligence-header {
                            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
                            color: white;
                            padding: 12px 20px;
                            border-radius: 8px;
                            margin-bottom: 15px;
                            font-weight: bold;
                            font-size: 14px;
                        }
                        .question-item {
                            margin: 12px 0;
                            padding: 15px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                            background-color: #fafafa;
                            page-break-inside: avoid;
                        }
                        .question-item.answered {
                            border-left: 4px solid #10b981;
                            background-color: #f0fdf4;
                        }
                        .question-item.unanswered {
                            border-left: 4px solid #ef4444;
                            background-color: #fef2f2;
                        }
                        .question-number {
                            font-weight: bold;
                            color: #4f46e5;
                            font-size: 13px;
                        }
                        .question-text {
                            font-weight: 600;
                            margin: 8px 0;
                            color: #374151;
                        }
                        .question-type {
                            font-size: 10px;
                            background-color: #e5e7eb;
                            padding: 2px 8px;
                            border-radius: 12px;
                            color: #6b7280;
                            display: inline-block;
                            margin-bottom: 8px;
                        }
                        .answer-text {
                            background-color: white;
                            padding: 10px;
                            border-radius: 6px;
                            border: 1px solid #d1d5db;
                            margin-top: 8px;
                        }
                        .answer-details {
                            font-size: 10px;
                            color: #6b7280;
                            font-style: italic;
                            margin-top: 5px;
                        }
                        .unanswered-text {
                            color: #dc2626;
                            font-style: italic;
                        }
                        .page-break {
                            page-break-before: always;
                        }
                        .summary-box {
                            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
                            border: 2px solid #f59e0b;
                            padding: 15px;
                            border-radius: 10px;
                            margin: 20px 0;
                        }
                        @media print { 
                            body { margin: 0; font-size: 11px; }
                            .page-break { page-break-before: always; }
                        }
                        .type-stats {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            background-color: rgba(255,255,255,0.3);
                            padding: 8px 12px;
                            border-radius: 6px;
                            margin-top: 8px;
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø© - Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</h1>
                        <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong> ${currentUser}</p>
                        <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong> ${new Date().toLocaleDateString('ar-SA')}</p>
                        <p><strong>ÙˆÙ‚Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©:</strong> ${new Date().toLocaleString('ar-SA')}</p>
                    </div>
                    
                    <div class="stats">
                        <h2>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 10px;">
                            <div><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</strong> ${totalQuestions} Ø³Ø¤Ø§Ù„</div>
                            <div><strong>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©:</strong> ${answeredQuestions} Ø³Ø¤Ø§Ù„</div>
                            <div><strong>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©:</strong> ${totalQuestions - answeredQuestions} Ø³Ø¤Ø§Ù„</div>
                            <div><strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„:</strong> ${completionRate}%</div>
                        </div>
                    </div>
                    
                    ${Object.keys(intelligences).map(type => {
        const intel = intelligences[type];
        const questionsOfType = answersByIntelligence[type];
        const answeredOfType = questionsOfType.filter(q => q.isAnswered).length;
        const typeCompletionRate = questionsOfType.length > 0 ?
            Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

        return `
                            <div class="intelligence-section">
                                <div class="intelligence-header">
                                    ${intel.icon} ${intel.name}
                                    <div class="type-stats">
                                        <span>Ø§Ù„Ø£Ø³Ø¦Ù„Ø©: ${questionsOfType.length}</span>
                                        <span>Ø§Ù„Ù…Ø¬Ø§Ø¨Ø©: ${answeredOfType}</span>
                                        <span>Ø§Ù„Ù†Ø³Ø¨Ø©: ${typeCompletionRate}%</span>
                                    </div>
                                </div>
                                
                                ${questionsOfType.map(item => `
                                    <div class="question-item ${item.isAnswered ? 'answered' : 'unanswered'}">
                                        <div class="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø±Ù‚Ù… ${item.questionNumber}</div>
                                        <div class="question-type">
                                            ${item.questionType === 'single' ? 'Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯' :
                item.questionType === 'multiple' ? 'Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯' :
                    item.questionType === 'ranking' ? 'ØªØ±ØªÙŠØ¨' :
                        item.questionType === 'rating' ? 'ØªÙ‚ÙŠÙŠÙ… Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…' : item.questionType}
                                        </div>
                                        <div class="question-text">${item.question}</div>
                                        <div class="answer-text ${!item.isAnswered ? 'unanswered-text' : ''}">
                                            <strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©:</strong> ${item.answer}
                                        </div>
                                        ${item.details ? `<div class="answer-details">${item.details}</div>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        `;
    }).join('')}
                    
                    <div class="summary-box page-break">
                        <h2>ğŸ“ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø©:</h2>
                        <p><strong>ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ ${completionRate}% Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</strong></p>
                        ${answeredQuestions < totalQuestions ? `
                            <p style="color: #dc2626;">
                                <strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ ${totalQuestions - answeredQuestions} Ø£Ø³Ø¦Ù„Ø©. 
                                Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©ØŒ ÙŠÙÙ†ØµØ­ Ø¨Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©.
                            </p>
                        ` : `
                            <p style="color: #059669;">
                                <strong>Ù…Ù…ØªØ§Ø²!</strong> ØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø³ØªÙƒÙˆÙ† Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ´Ø§Ù…Ù„Ø©.
                            </p>
                        `}
                        
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #d1d5db;">
                            <h3>ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¬ÙˆØ¨Ø© Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø°ÙƒØ§Ø¡:</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px; margin-top: 10px;">
                                ${Object.keys(intelligences).map(type => {
        const intel = intelligences[type];
        const questionsOfType = answersByIntelligence[type];
        const answeredOfType = questionsOfType.filter(q => q.isAnswered).length;
        const typeRate = questionsOfType.length > 0 ?
            Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

        return `
                                        <div style="background: white; padding: 8px; border-radius: 6px; border: 1px solid #e5e7eb;">
                                            <strong>${intel.icon} ${intel.name}:</strong><br>
                                            ${answeredOfType}/${questionsOfType.length} (${typeRate}%)
                                        </div>
                                    `;
    }).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; font-size: 10px; color: #6b7280; border-top: 1px solid #e5e7eb; padding-top: 20px;">
                        <p>ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</p>
                        <p>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©: ${new Date().toLocaleString('ar-SA')}</p>
                        <p>Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</p>
                    </div>
                </body>
                </html>
            `);

    printWindow.document.close();
    printWindow.focus();

    // Ø§Ù†ØªØ¸Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø«Ù… Ø·Ø¨Ø§Ø¹Ø©
    setTimeout(() => {
        printWindow.print();
        printWindow.close();
    }, 1000);
}

// Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
function printResults() {
    const resultsData = calculateResults();
    const scores = resultsData.scores;

    // ØªØ±ØªÙŠØ¨ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª
    const sortedIntelligences = Object.keys(scores)
        .map(key => ({
            type: key,
            score: scores[key],
            name: intelligences[key].name,
            icon: intelligences[key].icon
        }))
        .sort((a, b) => b.score - a.score);

    // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§ÙØ°Ø© Ø·Ø¨Ø§Ø¹Ø©
    const printWindow = window.open('', '_blank');
    printWindow.document.write(`
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
                        .intelligence-item { margin: 15px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
                        .score { font-weight: bold; color: #2563eb; }
                        .top-three { background-color: #f0f9ff; }
                        .recommendations { margin-top: 30px; padding: 20px; background-color: #f9fafb; border-radius: 5px; }
                        @media print { body { margin: 0; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>ğŸ§  ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</h1>
                        <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong> ${currentUser}</p>
                        <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong> ${new Date().toLocaleDateString('ar-SA')}</p>
                        <p><strong>ÙˆÙ‚Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong> ${new Date().toLocaleTimeString('ar-SA')}</p>
                    </div>
                    
                    <h2>ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙˆØ©:</h2>
                    ${sortedIntelligences.map((intel, index) => `
                        <div class="intelligence-item ${index < 3 ? 'top-three' : ''}">
                            <h3>${intel.icon} ${intel.name}</h3>
                            <p class="score">Ø§Ù„Ù†Ø³Ø¨Ø©: ${intel.score}%</p>
                            ${index < 3 ? '<p><em>â­ Ù…Ù† Ø£Ù‚ÙˆÙ‰ Ø°ÙƒØ§Ø¡Ø§ØªÙƒ</em></p>' : ''}
                        </div>
                    `).join('')}
                    
                    <div class="recommendations">
                        <h2>ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ù„Ù„ØªØ·ÙˆÙŠØ±:</h2>
                        <h3>ğŸš€ Ø§Ø³ØªØ«Ù…Ø± Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ:</h3>
                        <ul>
                            ${sortedIntelligences.slice(0, 3).map(intel => `
                                <li><strong>${intel.name}:</strong> Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡</li>
                            `).join('')}
                        </ul>
                        
                        <h3>ğŸ“ˆ Ø·ÙˆØ± Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù:</h3>
                        <ul>
                            ${sortedIntelligences.slice(-2).map(intel => `
                                <li><strong>${intel.name}:</strong> Ù…Ø§Ø±Ø³ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªÙŠ ØªÙ‚ÙˆÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡</li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
                        <p>ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</p>
                        <p>Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…ÙØµÙ„Ø©ØŒ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹</p>
                    </div>
                </body>
                </html>
            `);

    printWindow.document.close();
    printWindow.focus();

    // Ø§Ù†ØªØ¸Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø«Ù… Ø·Ø¨Ø§Ø¹Ø©
    setTimeout(() => {
        printWindow.print();
        printWindow.close();
    }, 500);
}

// Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
const retakeBtn = document.getElementById('retakeBtn');
if (retakeBtn) {
    retakeBtn.addEventListener('click', function () {
        location.reload();
    });
}

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function () {
    setupActionButtons();

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
    const exportBtn = document.getElementById('exportDataBtn');
    if (exportBtn) {
        exportBtn.addEventListener('click', exportDataToCSV);
    }

    const printBtn = document.getElementById('printResultsBtn');
    if (printBtn) {
        printBtn.addEventListener('click', printResults);
    }
});