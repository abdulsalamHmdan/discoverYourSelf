<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');

        * {
            font-family: 'Tajawal', sans-serif;
        }

        .intelligence-icon {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .intelligence-icon:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }

        .progress-circle {
            transform: rotate(-90deg);
        }

        .breathing-circle {
            animation: breathe 8s infinite;
        }

        @keyframes breathe {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-transition {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .question-exit {
            opacity: 0;
            transform: translateX(-30px);
        }

        .question-enter {
            opacity: 0;
            transform: translateX(30px);
        }

        .question-active {
            opacity: 1;
            transform: translateX(0);
        }

        .tooltip {
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s;
        }

        .intelligence-icon:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        .drag-item {
            cursor: grab;
            transition: all 0.2s;
        }

        .drag-item:active {
            cursor: grabbing;
            transform: rotate(5deg);
        }

        .drop-zone {
            min-height: 100px;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            background-color: #e0f2fe;
            border-color: #0284c7;
        }
    </style>
    <style>
        .option-item {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-item:hover {
            border-color: #667eea;
            background: #edf2f7;
            transform: translateY(-2px);
        }

        .option-text {
            font-size: 1.1em;
            color: #4a5568;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .rating-scale {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .rating-label {
            font-size: 0.9em;
            color: #718096;
            text-align: center;
            flex: 1;
        }

        .rating-buttons {
            display: flex;
            gap: 8px;
            flex: 2;
            justify-content: center;
        }

        .rating-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e2e8f0;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #718096;
            transition: all 0.3s ease;
            position: relative;
        }

        .rating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* ุชุฏุฑุฌ ุงูุฃููุงู ูู ุงูุฃุญูุฑ ุฅูู ุงูุฃุฎุถุฑ */
        .rating-btn[data-rating="1"] {
            background: #fed7d7;
            border-color: #e53e3e;
            color: #c53030;
        }

        .rating-btn[data-rating="1"].selected {
            background: #e53e3e;
            border-color: #c53030;
            color: white;
            box-shadow: 0 4px 15px rgba(229, 62, 62, 0.4);
        }

        .rating-btn[data-rating="2"] {
            background: #feebc8;
            border-color: #ed8936;
            color: #dd6b20;
        }

        .rating-btn[data-rating="2"].selected {
            background: #ed8936;
            border-color: #dd6b20;
            color: white;
            box-shadow: 0 4px 15px rgba(237, 137, 54, 0.4);
        }

        .rating-btn[data-rating="3"] {
            background: #fefcbf;
            border-color: #ecc94b;
            color: #d69e2e;
        }

        .rating-btn[data-rating="3"].selected {
            background: #ecc94b;
            border-color: #d69e2e;
            color: white;
            box-shadow: 0 4px 15px rgba(236, 201, 75, 0.4);
        }

        .rating-btn[data-rating="4"] {
            background: #c6f6d5;
            border-color: #68d391;
            color: #38a169;
        }

        .rating-btn[data-rating="4"].selected {
            background: #68d391;
            border-color: #38a169;
            color: white;
            box-shadow: 0 4px 15px rgba(104, 211, 145, 0.4);
        }

        .rating-btn[data-rating="5"] {
            background: #9ae6b4;
            border-color: #48bb78;
            color: #2f855a;
        }

        .rating-btn[data-rating="5"].selected {
            background: #48bb78;
            border-color: #2f855a;
            color: white;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.4);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
    <div id="welcome-screen" class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- ุงูุนููุงู ุงูุฑุฆูุณู ูุน ุชุฃุซูุฑุงุช ุจุตุฑูุฉ -->
        <div class="text-center mb-12 fade-in">
            <div class="relative">
                <h1
                    class="text-5xl md:text-7xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 bg-clip-text text-transparent mb-6 leading-tight">
                    ๐ง ุงูุชุดู ุฐูุงุกุงุชู ุงููุชุนุฏุฏุฉ!
                </h1>
                <div class="absolute -top-4 -right-4 w-20 h-20 bg-yellow-200 rounded-full opacity-20 animate-pulse">
                </div>
                <div
                    class="absolute -bottom-4 -left-4 w-16 h-16 bg-pink-200 rounded-full opacity-20 animate-pulse delay-1000">
                </div>
            </div>

            <!-- ุจุทุงูุฉ ุงููุตู ุงููุญุณูุฉ -->
            <div
                class="bg-gradient-to-br from-white to-indigo-50 rounded-3xl shadow-2xl p-8 mb-8 border border-indigo-100">
                <div class="max-w-4xl mx-auto">
                    <p class="text-xl md:text-2xl text-gray-700 leading-relaxed mb-6 font-medium">
                        ุงูุชุดู ุฃููุงุท ุฐูุงุฆู ุงูุซูุงููุฉ ูุงุญุตู ุนูู ุชูุตูุงุช ุดุฎุตูุฉ ูุทุฑู ุงูุชุนูู ูุงูุฃูุดุทุฉ ูุงูุชุฎุตุตุงุช ุงูููุงุณุจุฉ ูู
                    </p>

                    <!-- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-white rounded-2xl p-4 shadow-lg border-l-4 border-green-500">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                    <span class="text-2xl">โฑ๏ธ</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">10-15 ุฏูุงุฆู</div>
                                    <div class="text-sm text-gray-600">ูุฏุฉ ุงูุงุฎุชุจุงุฑ</div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-4 shadow-lg border-l-4 border-blue-500">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                    <span class="text-2xl">๐ฏ</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">40 ุณุคุงู</div>
                                    <div class="text-sm text-gray-600">ูุชููุน ูุชูุงุนูู</div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-4 shadow-lg border-l-4 border-purple-500">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                    <span class="text-2xl">โ</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">ูุง ุชูุฌุฏ ุฅุฌุงุจุงุช ุฎุงุทุฆุฉ</div>
                                    <div class="text-sm text-gray-600">ูู ุตุงุฏูุงู ูุน ููุณู</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ุดุฑูุท ุงูุฐูุงุกุงุช ุงููุญุณู -->
        <div class="bg-gradient-to-br from-white to-gray-50 rounded-3xl shadow-2xl p-8 mb-8 border border-gray-100">
            <div class="text-center mb-8">
                <h3 class="text-3xl font-bold text-gray-800 mb-2">ุงูุฐูุงุกุงุช ุงูุซูุงููุฉ</h3>
                <p class="text-gray-600">ูุฑุฑ ุงููุงูุณ ุนูู ูู ุฐูุงุก ูุชุชุนุฑู ุนููู ุฃูุซุฑ</p>
            </div>

            <div class="grid grid-cols-4 md:grid-cols-8 gap-3">
                <div class="intelligence-icon relative group" data-intelligence="linguistic">
                    <div
                        class="bg-gradient-to-br from-red-100 to-red-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-red-200 hover:border-red-400">
                        <div class="text-3xl mb-2 text-center">๐</div>
                        <div class="text-xs font-bold text-center text-red-800">ูุบูู/ููุธู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงููุบูู</div>
                        ูููู ููุชุนุจูุฑ ุจุงููููุงุชุ ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ูุงููุตุต
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="logical">
                    <div
                        class="bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-orange-200 hover:border-orange-400">
                        <div class="text-3xl mb-2 text-center">๐ข</div>
                        <div class="text-xs font-bold text-center text-orange-800">ููุทูู/ุฑูุงุถู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูููุทูู</div>
                        ูุญุจ ุงูุฃุฑูุงูุ ุงูุฃููุงุทุ ุงูุฃุณุจุงุจ ูุงููุชุงุฆุฌุ ุญู ุงูุฃูุบุงุฒ
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="spatial">
                    <div
                        class="bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-yellow-200 hover:border-yellow-400">
                        <div class="text-3xl mb-2 text-center">๐จ</div>
                        <div class="text-xs font-bold text-center text-yellow-800">ุจุตุฑู/ููุงูู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุจุตุฑู</div>
                        ูุชุนููู ุจุงูุตูุฑ ูุงูุฎุฑุงุฆุท ูุงูุชุฎููุ ููู ูู ุงูุฑุณู ูุงูุชุตููู
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="bodily">
                    <div
                        class="bg-gradient-to-br from-green-100 to-green-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-green-200 hover:border-green-400">
                        <div class="text-3xl mb-2 text-center">๐</div>
                        <div class="text-xs font-bold text-center text-green-800">ุฌุณุฏู/ุญุฑูู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุญุฑูู</div>
                        ูุชุนููู ุจุงูุญุฑูุฉ ูุงูููุณ ูุงูุชุฌุฑุจุฉ ุงูุนูููุฉ ูุงูุฑูุงุถุฉ
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="musical">
                    <div
                        class="bg-gradient-to-br from-cyan-100 to-cyan-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-cyan-200 hover:border-cyan-400">
                        <div class="text-3xl mb-2 text-center">๐ต</div>
                        <div class="text-xs font-bold text-center text-cyan-800">ุฅููุงุนู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุฅููุงุนู</div>
                        ููุงุญุธ ุงูุฃููุงุท ูุงูุฅููุงุนุงุชุ ูุชุนูู ุจุงูุชูุฑุงุฑ ุงูููุชุธู
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="interpersonal">
                    <div
                        class="bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-blue-200 hover:border-blue-400">
                        <div class="text-3xl mb-2 text-center">๐ฅ</div>
                        <div class="text-xs font-bold text-center text-blue-800">ุงุฌุชูุงุนู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุงุฌุชูุงุนู</div>
                        ูููู ุงูุขุฎุฑููุ ูุญุจ ุงูุนูู ุงูุฌูุงุนู ูุงูุชูุงุตู
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="intrapersonal">
                    <div
                        class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-purple-200 hover:border-purple-400">
                        <div class="text-3xl mb-2 text-center">๐ญ</div>
                        <div class="text-xs font-bold text-center text-purple-800">ุฐุงุชู/ุดุฎุตู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุฐุงุชู</div>
                        ูุนุฑู ููุณู ูุฃูุฏุงููุ ูุญุจ ุงูุชุฃูู ูุงูุชุนููู ุงูุฐุงุชู
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>

                <div class="intelligence-icon relative group" data-intelligence="naturalist">
                    <div
                        class="bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-xl p-3 shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 border-2 border-emerald-200 hover:border-emerald-400">
                        <div class="text-3xl mb-2 text-center">๐ฟ</div>
                        <div class="text-xs font-bold text-center text-emerald-800">ุทุจูุนู/ุจูุฆู</div>
                    </div>
                    <div
                        class="tooltip absolute bottom-full left-1/2 transform -translate-x-1/2 mb-3 bg-gray-900 text-white text-sm rounded-xl px-4 py-3 w-56 shadow-2xl z-10">
                        <div class="font-semibold mb-1">ุงูุฐูุงุก ุงูุทุจูุนู</div>
                        ูุฑุชุงุญ ูู ุงูุทุจูุนุฉุ ููุงุญุธ ุงููุงุฆูุงุช ูุงูุฃููุงุท ุงูุจูุฆูุฉ
                        <div
                            class="absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ุดุฑุญ ุทุฑููุฉ ุงูุงุฎุชุจุงุฑ -->
        <div
            class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-3xl shadow-2xl p-8 mb-8 border border-amber-200">
            <div class="text-center mb-6">
                <h3 class="text-3xl font-bold text-amber-800 mb-2">๐ฏ ููู ูุนูู ุงูุงุฎุชุจุงุฑุ</h3>
                <p class="text-amber-700 text-lg">ุงูุฑุฃ ูุฐู ุงูููุงุท ุงููููุฉ ูุจู ุงูุจุฏุก</p>
            </div>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <!-- ุงูููุงุท ุงููููุฉ -->
                <div class="bg-white rounded-2xl p-6 shadow-lg border-l-4 border-green-500">
                    <h4 class="text-xl font-bold text-green-700 mb-4 flex items-center gap-2">
                        <span class="text-2xl">โ</span>
                        ููุงุท ูููุฉ
                    </h4>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start gap-3">
                            <span class="text-green-500 font-bold">โข</span>
                            <span><strong>ูุง ุชูุฌุฏ ุฅุฌุงุจุฉ ุตุญูุญุฉ ุฃู ุฎุงุทุฆุฉ</strong> - ุงุฎุชุฑ ูุง ูุดุจูู ูุนูุงู</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-500 font-bold">โข</span>
                            <span><strong>ูู ุตุงุฏูุงู ูุน ููุณู</strong> - ูุง ุชุฎุชุฑ ูุง ุชุชููู ุฃู ุชูููู</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-500 font-bold">โข</span>
                            <span><strong>ููุฑ ูู ุณูููู ุงูุทุจูุนู</strong> - ููุณ ูู ุงูููุงูู ุงูุงุณุชุซูุงุฆูุฉ</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-500 font-bold">โข</span>
                            <span><strong>ูุง ุชููุฑ ูุซูุฑุงู</strong> - ุงูุฅุฌุงุจุฉ ุงูุฃููู ุบุงูุจุงู ุงูุฃุตุฏู</span>
                        </li>
                    </ul>
                </div>

                <!-- ุฃููุงุน ุงูุฃุณุฆูุฉ -->
                <div class="bg-white rounded-2xl p-6 shadow-lg border-l-4 border-blue-500">
                    <h4 class="text-xl font-bold text-blue-700 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐</span>
                        ุฃููุงุน ุงูุฃุณุฆูุฉ
                    </h4>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start gap-3">
                            <span class="text-blue-500 font-bold">1.</span>
                            <span><strong>ุงุฎุชูุงุฑ ูุงุญุฏ:</strong> ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุฃูุฑุจ ูู</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-500 font-bold">2.</span>
                            <span><strong>ุงุฎุชูุงุฑ ูุชุนุฏุฏ:</strong> ุงุฎุชุฑ ูู ูุง ููุทุจู ุนููู</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-500 font-bold">3.</span>
                            <span><strong>ุชุฑุชูุจ:</strong> ุงุณุญุจ ุงูุนูุงุตุฑ ูุชุฑุชูุจูุง ุญุณุจ ุชูุถููู</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-500 font-bold">4.</span>
                            <span><strong>ุชูููู ุจุงููุฌูู:</strong> ูููู ูู 1-5 ูุฌูู</span>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- ุชูุจููุงุช ูููุฉ -->
            <div class="bg-gradient-to-r from-red-50 to-pink-50 rounded-2xl p-6 border-2 border-red-200 mb-6">
                <h4 class="text-xl font-bold text-red-700 mb-4 flex items-center gap-2">
                    <span class="text-2xl">โ๏ธ</span>
                    ุชูุจููุงุช ูููุฉ
                </h4>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-lg p-4 border border-red-200">
                        <h5 class="font-semibold text-red-600 mb-2">๐ซ ุชุฌูุจ ูุฐุง:</h5>
                        <ul class="text-sm text-gray-700 space-y-1">
                            <li>โข ุงุฎุชูุงุฑ ูุง ูุจุฏู "ุฃูุถู" ุฃู "ุฃุฐูู"</li>
                            <li>โข ุงูุชูููุฑ ูู ุชููุนุงุช ุงูุขุฎุฑูู</li>
                            <li>โข ูุญุงููุฉ ุงูุญุตูู ุนูู ูุชูุฌุฉ ูุนููุฉ</li>
                        </ul>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-green-200">
                        <h5 class="font-semibold text-green-600 mb-2">โ ุงูุนู ูุฐุง:</h5>
                        <ul class="text-sm text-gray-700 space-y-1">
                            <li>โข ููุฑ ูู ุณูููู ุงููููู ุงูุทุจูุนู</li>
                            <li>โข ุงุฎุชุฑ ูุง ุชุณุชูุชุน ุจู ูุนูุงู</li>
                            <li>โข ูู ุตุงุฏูุงู ุญุชู ูู ุจุฏุง "ุนุงุฏูุงู"</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ูุนูููุงุช ุฅุถุงููุฉ -->
            <div class="bg-indigo-100 rounded-2xl p-6 text-center">
                <h4 class="text-lg font-bold text-indigo-800 mb-3">๐ก ูุนูููุฉ ูููุฉ</h4>
                <p class="text-indigo-700 leading-relaxed">
                    ูุฐุง ุงูุงุฎุชุจุงุฑ ูููุณ <strong>ุฃููุงุท ุงูุชุนูู ูุงููููู ุงูุทุจูุนูุฉ</strong> ูููุณ ูุณุชูู ุงูุฐูุงุก ุงูุนุงู (IQ).
                    ูู ุดุฎุต ูุฏูู ูุฒูุฌ ูุฑูุฏ ูู ุงูุฐูุงุกุงุชุ ูุงููุฏู ูู ุงูุชุดุงู ููุงุท ููุชู ูุชุทููุฑูุง ูุงุณุชุบูุงููุง ูู ุงูุชุนูู ูุงูุนูู.
                </p>
            </div>
        </div>

        <!-- ูุณู ุงูุจุฏุงูุฉ ุงููุญุณู -->
        <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-3xl shadow-2xl p-8 border border-indigo-200">
            <div class="max-w-2xl mx-auto text-center">
                <div class="mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">๐ ุฌุงูุฒ ูุงูุชุดุงู ุฐูุงุกุงุชูุ</h3>

                    <!-- ูุนูููุงุช ุณุฑูุนุฉ -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                        <div class="bg-white rounded-xl p-4 shadow-md">
                            <div class="text-2xl mb-2">โฑ๏ธ</div>
                            <div class="font-semibold text-gray-800">10-15 ุฏูุงุฆู</div>
                            <div class="text-sm text-gray-600">ูุฏุฉ ุงูุงุฎุชุจุงุฑ</div>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-md">
                            <div class="text-2xl mb-2">๐</div>
                            <div class="font-semibold text-gray-800">40 ุณุคุงู</div>
                            <div class="text-sm text-gray-600">ูุชููุน ูุชูุงุนูู</div>
                        </div>
                        <div class="bg-white rounded-xl p-4 shadow-md">
                            <div class="text-2xl mb-2">๐ฏ</div>
                            <div class="font-semibold text-gray-800">8 ุฐูุงุกุงุช</div>
                            <div class="text-sm text-gray-600">ุชูููู ุดุงูู</div>
                        </div>
                    </div>
                </div>

                <button id="startBtn"
                    class="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-12 py-5 rounded-2xl text-2xl font-bold cursor-pointer mb-6 transition-all duration-300 shadow-lg transform hover:scale-105">
                    ๐ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ ุงูุขู
                </button>

                <div class="flex justify-center gap-6 text-sm">
                    <button id="howItWorksBtn"
                        class="flex items-center gap-2 text-indigo-600 hover:text-indigo-800 font-medium transition-colors">
                        <span class="text-lg">โ</span>
                        ุชูุงุตูู ุฅุถุงููุฉ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ "ุงูุชูุงุตูู ุงูุฅุถุงููุฉ" -->
    <div id="howItWorksModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-3xl mx-4 max-h-96 overflow-y-auto">
            <h3 class="text-2xl font-bold text-indigo-800 mb-4">๐ ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงูุงุฎุชุจุงุฑ</h3>

            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                    <h4 class="font-bold text-green-700 mb-3">โ ูุง ูููุณู ุงูุงุฎุชุจุงุฑ:</h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li>โข ุฃููุงุท ุงูุชุนูู ุงูููุถูุฉ ูุฏูู</li>
                        <li>โข ููุงุท ุงูููุฉ ุงูุทุจูุนูุฉ ูู ุดุฎุตูุชู</li>
                        <li>โข ุงูุฃูุดุทุฉ ุงูุชู ุชุณุชูุชุน ุจูุง ุฃูุซุฑ</li>
                        <li>โข ุงููุฌุงูุงุช ุงูููููุฉ ุงูููุงุณุจุฉ ูู</li>
                        <li>โข ุทุฑู ุงูุชุนูู ุงูุฃูุซุฑ ูุนุงููุฉ ูุนู</li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold text-blue-700 mb-3">๐ ูุง ุณุชุญุตู ุนููู:</h4>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li>โข ุฑุณู ุจูุงูู ูุฌููุน ุฐูุงุกุงุชู ุงูุซูุงููุฉ</li>
                        <li>โข ุชุฑุชูุจ ุฃุนูู 3 ุฐูุงุกุงุช ูุฏูู</li>
                        <li>โข ุงูุชุฑุงุญุงุช ุทุฑู ุชุนูู ููุงุณุจุฉ</li>
                        <li>โข ุฃูุดุทุฉ ูููุงูุงุช ููุชุฑุญุฉ</li>
                        <li>โข ูุฌุงูุงุช ููููุฉ ุชูุงุณุจ ููููู</li>
                        <li>โข ุชูุฑูุฑ ูุงุจู ููุทุจุงุนุฉ ูุงููุดุงุฑูุฉ</li>
                    </ul>
                </div>
            </div>

            <div class="bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4">
                <h4 class="font-bold text-amber-800 mb-2">๐ฏ ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ:</h4>
                <ul class="text-sm text-amber-700 space-y-1">
                    <li>โข ุฃุฌุจ ุจูุงุกู ุนูู ุณูููู ุงูุทุจูุนูุ ููุณ ูุง ุชุชููุงู</li>
                    <li>โข ูุง ุชููุฑ ูู "ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ" - ูุง ุชูุฌุฏ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ</li>
                    <li>โข ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุฃููู ุงูุชู ุชุฎุทุฑ ุจุจุงูู</li>
                    <li>โข ููุฑ ูู ูุนุธู ุงูููุงููุ ููุณ ุงูุงุณุชุซูุงุกุงุช</li>
                </ul>
            </div>

            <div class="text-center">
                <button id="closeModalBtn"
                    class="bg-indigo-600 text-white px-8 py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                    ูููุชุ ุฃุฑูุฏ ุงูุจุฏุก
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชูุจูู ุงูุงุฎุชุจุงุฑ ุบูุฑ ุงูููุชูู -->
    <div id="incompleteTestModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">โ๏ธ</span>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">ุงูุงุฎุชุจุงุฑ ุบูุฑ ููุชูู</h3>
                <p class="text-gray-600" id="incompleteMessage">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌ ุงูุฑุณุงูุฉ ููุง -->
                </p>
            </div>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                <div class="flex items-start gap-3">
                    <span class="text-yellow-600 text-xl">๐ก</span>
                    <div class="text-sm text-yellow-800">
                        <p class="font-semibold mb-1">ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ:</p>
                        <p>ูููุตุญ ุจุฅููุงู ุฌููุน ุงูุฃุณุฆูุฉ ููุญุตูู ุนูู ุชูููู ุฏููู ูุดุงูู ูุฌููุน ุฃููุงุน ุงูุฐูุงุกุงุช ุงูุซูุงููุฉ.</p>
                    </div>
                </div>
            </div>

            <div class="flex flex-col gap-3">
                <button id="continueTestFromModal"
                    class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-semibold">
                    ๐ ุฅููุงู ุงูุฃุณุฆูุฉ ุงููุชุจููุฉ (ูููุตู ุจู)
                </button>
                <button id="showPartialResults"
                    class="bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors">
                    ๐ ุนุฑุถ ุงููุชุงุฆุฌ ุงูุญุงููุฉ
                </button>
                <button id="closeIncompleteModal" class="text-gray-600 hover:text-gray-800 underline text-sm">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ ุงููุญููุธ -->
    <div id="resumeTestModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">๐พ</span>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">ุงุฎุชุจุงุฑ ูุญููุธ</h3>
                <p class="text-gray-600" id="resumeMessage">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌ ุงูุฑุณุงูุฉ ููุง -->
                </p>
            </div>

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <div class="flex items-start gap-3">
                    <span class="text-blue-600 text-xl">๐ก</span>
                    <div class="text-sm text-blue-800">
                        <p class="font-semibold mb-1">ููููู:</p>
                        <p>โข ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ ูู ุญูุซ ุชูููุช</p>
                        <p>โข ุงูุจุฏุก ูู ุฌุฏูุฏ (ุณุชููุฏ ุงูุชูุฏู ุงููุญููุธ)</p>
                    </div>
                </div>
            </div>

            <div class="flex flex-col gap-3">
                <button id="resumeTestBtn"
                    class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">
                    ๐ ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ
                </button>
                <button id="startFreshBtn"
                    class="bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors">
                    ๐ ุจุฏุก ุฌุฏูุฏ
                </button>
                <button id="closeResumeModal" class="text-gray-600 hover:text-gray-800 underline text-sm">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ูุฑุงุฌุนุฉ ุงูุงุฎุชุจุงุฑ ูุจู ุงูุชุณููู -->
    <div id="reviewTestModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-2xl mx-4 max-h-96 overflow-y-auto">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">๐ฏ</span>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">ูุฑุงุฌุนุฉ ุงูุงุฎุชุจุงุฑ</h3>
                <p class="text-gray-600">ุชุฃูุฏ ูู ุฅุฌุงุจุงุชู ูุจู ุนุฑุถ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ</p>
            </div>

            <!-- ููุฎุต ุงูุฅุฌุงุจุงุช -->
            <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 mb-6 border border-green-200">
                <h4 class="text-lg font-bold text-green-800 mb-4 flex items-center gap-2">
                    <span class="text-xl">๐</span> ููุฎุต ุฅุฌุงุจุงุชู
                </h4>
                <div id="reviewSummary" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌ ุงูููุฎุต ููุง -->
                </div>
            </div>

            <!-- ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ (ุฅู ูุฌุฏุช) -->
            <div id="unansweredSection" class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 hidden">
                <h4 class="font-bold text-yellow-800 mb-3 flex items-center gap-2">
                    <span class="text-xl">โ๏ธ</span> ุฃุณุฆูุฉ ูู ุชุชู ุงูุฅุฌุงุจุฉ ุนูููุง
                </h4>
                <div id="unansweredList" class="text-sm text-yellow-700">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌ ูุงุฆูุฉ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ ููุง -->
                </div>
            </div>

            <!-- ูุตุงุฆุญ ุฃุฎูุฑุฉ -->
            <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6">
                <h4 class="font-bold text-blue-800 mb-3 flex items-center gap-2">
                    <span class="text-xl">๐ก</span> ุชุฐููุฑ ุฃุฎูุฑ
                </h4>
                <ul class="text-sm text-blue-700 space-y-2">
                    <li class="flex items-start gap-2">
                        <span class="text-blue-500 font-bold">โข</span>
                        <span>ุชุฃูุฏ ูู ุฃู ุฅุฌุงุจุงุชู ุชุนูุณ ุณูููู ุงูุทุจูุนู ูููุณ ูุง ุชุชููุงู</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-blue-500 font-bold">โข</span>
                        <span>ููููู ุงูุนูุฏุฉ ูุชุนุฏูู ุฃู ุฅุฌุงุจุฉ ูุจู ุนุฑุถ ุงููุชุงุฆุฌ</span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-blue-500 font-bold">โข</span>
                        <span>ุงููุชุงุฆุฌ ุณุชููู ุฃูุซุฑ ุฏูุฉ ูููุง ููุช ุฃูุซุฑ ุตุฏูุงู</span>
                    </li>
                </ul>
            </div>

            <div class="flex flex-col gap-3">
                <button id="proceedToResults"
                    class="bg-green-600 text-white px-8 py-4 rounded-lg hover:bg-green-700 transition-colors font-bold text-lg">
                    ๐ฏ ุนุฑุถ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ
                </button>
                <button id="reviewAnswers"
                    class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-semibold">
                    ๐ ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช
                </button>
                <button id="closeReviewModal" class="text-gray-600 hover:text-gray-800 underline text-sm">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงูุฏููู ุงูุณุฑูุน -->
    <div id="onboarding-screen" class="hidden container mx-auto px-4 py-8 max-w-4xl">
        <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-indigo-800 mb-4">ุฏููู ุณุฑูุน</h2>
            <p class="text-gray-600">ูุตุงุฆุญ ูููุฉ ูุจู ุงูุจุฏุก</p>
        </div>

        <div class="grid md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-2xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                <div class="text-4xl mb-4">๐ฏ</div>
                <h3 class="text-xl font-semibold mb-3 text-indigo-800">ุงุตุฏู ูุน ููุณู</h3>
                <p class="text-gray-600">ุงุฎุชุฑ ูุง ูุดุจูู ูุนููุงุ ูุง ุชูุฌุฏ ุฅุฌุงุจุฉ ุตุญูุญุฉ ุฃู ุฎุงุทุฆุฉ</p>
            </div>

            <div class="bg-white rounded-2xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                <div class="text-4xl mb-4">๐</div>
                <h3 class="text-xl font-semibold mb-3 text-indigo-800">ุชูุฏู ูุงุถุญ</h3>
                <p class="text-gray-600">ุณุชุฑู ุฑูู ุงูุณุคุงูุ ููุณุจุฉ ุงูุชูุฏูุ ููู ุชุจููู ูู ุงูุฃุณุฆูุฉ</p>
            </div>

            <div class="bg-white rounded-2xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                <div class="text-4xl mb-4">๐</div>
                <h3 class="text-xl font-semibold mb-3 text-indigo-800">ุชูุฑูุฑ ูููุฏ</h3>
                <p class="text-gray-600">ุณุชุชุนุฑู ุนูู ุฃุนูู ุฐูุงุกุงุชูุ ูุน ุทุฑู ุชุนููู ูุชุฎุตุตุงุช ููุงุณุจุฉ ูู</p>
            </div>
        </div>

        <div class="text-center">
            <button id="startTestBtn"
                class="bg-indigo-600 text-white px-8 py-4 rounded-lg text-xl font-semibold hover:bg-indigo-700 transition-colors">
                ูููุชุ ููุจุฏุฃ
            </button>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงูุฃุณุฆูุฉ -->
    <div id="test-screen" class="hidden">
        <!-- ุดุฑูุท ุนููู ุซุงุจุช -->
        <div class="bg-white shadow-md px-4 py-3 sticky top-0 z-40">
            <div class="container mx-auto flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="font-semibold text-indigo-800">ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</span>
                    <span class="w-2 h-2 bg-green-500 rounded-full" title="ูุญููุธ ุชููุงุฆููุง"></span>
                </div>

                <div class="flex items-center gap-4">
                    <div class="text-lg font-semibold">
                        <span id="currentQuestion"></span> / <span id="countQuestions"></span>
                    </div>
                    <div class="relative w-12 h-12">
                        <svg class="w-12 h-12 progress-circle">
                            <circle cx="24" cy="24" r="20" stroke="#e5e7eb" stroke-width="4" fill="none" />
                            <circle id="progressCircle" cx="24" cy="24" r="20" stroke="#4f46e5" stroke-width="4"
                                fill="none" stroke-dasharray="125.6" stroke-dashoffset="125.6" />
                        </svg>
                        <div
                            class="absolute inset-0 flex items-center justify-center text-xs font-bold text-indigo-600">
                            <span id="progressPercent"></span>
                        </div>
                    </div>
                </div>

                <div id="timer" class="text-sm text-gray-600 hidden">
                    โฑ๏ธ <span id="timerDisplay">00:00</span>
                </div>
            </div>
        </div>

        <!-- ุดุฑูุท ุงูุชูุฏู ุงูุชูุงุนูู -->
        <div class="bg-gray-50 px-4 py-3">
            <div class="container mx-auto">
                <div id="progressTimeline" class="flex flex-wrap gap-1 justify-center">
                    <!-- ุณูุชู ุฅูุดุงุคูุง ุจู JavaScript -->
                </div>
            </div>
        </div>

        <!-- ูุญุชูู ุงูุณุคุงู -->
        <div class="container mx-auto px-4 py-8 max-w-4xl">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <!-- ุนููุงู ุงูุงุฎุชุจุงุฑ -->
                <div class="text-center mb-6">
                    <div class="inline-flex items-center gap-3 bg-indigo-100 px-4 py-2 rounded-full">
                        <span id="currentIntelligenceIcon" class="text-2xl">๐ง</span>
                        <span id="currentIntelligenceName" class="font-semibold text-indigo-800">ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช
                            ุงููุชุนุฏุฏุฉ</span>
                    </div>
                </div>

                <!-- ุดุฑุญ ููุน ุงูุณุคุงู -->
                <!-- <div id="questionTypeExplanation" class="mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                    ุณูุชู ุฅุฏุฑุงุฌ ุดุฑุญ ููุน ุงูุณุคุงู ููุง
                </div> -->

                <!-- ุงูุณุคุงู -->
                <div id="questionContainer" class="mb-8">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌ ุงูุณุคุงู ููุง -->
                </div>

                <!-- ุณุทุฑ ุงูุชูุฏู ุงููุตู -->
                <div class="text-center text-sm text-gray-600">
                    <span id="progressText">ุชูุช ุงูุฅุฌุงุจุฉ ุนูู 0 ูู 40 ยท ุงููุชุจูู: 40 ุณุคุงููุง</span>
                    <div id="autoSaveMessage" class="text-green-600 mt-2 opacity-0 transition-opacity">
                        ุชู ุงูุญูุธ โ
                    </div>
                </div>

                <!-- ูุคุดุฑ ุงูุงูุชูุงู ุงูุชููุงุฆู
                <div id="autoAdvanceIndicator" class="text-center mb-4 opacity-0 transition-opacity duration-300">
                    <div class="inline-flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-full">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm font-medium">ุงูุงูุชูุงู ููุณุคุงู ุงูุชุงูู...</span>
                    </div>
                </div> -->

                <!-- ุฃุฒุฑุงุฑ ุงูุชููู -->
                <div class="flex justify-between items-center">
                    <button id="prevBtn"
                        class="bg-yellow-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        ุฑุฌูุน
                    </button>

                    <div class="text-center autoSubmit">
                        <div id="autoSubmitText" class="text-xs bg-blue-100 text-gray-500 mt-1">
                            ๐ก ุงุถุบุท ููุง ูุชุนุทูู ุงูุงูุชูุงู ุชููุงุฆูุงู ุจุนุฏ ุงูุฅุฌุงุจุฉ
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <!-- <button id="finishTestBtn"
                            class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold hidden">
                            ๐ ุฅููุงุก ุงูุงุฎุชุจุงุฑ
                        </button> -->
                        <button id="nextBtn"
                            class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                            ุงูุชุงูู
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงุณุชุฑุงุญุฉ ููุชุตู ุงูุทุฑูู -->
    <div id="midway-break"
        class="hidden fixed inset-0 bg-indigo-900 bg-opacity-95 flex items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 text-center max-w-md mx-4">
            <h3 class="text-2xl font-bold text-indigo-800 mb-4">ุฃุญุณูุช! ูุตูุช ูููุตู ๐</h3>
            <p class="text-gray-600 mb-6">ุฎุฐ ููุณูุง ุนููููุง ูุงุณุชุฑุญ ููููุงู</p>

            <!-- ุชูุฑูู ุงูุชููุณ -->
            <div class="mb-6">
                <div class="breathing-circle w-24 h-24 bg-indigo-200 rounded-full mx-auto mb-4"></div>
                <div id="breathingText" class="text-lg font-semibold text-indigo-600">ุดููู... 4</div>
            </div>

            <button id="continueTestBtn"
                class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                ุฃููู ุงูุงุฎุชุจุงุฑ
            </button>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุนุฏุงุฏุงุช ุนุฑุถ ุงููููุณู -->
    <div id="consoleSettingsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-lg mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">๐ฅ๏ธ</span>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">ุฅุนุฏุงุฏุงุช ุนุฑุถ ุงููููุณู</h3>
                <p class="text-gray-600">ุงุฎุชุฑ ูุง ุชุฑูุฏ ุนุฑุถู ูู ุงููููุณู</p>
            </div>

            <div class="space-y-4 mb-6">
                <label
                    class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" id="showDetailedScoring" class="w-5 h-5" checked>
                    <div>
                        <div class="font-semibold text-gray-800">ุชูุงุตูู ุญุณุงุจ ุงูููุงุท</div>
                        <div class="text-sm text-gray-600">ุนุฑุถ ููููุฉ ุญุณุงุจ ุงูููุงุท ููู ุฐูุงุก</div>
                    </div>
                </label>

                <label
                    class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" id="showQuestionAnalysis" class="w-5 h-5" checked>
                    <div>
                        <div class="font-semibold text-gray-800">ุชุญููู ุงูุฃุณุฆูุฉ</div>
                        <div class="text-sm text-gray-600">ุชุญููู ุชูุตููู ููู ุณุคุงู ูุฅุฌุงุจุฉ</div>
                    </div>
                </label>

                <label
                    class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" id="showRecommendations" class="w-5 h-5" checked>
                    <div>
                        <div class="font-semibold text-gray-800">ุงูุชูุตูุงุช ูุงููุตุงุฆุญ</div>
                        <div class="text-sm text-gray-600">ุทุฑู ุงูุชุนูู ูุงูุฃูุดุทุฉ ุงูููุชุฑุญุฉ</div>
                    </div>
                </label>

                <label
                    class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" id="showStatistics" class="w-5 h-5" checked>
                    <div>
                        <div class="font-semibold text-gray-800">ุงูุฅุญุตุงุฆูุงุช ุงููุชูุฏูุฉ</div>
                        <div class="text-sm text-gray-600">ุงููุชูุณุทุงุช ูุงูุงูุญุฑุงู ุงููุนูุงุฑู</div>
                    </div>
                </label>

                <label
                    class="flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                    <input type="checkbox" id="enablePerformanceMetrics" class="w-5 h-5" checked>
                    <div>
                        <div class="font-semibold text-gray-800">ููุงููุณ ุงูุฃุฏุงุก</div>
                        <div class="text-sm text-gray-600">ููุช ุงูุงุฎุชุจุงุฑ ููุนุฏู ุงูุฅุฌุงุจุฉ</div>
                    </div>
                </label>
            </div>

            <div class="flex flex-col gap-3">
                <button id="applyConsoleSettings"
                    class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-semibold">
                    ๐ฅ๏ธ ุนุฑุถ ูู ุงููููุณู
                </button>
                <button id="closeConsoleModal" class="text-gray-600 hover:text-gray-800 underline text-sm">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงููุชุงุฆุฌ -->
    <div id="results-screen" class="hidden container mx-auto px-4 py-8 max-w-6xl">
        <div class="text-center mb-8">
            <h2 class="text-4xl font-bold text-indigo-800 mb-4">
                ูุชูุฌุชู ูู ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ
            </h2>
            <p class="text-xl text-gray-600">ูุฑุญุจูุง <span id="resultUserName"
                    class="font-semibold text-indigo-600"></span>!</p>
        </div>

        <!-- ููุฎุต ููุท ุงูุฐูุงุกุงุช -->
        <div
            class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl shadow-lg p-6 mb-8 border border-indigo-200">
            <h3 class="text-2xl font-bold text-center mb-6 text-indigo-800 flex items-center justify-center gap-3">
                <span class="text-3xl">๐ง</span>
                ููุท ุฐูุงุกุงุชู ุงููุชุนุฏุฏุฉ
            </h3>
            <div id="intelligencePattern" class="text-center">
                <!-- ุณูุชู ุฅุฏุฑุงุฌ ููุท ุงูุฐูุงุกุงุช ููุง -->
            </div>
        </div>

        <!-- ููุงุฑูุฉ ูุน ุงููุชูุณุท ุงูุนุงู -->
        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-6 mb-8 border border-blue-200">
            <h3 class="text-2xl font-semibold text-center mb-6 flex items-center justify-center gap-3">
                <span class="text-3xl">๐</span>
                ููุงุฑูุฉ ูุชุงุฆุฌู ูุน ุงููุชูุณุท ุงูุนุงู
            </h3>
            <p class="text-center text-gray-600 mb-6">ููู ุชูุงุฑู ูุชุงุฆุฌู ูุน ูุชูุณุท ุงูุฃุดุฎุงุต ุงูุขุฎุฑููุ</p>
            <div id="averageComparison" class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- ุณูุชู ุฅุฏุฑุงุฌ ุงูููุงุฑูุงุช ููุง -->
            </div>
        </div>

        <!-- ุฃูู 3 ุฐูุงุกุงุช - ูุฌุงูุงุช ููุชุทููุฑ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-semibold text-center mb-6 flex items-center justify-center gap-3">
                <span class="text-3xl">๐</span>
                ูุฌุงูุงุช ููุชุทููุฑ ูุงูููู
            </h3>
            <p class="text-center text-gray-600 mb-6">ูุฐู ุงูุฐูุงุกุงุช ุชุญุชุงุฌ ููุฒูุฏ ูู ุงูุงูุชูุงู ูุงูุชุทููุฑ</p>
            <div id="lowestIntelligences" class="grid md:grid-cols-3 gap-6">
                <!-- ุณูุชู ุฅุฏุฑุงุฌ ุฃูู 3 ุฐูุงุกุงุช ููุง -->
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <!-- ุงูุฑุณู ุงูุจูุงูู -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-semibold text-center mb-4">ุชูุฒูุน ุฐูุงุกุงุชู</h3>
                <div class="relative">
                    <canvas id="resultsChart" width="400" height="400"></canvas>
                </div>
            </div>

            <!-- ุฃุนูู 3 ุฐูุงุกุงุช -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-semibold text-center mb-4">ุฃุนูู ุฐูุงุกุงุชู</h3>
                <div id="topIntelligences" class="space-y-4">
                    <!-- ุณูุชู ุฅุฏุฑุงุฌูุง ุจู JavaScript -->
                </div>
            </div>
        </div>

        <!-- ุงูุชูุตูุงุช ุงูุดุฎุตูุฉ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-semibold text-center mb-6 flex items-center justify-center gap-3">
                <span class="text-3xl">๐ฏ</span>
                ุชูุตูุงุช ุดุฎุตูุฉ ูู
            </h3>
            <div id="personalRecommendations" class="grid md:grid-cols-2 gap-6">
                <!-- ุณูุชู ุฅุฏุฑุงุฌูุง ุจู JavaScript -->
            </div>
        </div>

        <!-- ุฎุทุฉ ุงูุชุทููุฑ ุงูุดุฎุตูุฉ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-semibold text-center mb-6 flex items-center justify-center gap-3">
                <span class="text-3xl">๐</span>
                ุฎุทุฉ ุงูุชุทููุฑ ุงูุดุฎุตูุฉ
            </h3>
            <div id="developmentPlan" class="grid md:grid-cols-2 gap-6">
                <!-- ุณูุชู ุฅุฏุฑุงุฌูุง ุจู JavaScript -->
            </div>
        </div>

        <!-- ุงูุชูุงุตูู ุงููุงููุฉ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-semibold text-center mb-6">ุชูุงุตูู ุดุงููุฉ ููู ุฐูุงุก</h3>
            <div id="detailedResults" class="space-y-6">
                <!-- ุณูุชู ุฅุฏุฑุงุฌูุง ุจู JavaScript -->
            </div>
        </div>
        <div class="flex flex-wrap justify-center gap-4">
            <!-- <button id="downloadPdfBtn"
                class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2">
                ๐ ุชุญููู PDF
            </button> -->
            <button id="retakeBtn"
                class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                ุงูุงูุชูุงู ุงูู ุตูุญุฉ ุงูุชูููู
            </button>
        </div>
    </div>

    <script>
        let autoSubmit = true;

        // ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ
        const intelligences = {
            linguistic: { name: 'ูุบูู/ููุธู', icon: '๐', color: '#ef4444' },
            logical: { name: 'ููุทูู/ุฑูุงุถู', icon: '๐ข', color: '#f97316' },
            spatial: { name: 'ุจุตุฑู/ููุงูู', icon: '๐จ', color: '#eab308' },
            bodily: { name: 'ุฌุณุฏู/ุญุฑูู', icon: '๐', color: '#22c55e' },
            musical: { name: 'ุฅููุงุนู', icon: '๐ต', color: '#06b6d4' },
            interpersonal: { name: 'ุงุฌุชูุงุนู', icon: '๐ฅ', color: '#3b82f6' },
            intrapersonal: { name: 'ุฐุงุชู', icon: '๐ญ', color: '#8b5cf6' },
            naturalist: { name: 'ุทุจูุนู/ุจูุฆู', icon: '๐ฟ', color: '#10b981' }
        };

        // ุชูุงุตูู ุดุงููุฉ ููู ููุน ุฐูุงุก
        const intelligenceDetails = {
            linguistic: {
                description: 'ูุชููุฒ ุงูุฃุดุฎุงุต ุฐูู ุงูุฐูุงุก ุงููุบูู ุจุญุจูู ูููููุงุช ูุงููุฑุงุกุฉ ูุงููุชุงุจุฉ. ูุชุนูููู ุจุดูู ุฃูุถู ูู ุฎูุงู ุงูุงุณุชูุงุน ูุงูุชุญุฏุซ ูุงููุฑุงุกุฉุ ููุฏููู ูุฏุฑุฉ ุนุงููุฉ ุนูู ุงูุชุนุจูุฑ ุนู ุฃููุณูู ุจูุถูุญ.',
                strengths: [
                    'ุงูุชุนุจูุฑ ุงููุงุถุญ ูุงูุจููุบ',
                    'ุญูุธ ุงููุนูููุงุช ุงูููุธูุฉ ุจุณูููุฉ',
                    'ููู ููุงุนุฏ ุงููุบุฉ ูุงููุญู',
                    'ุงูุงุณุชูุชุงุน ุจุงููุฑุงุกุฉ ูุงููุชุงุจุฉ',
                    'ุงููุฏุฑุฉ ุนูู ุงูุฅููุงุน ูุงูุชุฃุซูุฑ ุจุงููููุงุช'
                ],
                learningMethods: [
                    'ุงููุฑุงุกุฉ ุจุตูุช ุนุงูู',
                    'ูุชุงุจุฉ ุงูููุงุญุธุงุช ูุงูููุฎุตุงุช',
                    'ุงูููุงูุดุงุช ูุงูุญูุงุฑุงุช',
                    'ุงูุงุณุชูุงุน ูููุญุงุถุฑุงุช ูุงูุจูุฏูุงุณุช',
                    'ุงุณุชุฎุฏุงู ุงููููุงุช ุงูููุชุงุญูุฉ ูุงููุฑุงุฏูุงุช'
                ],
                activities: [
                    'ูุชุงุจุฉ ุงูููููุงุช ูุงููุตุต',
                    'ูุฑุงุกุฉ ุงููุชุจ ูุงูุฑูุงูุงุช',
                    'ุงููุดุงุฑูุฉ ูู ุงูููุงุดุงุช ุงูุฃุฏุจูุฉ',
                    'ุชุนูู ูุบุงุช ุฌุฏูุฏุฉ',
                    'ูุชุงุจุฉ ุงูุดุนุฑ ูุงูุฎูุงุทุฑ',
                    'ุงููุดุงุฑูุฉ ูู ุงููุณุงุจูุงุช ุงูุซูุงููุฉ'
                ],
                careers: [
                    'ูุงุชุจ ููุคูู',
                    'ุตุญูู ููุฑุงุณู',
                    'ูุชุฑุฌู',
                    'ูุญุงูู',
                    'ูุฏุฑุณ ูุบุฉ',
                    'ูุญุฑุฑ ููุฏูู ูุบูู',
                    'ูุฐูุน ุฅุฐุงุนู ูุชููุฒูููู',
                    'ุดุงุนุฑ ูุฃุฏูุจ'
                ]
            },
            logical: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูููุทูู ุจุญุจูู ููุฃุฑูุงู ูุงูุฃููุงุท ูุงูุชุญููู ุงูููุทูู. ูุณุชูุชุนูู ุจุญู ุงููุดููุงุช ุงููุนูุฏุฉ ูููุถููู ุงูุชูููุฑ ุงููููุฌู ูุงูููุทูู ูู ุฌููุน ุฌูุงูุจ ุงูุญูุงุฉ.',
                strengths: [
                    'ุงูุชูููุฑ ุงูุชุญูููู ูุงูููุทูู',
                    'ุญู ุงููุดููุงุช ุงููุนูุฏุฉ',
                    'ููู ุงูุฃููุงุท ูุงูุนูุงูุงุช',
                    'ุงูุนูู ูุน ุงูุฃุฑูุงู ูุงูุฅุญุตุงุฆูุงุช',
                    'ุงูุชุฎุทูุท ุงููููุฌู ูุงูุชูุธูู'
                ],
                learningMethods: [
                    'ุญู ุงููุณุงุฆู ูุงูุชูุงุฑูู ุงูุนูููุฉ',
                    'ุงุณุชุฎุฏุงู ุงูุฑุณูู ุงูุจูุงููุฉ ูุงูุฌุฏุงูู',
                    'ุงูุชุนูู ุฎุทูุฉ ุจุฎุทูุฉ',
                    'ุฑุจุท ุงููุนูููุงุช ุจุงูุฃุณุจุงุจ ูุงููุชุงุฆุฌ',
                    'ุงุณุชุฎุฏุงู ุงูุฃูุซูุฉ ุงูุฑูููุฉ ูุงูุฅุญุตุงุฆูุฉ'
                ],
                activities: [
                    'ุญู ุงูุฃูุบุงุฒ ูุงูุฃุญุงุฌู ุงูุฑูุงุถูุฉ',
                    'ูุนุจ ุงูุดุทุฑูุฌ ูุงูุฃูุนุงุจ ุงูุงุณุชุฑุงุชูุฌูุฉ',
                    'ุงูุจุฑูุฌุฉ ูุชุทููุฑ ุงูุชุทุจููุงุช',
                    'ุฅุฌุฑุงุก ุงูุชุฌุงุฑุจ ุงูุนูููุฉ',
                    'ุชุญููู ุงูุจูุงูุงุช ูุงูุฅุญุตุงุฆูุงุช',
                    'ุฏุฑุงุณุฉ ุงูููุณูุฉ ูุงูููุทู'
                ],
                careers: [
                    'ูููุฏุณ',
                    'ุนุงูู ุฑูุงุถูุงุช',
                    'ูุญุงุณุจ ููุญูู ูุงูู',
                    'ูุจุฑูุฌ ููุทูุฑ ุจุฑูุฌูุงุช',
                    'ุนุงูู ููุฒูุงุก ุฃู ููููุงุก',
                    'ูุญูู ุจูุงูุงุช',
                    'ุจุงุญุซ ุนููู',
                    'ูุณุชุดุงุฑ ุฅุฏุงุฑู'
                ]
            },
            spatial: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุจุตุฑู ุงูููุงูู ุจูุฏุฑุชูู ุนูู ุงูุชูููุฑ ุจุงูุตูุฑ ูุงูุฃุดูุงู. ูุชุนูููู ุจุดูู ุฃูุถู ูู ุฎูุงู ุงูุฑุคูุฉ ูุงูุชุฎููุ ููุฏููู ุญุณ ููู ููู ููุฏุฑุฉ ุนูู ุชุตูุฑ ุงูุฃุดูุงุก ูู ุงููุถุงุก.',
                strengths: [
                    'ุงูุชูููุฑ ุงูุจุตุฑู ูุงูุชุฎูู',
                    'ููู ุงูุฎุฑุงุฆุท ูุงููุฎุทุทุงุช',
                    'ุงูุญุณ ุงูููู ูุงูุฌูุงูู',
                    'ุชุฐูุฑ ุงููุฌูู ูุงูุฃูุงูู',
                    'ุงููุฏุฑุฉ ุนูู ุงูุชุตููู ูุงูุฅุจุฏุงุน ุงูุจุตุฑู'
                ],
                learningMethods: [
                    'ุงุณุชุฎุฏุงู ุงูุตูุฑ ูุงูุฑุณูู ุงูุชูุถูุญูุฉ',
                    'ุนูู ุงูุฎุฑุงุฆุท ุงูุฐูููุฉ',
                    'ุงูุชุนูู ุจุงูุฃููุงู ูุงูุฑููุฒ',
                    'ูุดุงูุฏุฉ ุงูููุฏูููุงุช ุงูุชุนููููุฉ',
                    'ุงุณุชุฎุฏุงู ุงูููุงุฐุฌ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ'
                ],
                activities: [
                    'ุงูุฑุณู ูุงูุชุตููุฑ',
                    'ุงูุชุตููู ุงูุฌุฑุงูููู',
                    'ุงููุญุช ูุงูุฃุนูุงู ุงููููุฉ',
                    'ุงูุชุตููุฑ ุงูููุชูุบุฑุงูู',
                    'ุจูุงุก ุงูููุงุฐุฌ ูุงููุฌุณูุงุช',
                    'ุชุฑุชูุจ ูุชูุณูู ุงููุณุงุญุงุช'
                ],
                careers: [
                    'ูุตูู ุฌุฑุงููู',
                    'ูููุฏุณ ูุนูุงุฑู',
                    'ููุงู ุชุดูููู',
                    'ูุตูุฑ ููุชูุบุฑุงูู',
                    'ูุตูู ุฏุงุฎูู',
                    'ุฑุณุงู ูุงุฑููุงุชูุฑ',
                    'ูุฎุฑุฌ ุณูููุงุฆู',
                    'ูุตูู ุฃูุนุงุจ'
                ]
            },
            bodily: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุฌุณุฏู ุงูุญุฑูู ุจุญุจูู ููุญุฑูุฉ ูุงููุดุงุท ุงูุจุฏูู. ูุชุนูููู ุจุดูู ุฃูุถู ูู ุฎูุงู ุงูุชุฌุฑุจุฉ ุงูุนูููุฉ ูุงุณุชุฎุฏุงู ุฃุฌุณุงูููุ ููุฏููู ููุงุฑุงุช ุญุฑููุฉ ูุชูุฏูุฉ ูุชูุงุณู ุฌูุฏ.',
                strengths: [
                    'ุงูุชูุงุณู ุงูุญุฑูู ูุงูููุงุฑุงุช ุงูุจุฏููุฉ',
                    'ุงูุชุนูู ูู ุฎูุงู ุงูุชุฌุฑุจุฉ ุงูุนูููุฉ',
                    'ุงุณุชุฎุฏุงู ุงููุฏูู ุจููุงุฑุฉ',
                    'ุงูุชุนุจูุฑ ุจูุบุฉ ุงูุฌุณุฏ',
                    'ุฑุฏูุฏ ุงููุนู ุงูุณุฑูุนุฉ ูุงูุฏูููุฉ'
                ],
                learningMethods: [
                    'ุงูุชุนูู ุจุงูููุงุฑุณุฉ ูุงูุชุฌุฑุจุฉ',
                    'ุงูุญุฑูุฉ ุฃุซูุงุก ุงูุฏุฑุงุณุฉ',
                    'ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช ูุงูููุงุฏ ุงูููููุณุฉ',
                    'ุงูุชุนูู ูู ุงูููุงุก ุงูุทูู',
                    'ุงูุฃูุดุทุฉ ุงูุชูุงุนููุฉ ูุงูุนูููุฉ'
                ],
                activities: [
                    'ููุงุฑุณุฉ ุงูุฑูุงุถุฉ ูุงูุฃูุนุงุจ',
                    'ุงูุฑูุต ูุงูุญุฑูุงุช ุงูุฅููุงุนูุฉ',
                    'ุงูุฃุนูุงู ุงููุฏููุฉ ูุงูุญุฑู',
                    'ุงูุทุจุฎ ูุงูุฎุจุฒ',
                    'ุงูุจุณุชูุฉ ูุงูุฒุฑุงุนุฉ',
                    'ุงูุชูุซูู ูุงูุฃุฏุงุก ุงููุณุฑุญู'
                ],
                careers: [
                    'ุฑูุงุถู ูุญุชุฑู',
                    'ูุฏุฑุจ ุฑูุงุถู',
                    'ุฑุงูุต ุฃู ูุตูู ุฑูุตุงุช',
                    'ุฌุฑุงุญ',
                    'ุญุฑูู ูุงูุฑ',
                    'ุทุจูุจ ุนูุงุฌ ุทุจูุนู',
                    'ููุซู',
                    'ุทูุงุฑ'
                ]
            },
            musical: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุฅููุงุนู ุจุญุณุงุณูุชูู ููุฃุตูุงุช ูุงูุฅููุงุนุงุช ูุงูุฃููุงุท ุงูููุชุธูุฉ. ูุญุจูู ุงููุธุงู ูุงูุชูุฑุงุฑ ุงูููุชุธูุ ููุชุนูููู ุจุดูู ุฃูุถู ูู ุจูุฆุฉ ููุธูุฉ ูููุชุธูุฉ.',
                strengths: [
                    'ููุงุญุธุฉ ุงูุฃููุงุท ูุงูุฅููุงุนุงุช',
                    'ุงูุญุณุงุณูุฉ ููุฃุตูุงุช ูุงููุบูุงุช',
                    'ุงูุชูุธูู ูุงูุชุฑุชูุจ ุงููููุฌู',
                    'ุงูุชุนูู ุจุงูุชูุฑุงุฑ ุงูููุชุธู',
                    'ุฅุฏุงุฑุฉ ุงูููุช ูุงูุฌุฏุงูู ุงูุฒูููุฉ'
                ],
                learningMethods: [
                    'ุงูุชุนูู ุจุงูุฅููุงุน ูุงูุชูุฑุงุฑ',
                    'ุงุณุชุฎุฏุงู ุงูุฌุฏุงูู ุงูุฒูููุฉ ุงูููุชุธูุฉ',
                    'ุงูุชุนูู ูู ุจูุฆุฉ ูุงุฏุฆุฉ ูููุธูุฉ',
                    'ุฑุจุท ุงููุนูููุงุช ุจุงูุฃููุงุท',
                    'ุงุณุชุฎุฏุงู ุงูุฃุตูุงุช ูุงููุบูุงุช ูู ุงูุชุนูู'
                ],
                activities: [
                    'ุงูุงุณุชูุงุน ููููุณููู ูุงูุฃุตูุงุช ุงูุทุจูุนูุฉ',
                    'ุชูุธูู ุงูุฃุนูุงู ุจุฌุฏุงูู ุฒูููุฉ',
                    'ููุงุฑุณุฉ ุงูุชูุงุฑูู ุจุฅููุงุน ููุชุธู',
                    'ุชุนูู ุงูุขูุงุช ุงูููุณูููุฉ',
                    'ุฅูุดุงุก ููุงุฆู ูุฌุฏุงูู ููุธูุฉ',
                    'ููุงุฑุณุฉ ุงูุชุฃูู ูุงูุงุณุชุฑุฎุงุก'
                ],
                careers: [
                    'ููุณููู ุฃู ุนุงุฒู',
                    'ููุธู ูุนุงููุงุช',
                    'ูุฏูุฑ ูุดุงุฑูุน',
                    'ูุญุงุณุจ',
                    'ูุฏุฑุจ ุชูููุฉ ุจุดุฑูุฉ',
                    'ูููุฏุณ ุตูุช',
                    'ูุฏูุฑ ุฅุฏุงุฑู',
                    'ูุทูุฑ ุฃูุธูุฉ'
                ]
            },
            interpersonal: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุงุฌุชูุงุนู ุจูุฏุฑุชูู ุนูู ููู ุงูุขุฎุฑูู ูุงูุชูุงุตู ูุนูู ุจูุนุงููุฉ. ูุญุจูู ุงูุนูู ุงูุฌูุงุนู ููุฏููู ููุงุฑุงุช ููุงุฏูุฉ ูุชุฃุซูุฑ ุฅูุฌุงุจู ุนูู ูู ุญูููู.',
                strengths: [
                    'ููู ูุดุงุนุฑ ูุฏูุงูุน ุงูุขุฎุฑูู',
                    'ุงูุชูุงุตู ุงููุนุงู ูุงูุฅููุงุน',
                    'ุงูููุงุฏุฉ ูุงูุชุฃุซูุฑ ุงูุฅูุฌุงุจู',
                    'ุจูุงุก ุงูุนูุงูุงุช ุงููููุฉ',
                    'ุญู ุงููุฒุงุนุงุช ูุงููุณุงุทุฉ'
                ],
                learningMethods: [
                    'ุงูุชุนูู ูู ูุฌููุนุงุช',
                    'ุงูููุงูุดุงุช ูุงูุญูุงุฑุงุช',
                    'ุงูุชุนูู ุงูุชุนุงููู ูุงูุชุดุงุฑูู',
                    'ูุนุจ ุงูุฃุฏูุงุฑ ูุงููุญุงูุงุฉ',
                    'ุงูุชุนูู ูู ุฎูุงู ุงูุชุฏุฑูุณ ููุขุฎุฑูู'
                ],
                activities: [
                    'ุงููุดุงุฑูุฉ ูู ุงูุฃูุดุทุฉ ุงูุฌูุงุนูุฉ',
                    'ุชูุธูู ุงููุนุงููุงุช ุงูุงุฌุชูุงุนูุฉ',
                    'ุงูุนูู ุงูุชุทูุนู ูุงูุฎูุฑู',
                    'ุงูุชุฏุฑูุจ ูุงูุชูุฌูู',
                    'ุงููุดุงุฑูุฉ ูู ุงูููุงุฏู ูุงูุฌูุนูุงุช',
                    'ููุงุฑุณุฉ ุงูุฃูุนุงุจ ุงูุฌูุงุนูุฉ'
                ],
                careers: [
                    'ูุฏูุฑ ููุงุฑุฏ ุจุดุฑูุฉ',
                    'ูุณุชุดุงุฑ ููุณู ุฃู ุงุฌุชูุงุนู',
                    'ูุฏุฑุณ ุฃู ูุฏุฑุจ',
                    'ููุฏูุจ ูุจูุนุงุช',
                    'ุณูุงุณู ุฃู ุฏุจูููุงุณู',
                    'ูุฏูุฑ ุชุณููู',
                    'ููุณู ุงุฌุชูุงุนู',
                    'ูุฐูุน ุฃู ุฅุนูุงูู'
                ]
            },
            intrapersonal: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุฐุงุชู ุจููููู ุงูุนููู ูุฃููุณูู ููุดุงุนุฑูู ูุฃูุฏุงููู. ูุญุจูู ุงูุชุฃูู ูุงูุชููุฑุ ููุฏููู ูุฏุฑุฉ ุนุงููุฉ ุนูู ุงูุชุญููู ุงูุฐุงุชู ูุงูุชุทููุฑ ุงูุดุฎุตู.',
                strengths: [
                    'ุงููุนู ุงูุฐุงุชู ูุงูููู ุงูุนููู ููููุณ',
                    'ุฅุฏุงุฑุฉ ุงููุดุงุนุฑ ูุงูุงููุนุงูุงุช',
                    'ูุถุน ุงูุฃูุฏุงู ูุงูุชุฎุทูุท ุงูุดุฎุตู',
                    'ุงูุชุฃูู ูุงูุชููุฑ ุงูุนููู',
                    'ุงูุงุณุชููุงููุฉ ูู ุงูุชุนูู ูุงูุนูู'
                ],
                learningMethods: [
                    'ุงูุชุนูู ุงูุฐุงุชู ูุงููุฑุฏู',
                    'ุงูุชุฃูู ูุงูุชููุฑ ูู ุงููุนูููุงุช',
                    'ุฑุจุท ุงูุชุนูู ุจุงูุฃูุฏุงู ุงูุดุฎุตูุฉ',
                    'ูุชุงุจุฉ ุงูููููุงุช ูุงูุชุฃููุงุช',
                    'ุงูุชุนูู ูู ุจูุฆุฉ ูุงุฏุฆุฉ ูููุนุฒูุฉ'
                ],
                activities: [
                    'ูุชุงุจุฉ ุงูููููุงุช ูุงูุชุฃููุงุช ุงูุดุฎุตูุฉ',
                    'ููุงุฑุณุฉ ุงูุชุฃูู ูุงูุงุณุชุฑุฎุงุก',
                    'ูุถุน ุงูุฃูุฏุงู ูุงูุฎุทุท ุงูุดุฎุตูุฉ',
                    'ุงููุฑุงุกุฉ ูู ุงูุชุทููุฑ ุงูุฐุงุชู',
                    'ููุงุฑุณุฉ ุงูููุงูุงุช ุงููุฑุฏูุฉ',
                    'ุงูุณูุฑ ูุงูุงุณุชูุดุงู ุงูุฐุงุชู'
                ],
                careers: [
                    'ูุงุชุจ ุฃู ูุคูู',
                    'ูุณุชุดุงุฑ ุดุฎุตู',
                    'ุจุงุญุซ ุฃู ุนุงูู',
                    'ูููุณูู ุฃู ูููุฑ',
                    'ูุฏุฑุจ ุชูููุฉ ุฐุงุชูุฉ',
                    'ุฑุงุฆุฏ ุฃุนูุงู',
                    'ููุงู ูุณุชูู',
                    'ูุญูู ููุณู'
                ]
            },
            naturalist: {
                description: 'ูุชููุฒ ุฃุตุญุงุจ ุงูุฐูุงุก ุงูุทุจูุนู ุจุญุจูู ููุทุจูุนุฉ ูุงูุจูุฆุฉ. ูุฏููู ูุฏุฑุฉ ุนูู ููุงุญุธุฉ ูููู ุงูุฃููุงุท ุงูุทุจูุนูุฉุ ููุดุนุฑูู ุจุงูุฑุงุญุฉ ูุงูุณูุงู ูู ุงูุจูุฆุงุช ุงูุทุจูุนูุฉ.',
                strengths: [
                    'ููุงุญุธุฉ ูููู ุงูุฃููุงุท ุงูุทุจูุนูุฉ',
                    'ุงูุญุณุงุณูุฉ ููุชุบูุฑุงุช ุงูุจูุฆูุฉ',
                    'ุชุตููู ูุชูููุฒ ุงููุงุฆูุงุช ุงูุญูุฉ',
                    'ููู ุงููุธู ุงูุจูุฆูุฉ ูุงูุทุจูุนูุฉ',
                    'ุงูุงูุชูุงู ุจุงููุถุงูุง ุงูุจูุฆูุฉ'
                ],
                learningMethods: [
                    'ุงูุชุนูู ูู ุงูุจูุฆุงุช ุงูุทุจูุนูุฉ',
                    'ุงุณุชุฎุฏุงู ุฃูุซูุฉ ูู ุงูุทุจูุนุฉ',
                    'ุงูููุงุญุธุฉ ุงููุจุงุดุฑุฉ ูุงูุงุณุชูุดุงู',
                    'ุงูุชุตููู ูุงูููุงุฑูุฉ',
                    'ุฑุจุท ุงูุชุนูู ุจุงููุถุงูุง ุงูุจูุฆูุฉ'
                ],
                activities: [
                    'ุฒุฑุงุนุฉ ุงููุจุงุชุงุช ูุงูุจุณุชูุฉ',
                    'ูุฑุงูุจุฉ ุงูุทููุฑ ูุงูุญููุงูุงุช',
                    'ุงูุชุฎููู ูุงูุฑุญูุงุช ุงูุทุจูุนูุฉ',
                    'ุฌูุน ุงูุนููุงุช ุงูุทุจูุนูุฉ',
                    'ุงูุชุตููุฑ ุงูุทุจูุนู',
                    'ุงููุดุงุฑูุฉ ูู ุญููุงุช ุญูุงูุฉ ุงูุจูุฆุฉ'
                ],
                careers: [
                    'ุนุงูู ุฃุญูุงุก ุฃู ุจูุฆุฉ',
                    'ูููุฏุณ ุฒุฑุงุนู',
                    'ุทุจูุจ ุจูุทุฑู',
                    'ูุฑุดุฏ ุณูุงุญู ุทุจูุนู',
                    'ุจุงุญุซ ูู ุนููู ุงูุฃุฑุถ',
                    'ูุตูู ุญุฏุงุฆู',
                    'ูุงุดุท ุจูุฆู',
                    'ุนุงูู ุฌููููุฌูุง'
                ]
            }
        };

        // ุฎูุท ุงูุฃุณุฆูุฉ ุจุดูู ุนุดูุงุฆู
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        const importing = [
            {
                "qu": "ุฃุชุนูู ุจุณุฑุนุฉ ุนูุฏูุง ุฃูุงุฑุณ ุงูุดูุก ุนููููุง.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุนุจูุฑ ุนู ุฃููุงุฑู ุจุฅููุงุกุงุช ุฃู ุญุฑูุงุช ุชููุงุฆูุฉ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุฃุนูุงู ุงููุฏููุฉ ุฃู ุงูุญุฑููุฉ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃูุถูู ุงููุดุงุทุงุช ุงูุชู ุชุชุถูู ุญุฑูุฉ ุนูู ุงูุฌููุณ ุงูุทููู.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุณุชุทูุน ุชูููุฏ ุงูุญุฑูุงุช ุฃู ุงูุฅููุงุกุงุช ุจุณูููุฉ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุฌุฏ ูุชุนุฉ ูู ุงูุฃูุดุทุฉ ุงูุฑูุงุถูุฉ ุฃู ุงูุชูุซูููุฉ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃูุชูู ุชูุงุฒููุง ุฌุณุฏููุง ุฌูุฏูุง.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุชุนูู ุงูููุงุฑุงุช ุงูุญุฑููุฉ ุงูุฌุฏูุฏุฉ ุจุณุฑุนุฉ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุญุจ ุงุณุชุฎุฏุงู ุฌุณุฏู ูู ุงูุชุนุจูุฑ (ูุงูุฑูุต ุฃู ุงููุณุฑุญ).",
                "type": "bodily"
            },
            {
                "qu": "ุฃูุณุฌู ุฃูุซุฑ ุนูุฏูุง ุฃุชุญุฑู ุฃุซูุงุก ุงูุชุนูู ุฃู ุงูุชูููุฑ.",
                "type": "bodily"
            },
            {
                "qu": "ุฃุณุชุทูุน ูุฑุงุกุฉ ูุดุงุนุฑ ุงูุขุฎุฑูู ูู ูุฌูููู.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุชุญุฏุซ ูุน ุฃุดุฎุงุต ูู ุฎูููุงุช ูุฎุชููุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุชุทูุน ุงูุชุดุงู ููุงูุง ุงููุงุณ ุจุณุฑุนุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุนูู ุจููุงุกุฉ ุถูู ูุฑูู ูุชุนุงูู.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุงุนุฏ ุงูุขุฎุฑูู ุนูู ุญู ุฎูุงูุงุชูู.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุชุทูุน ุชุญููุฒ ูู ุญููู ุจุณูููุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃูุงุญุธ ูุชู ูุดุนุฑ ุฃุญุฏูู ุจุงูุถูู ุญุชู ุฏูู ุฃู ูููู.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุชููู ูุน ุฃููุงุท ุงูุดุฎุตูุงุช ุงููุฎุชููุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุชุทูุน ุงูุชุฃุซูุฑ ูู ุงูุขุฎุฑูู ุจุฅูุฌุงุจูุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุจูุงุก ุงูุนูุงูุงุช ุงูุงุฌุชูุงุนูุฉ ุงููุณุชูุฑุฉ.",
                "type": "interpersonal"
            },
            {
                "qu": "ุฃุนุฑู ููุงุท ููุชู ูุถุนูู ุจูุถูุญ.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุฑุงุฌุน ุฃููุงุฑู ูููุงููู ุจุงูุชุธุงู.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุณุชุทูุน ุงูุชุญูู ูู ูุดุงุนุฑู ุฃุซูุงุก ุงูุชูุชุฑ.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุถุน ุฃูุฏุงููุง ุทูููุฉ ุงููุฏู ูุฃุณุนู ูุชุญููููุง.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุญุชุงุฌ ุฃุญูุงููุง ุฅูู ุงูุนุฒูุฉ ููุชูููุฑ ุงูุนููู.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุชุนูู ูู ุฃุฎุทุงุฆู ุจูุนู ุญูููู.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃูุงุญุธ ุชุฃุซูุฑ ูุดุงุนุฑู ุนูู ูุฑุงุฑุงุชู.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุนุจูุฑ ุนู ุฐุงุชู ุจุตุฏู ุญุชู ูู ุงูููุงูู ุงูุตุนุจุฉ.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุถุน ุฎุทุท ุชุทููุฑ ุดุฎุตูุฉ ุจุดูู ูุณุชูุฑ.",
                "type": "intrapersonal"
            },
            {
                "qu": "ูุฏูู ูุนู ูุงุถุญ ุจูููุชู ููููู ุงูุดุฎุตูุฉ.",
                "type": "intrapersonal"
            },
            {
                "qu": "ุฃุฌุฏ ุณูููุฉ ูู ุงูุชุนุจูุฑ ุนู ุฃููุงุฑู ุจูุถูุญ ูุฏูุฉ.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจูุฑุงุกุฉ ุงููุตูุต ูุชุญููููุง.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุณุชุทูุน ุฅููุงุน ุงูุขุฎุฑูู ุจุงุณุชุฎุฏุงู ุงููููุงุช ุงูููุงุณุจุฉ.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃูุชูู ููุฑุฏุงุช ุบููุฉ ูุฃุณุชุฎุฏููุง ุจุทูุงูุฉ.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุฌุฏ ูุชุนุฉ ูู ูุชุงุจุฉ ุงููุตุต ุฃู ุงูููุงูุงุช.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃูุงุญุธ ุงูุชูุงุตูู ุงููุบููุฉ ุงูุตุบูุฑุฉ ูู ุงููุตูุต.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุญุจู ุงูููุงูุดุงุช ูุงูุญูุงุฑ ุงูููุฑู.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุชุนูู ุจุดูู ุฃูุถู ุนูุฏูุง ุฃูุฑุฃ ุฃู ุฃูุชุจ ุงููุนูููุงุช.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุณุชุทูุน ุชุญููู ููุฑุฉ ูุฌุฑุฏุฉ ุฅูู ุดุฑุญ ุจุณูุท ููุงุถุญ.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงููุนุจ ุจุงููููุงุช ุฃู ุฅูุดุงุก ุงูุนุจุงุฑุงุช ุงูุฅุจุฏุงุนูุฉ.",
                "type": "linguistic"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุญู ุงููุดููุงุช ุงููุนูุฏุฉ ุฎุทูุฉ ุจุฎุทูุฉ.",
                "type": "logical"
            },
            {
                "qu": "ุฃุณุชุทูุน ุงูุชุดุงู ุงูุฃููุงุท ูุงูููุงููู ุจุณูููุฉ.",
                "type": "logical"
            },
            {
                "qu": "ุฃุณุชุฎุฏู ุงูููุทู ุนูุฏ ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช.",
                "type": "logical"
            },
            {
                "qu": "ุฃุญุจู ุงูุชุนุงูู ูุน ุงูุฃุฑูุงู ูุงูุฅุญุตุงุกุงุช.",
                "type": "logical"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุฃูุนุงุจ ุงูุฐูููุฉ ุงูุชู ุชุชุทูุจ ุงูุชูููุฑ.",
                "type": "logical"
            },
            {
                "qu": "ุฃุทุฑุญ ุนูู ููุณู ุฃุณุฆูุฉ ุชุญููููุฉ ุจุงุณุชูุฑุงุฑ.",
                "type": "logical"
            },
            {
                "qu": "ุฃูุงุญุธ ุงูุชูุงูุถุงุช ูู ุงูุญุฌุฌ ุฃู ุงูุฃููุงุฑ ุจุณุฑุนุฉ.",
                "type": "logical"
            },
            {
                "qu": "ุฃุญุจู ููู ููููุฉ ุนูู ุงูุฃุดูุงุก ูู ุงูุฏุงุฎู.",
                "type": "logical"
            },
            {
                "qu": "ุฃุชุนูู ุจุณุฑุนุฉ ุนูุฏูุง ุฃุทุจูู ุงูุชูููุฑ ุงููููุฌู.",
                "type": "logical"
            },
            {
                "qu": "ุฃุฌุฏ ูุชุนุฉ ูู ุงูุจุฑูุฌุฉ ุฃู ุงูุชูููุฑ ุงูุนููู ุงูุฏููู.",
                "type": "logical"
            },
            {
                "qu": "ุฃูุงุญุธ ุงููุฑูู ุงูุฏูููุฉ ุจูู ุงูุฃุตูุงุช ุฃู ุงููุจุฑุงุช.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุงุณุชูุงุน ููููุงู ุงูููุทูู ุฃูุซุฑ ูู ุงููุฑุงุกุฉ.",
                "type": "musical"
            },
            {
                "qu": "ุฃุชุนูู ุจุณูููุฉ ุนูุฏูุง ุฃุณูุน ุงููุนูููุงุช.",
                "type": "musical"
            },
            {
                "qu": "ุฃููุฒ ุงูุฃุตูุงุช ุงููุญูุทุฉ ุญุชู ูู ุงูุฎูููุฉ.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชุฎุฏู ูุบูุฉ ุตูุชู ููุชุนุจูุฑ ุนู ุงููุนูู.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุชูููุฏ ุงูุฃุตูุงุช ุฃู ุงูููุฌุงุช.",
                "type": "musical"
            },
            {
                "qu": "ุฃุชุนุฑู ุนูู ุงูุฃุดุฎุงุต ูู ุฃุตูุงุชูู ุจุณูููุฉ.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชุฎุฏู ุงูุตูุช ุฃู ุงูุฅููุงุน ูููุณุงุนุฏุฉ ูู ุงูุชุฐูุฑ.",
                "type": "musical"
            },
            {
                "qu": "ุฃูุงุญุธ ุงูุชุบููุฑ ูู ูุจุฑุฉ ุงูุขุฎุฑูู ุฃุซูุงุก ุงูุญุฏูุซ.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุณูุงุน ุงูุฎุทุจ ุฃู ุงูุญูุงุฑุงุช ุฃูุซุฑ ูู ุงููุตูุต ุงูููุชูุจุฉ.",
                "type": "musical"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุชุฃูู ูู ุงูุทุจูุนุฉ ุฃู ูุฑุงูุจุฉ ุงููุงุฆูุงุช ุงูุญูุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃูุงุญุธ ุชุบูุฑุงุช ุงูุทูุณ ุฃู ุงููุตูู ุจุณูููุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃูุชู ุจุงูุญููุงูุงุช ูุงููุจุงุชุงุช ูู ุญููู.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃุญุจู ุงูุฃูุดุทุฉ ุงูุฎุงุฑุฌูุฉ ุฃูุซุฑ ูู ุงูุฃูุงูู ุงููุบููุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃููุฒ ุฃููุงุน ุงูุฃุดุฌุงุฑ ุฃู ุงูุทููุฑ ุฃู ุงูุตุฎูุฑ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃุดุนุฑ ุจุงูุฑุงุญุฉ ุงูููุณูุฉ ูู ุงูุฃูุงูู ุงูุทุจูุนูุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃูุชู ุจุงูุญูุงุธ ุนูู ุงูุจูุฆุฉ ูุงููุธุงูุฉ ุงูุนุงูุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุฑุญูุงุช ุฃู ุงููุบุงูุฑุงุช ุงูุจูุฆูุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃูุงุญุธ ุฃุฏู ุงูุชูุงุตูู ูู ุงูููุงุธุฑ ุงูุทุจูุนูุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃุชุนูู ุจุณุฑุนุฉ ูู ุงูุธูุงูุฑ ุงูุจูุฆูุฉ ุฃู ุงูููุฏุงููุฉ.",
                "type": "naturalist"
            },
            {
                "qu": "ุฃุณุชุทูุน ุชุฎููู ุงูุฃุดูุงู ุฃู ุงูุฃูุงูู ุจูุถูุญ ุฐููู.",
                "type": "spatial"
            },
            {
                "qu": "ุฃูุงุญุธ ุงูุชูุงุตูู ุงูุจุตุฑูุฉ ูู ุงูุตูุฑ ูุงููุดุงูุฏ.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุฑุชุจ ุงูุฃุดูุงุก ุจุทุฑููุฉ ููุณูุฉ ูุฌุฐุงุจุฉ ุจุตุฑููุง.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุณุชูุชุน ุจุงูุฑุณู ุฃู ุงูุชุตููู ุฃู ุงูุชุตููุฑ.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุณุชุฎุฏู ุงูุฎุฑุงุฆุท ูุงููุฎุทุทุงุช ุจุณูููุฉ.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุชุนูู ุจุดูู ุฃูุถู ุนูุฏูุง ุฃุฑู ุตูุฑูุง ุฃู ุฑุณููุงุช ุชูุถูุญูุฉ.",
                "type": "spatial"
            },
            {
                "qu": "ุฃูุงุญุธ ุงูุฌูุงู ูู ุงูุฃููุงู ูุงูุชูุงุณู.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุณุชุทูุน ุชูููู ุตูุฑุฉ ุฐูููุฉ ูุฃู ููุฑุฉ ุฃุณูุนูุง.",
                "type": "spatial"
            },
            {
                "qu": "ุฃุญุจู ุงูุชุฌุงุฑุจ ุงููุฑุฆูุฉ ูุซู ุงูููุฏูููุงุช ุฃู ุงูุฑุณูู ุงููุชุญุฑูุฉ.",
                "type": "spatial"
            },
            {
                "qu": "ุฃูุชูู ุญุณููุง ููููุง ุจุงูุงุชุฌุงูุงุช ูุงูููุงูุน.",
                "type": "spatial"
            }
        ];
        // ุฅูุดุงุก HTML ููุณุคุงู

        const originalQuestions = importing.filter((x, i) => i < 20).map(x => {
            return {
                type: x.type,
                questionType: 'rating',
                question: 'ูููู ูุฏู ุงูุทุจุงู ูุฐู ุงูุนุจุงุฑุฉ ุนููู:',
                weight: 1,
                difficulty: 'medium',
                reliability: 1,
                statements: [
                    { text: x.qu, value: 0 },
                ]
            }
        })
        // [
        // ุฃุณุฆูุฉ ุงูุฐูุงุก ุงููุบูู
        // {
        //     type: 'linguistic',
        //     questionType: 'single',
        //     question: 'ุนูุฏูุง ุชุฐุงูุฑุ ุฃู ุฃุณููุจ ุชูุถููุ',
        //     weight: 1.2,
        //     difficulty: 'easy',
        //     reliability: 0.9,
        //     options: [
        //         { text: 'ูุฑุงุกุฉ ููุฎูุตุงุช ููุชุจ', value: 2 },
        //         { text: 'ูุดุงูุฏุฉ ููุฏูู ุชุนูููู', value: 1 },
        //         { text: 'ุนูู ูุฎุทุท ุจุตุฑู', value: 1 },
        //         { text: 'ููุงูุดุฉ ูุน ุตุฏูู', value: 2 }
        //     ]
        // },
        // {
        //     type: 'linguistic',
        //     questionType: 'single',
        //     question: 'ุนูุฏูุง ุชุฐุงูุฑุ ุฃู ุฃุณููุจ ุชูุถููุ',
        //     weight: 1.2,
        //     difficulty: 'easy',
        //     reliability: 0.9,
        //     options: [
        //         { text: 'ูุฑุงุกุฉ ููุฎูุตุงุช ููุชุจ', value: 2 },
        //         { text: 'ูุดุงูุฏุฉ ููุฏูู ุชุนูููู', value: 1 },
        //         { text: 'ุนูู ูุฎุทุท ุจุตุฑู', value: 1 },
        //         { text: 'ููุงูุดุฉ ูุน ุตุฏูู', value: 2 }
        //     ]
        // },
        // {
        //     type: 'bodily',
        //     questionType: 'multiple',
        //     question: 'ุฃู ุจูุฆุฉ ุนูู ุชูุถูุ (ุงุฎุชุฑ ูู ูุง ููุทุจู)',
        //     weight: 1.0,
        //     difficulty: 'easy',
        //     reliability: 0.7,
        //     options: [
        //         { text: 'ูุฑุดุฉ ุนูู ุฃู ูุฎุชุจุฑ', value: 4 },
        //         { text: 'ูู ุงูููุงุก ุงูุทูู', value: 4 },
        //         { text: 'ุตุงูุฉ ุฑูุงุถูุฉ', value: 3 },
        //         { text: 'ููุงู ูุณูุญ ุจุงูุญุฑูุฉ', value: 4 }
        //     ]
        // },
        // {
        //     type: 'musical',
        //     questionType: 'ranking',
        //     question: 'ุฑุชูุจ ูุฐู ุงูุฃูุดุทุฉ ุงูุฅููุงุนูุฉ ุญุณุจ ุงุณุชูุชุงุนู ุจูุง (ุงูุฃูู ุงูุฃูุซุฑ ุชูุถููุงู):',
        //     weight: 1.2,
        //     difficulty: 'medium',
        //     reliability: 0.8,
        //     options: [
        //         { text: 'ุงูุชุตููู ุนูู ุงูุฅููุงุน', value: 0 },
        //         { text: 'ุงููุดู ุจุฎุทูุงุช ููุชุธูุฉ', value: 0 },
        //         { text: 'ุชูุธูู ุงูุฃุนูุงู ุจุฌุฏูู ุฒููู', value: 0 },
        //         { text: 'ููุงุฑุณุฉ ุงูุชูุงุฑูู ุจุฅููุงุน ุซุงุจุช', value: 0 }
        //     ]
        // },
        // {
        //     type: 'naturalist',
        //     questionType: 'rating',
        //     question: 'ูููู ูุฏู ุงูุทุจุงู ูุฐู ุงูุนุจุงุฑุงุช ุนููู (1-5 ูุฌูู):',
        //     weight: 1,
        //     difficulty: 'medium',
        //     reliability: 1,
        //     statements: [
        //         { text: 'ุฃุดุนุฑ ุจุงูุณูุงู ูู ุงูุทุจูุนุฉ', value: 0 },
        //     ]
        // }
        // ];

        // ุฎูุท ุงูุฃุณุฆูุฉ ุนุดูุงุฆูุงู
        const questions = shuffleArray(originalQuestions);
        // ูุชุบูุฑุงุช ุงูุญุงูุฉ
        let currentUser = '';
        let currentQuestionIndex = 0;
        let answers = {};
        let startTime = Date.now();
        let timerInterval;

        // ุนูุงุตุฑ DOM
        const welcomeScreen = document.getElementById('welcome-screen');
        const onboardingScreen = document.getElementById('onboarding-screen');
        const testScreen = document.getElementById('test-screen');
        const resultsScreen = document.getElementById('results-screen');
        const userNameInput = document.getElementById('userName');
        const startBtn = document.getElementById('startBtn');
        const howItWorksBtn = document.getElementById('howItWorksBtn');
        const howItWorksModal = document.getElementById('howItWorksModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const startTestBtn = document.getElementById('startTestBtn');
        const midwayBreak = document.getElementById('midway-break');
        const continueTestBtn = document.getElementById('continueTestBtn');

        // ุฃุญุฏุงุซ ุงูุฃุฒุฑุงุฑ
        startBtn.addEventListener('click', function () {
            currentUser = 'ูุณุชุฎุฏู ุงูุงุฎุชุจุงุฑ'; // ุงุณู ุซุงุจุช

            // ุงูุชุญูู ูู ูุฌูุฏ ุงุฎุชุจุงุฑ ูุญููุธ
            const savedData = loadSavedData();
            if (savedData.canResume) {
                showResumeModal(savedData);
            } else {
                showOnboarding();
            }
        });

        // ุฃุญุฏุงุซ ูุงูุฐุฉ ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ
        document.getElementById('resumeTestBtn').addEventListener('click', function () {
            const savedData = loadSavedData();
            if (savedData.canResume) {
                // ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช
                answers = savedData.answers;
                currentQuestionIndex = savedData.progress.currentQuestionIndex;
                startTime = savedData.progress.startTime;
                currentUser = savedData.progress.userName;

                // ุฅุฎูุงุก ุงููุงูุฐุฉ ูุจุฏุก ุงูุงุฎุชุจุงุฑ
                document.getElementById('resumeTestModal').classList.add('hidden');
                welcomeScreen.classList.add('hidden');
                testScreen.classList.remove('hidden');

                // ุฅูุดุงุก ุดุฑูุท ุงูุชูุฏู ูุจุฏุก ุงููุคูุช
                createProgressTimeline();
                startTimer();
                showQuestion(currentQuestionIndex);
            }
        });

        document.getElementById('startFreshBtn').addEventListener('click', function () {
            // ูุณุญ ุงูุจูุงูุงุช ุงููุญููุธุฉ
            localStorage.removeItem('multipleIntelligenceAnswers');
            localStorage.removeItem('multipleIntelligenceProgress');

            // ุฅุฎูุงุก ุงููุงูุฐุฉ ูุงูุจุฏุก ูู ุฌุฏูุฏ
            document.getElementById('resumeTestModal').classList.add('hidden');
            showOnboarding();
        });

        document.getElementById('closeResumeModal').addEventListener('click', function () {
            document.getElementById('resumeTestModal').classList.add('hidden');
        });

        howItWorksBtn.addEventListener('click', function () {
            howItWorksModal.classList.remove('hidden');
            howItWorksModal.classList.add('flex');
        });

        closeModalBtn.addEventListener('click', function () {
            howItWorksModal.classList.add('hidden');
            howItWorksModal.classList.remove('flex');
        });

        // ุฃุญุฏุงุซ ูุงูุฐุฉ ุงูุงุฎุชุจุงุฑ ุบูุฑ ุงูููุชูู
        document.getElementById('continueTestFromModal').addEventListener('click', function () {
            document.getElementById('incompleteTestModal').classList.add('hidden');
            // ุงูุงูุชูุงู ูุฃูู ุณุคุงู ุบูุฑ ููุฌุงุจ ุนููู
            goToFirstUnansweredQuestion();
        });

        document.getElementById('showPartialResults').addEventListener('click', function () {
            document.getElementById('incompleteTestModal').classList.add('hidden');
            proceedWithResults();
        });

        document.getElementById('closeIncompleteModal').addEventListener('click', function () {
            document.getElementById('incompleteTestModal').classList.add('hidden');
        });

        // ุฃุญุฏุงุซ ูุงูุฐุฉ ูุฑุงุฌุนุฉ ุงูุงุฎุชุจุงุฑ
        document.getElementById('proceedToResults').addEventListener('click', function () {
            document.getElementById('reviewTestModal').classList.add('hidden');
            proceedWithResults();
        });

        document.getElementById('reviewAnswers').addEventListener('click', function () {
            document.getElementById('reviewTestModal').classList.add('hidden');
            // ุงูุงูุชูุงู ูุฃูู ุณุคุงู ุบูุฑ ููุฌุงุจ ุนููู ุฃู ุงูุณุคุงู ุงูุฃูู
            const firstUnanswered = findFirstUnansweredQuestion();
            if (firstUnanswered !== -1) {
                currentQuestionIndex = firstUnanswered;
            } else {
                currentQuestionIndex = 0;
            }
            showQuestion(currentQuestionIndex);
        });

        document.getElementById('closeReviewModal').addEventListener('click', function () {
            document.getElementById('reviewTestModal').classList.add('hidden');
        });

        startTestBtn.addEventListener('click', function () {
            startTest();
        });

        continueTestBtn.addEventListener('click', function () {
            midwayBreak.classList.add('hidden');
        });

        // ุฅุธูุงุฑ ูุงูุฐุฉ ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ
        function showResumeModal(savedData) {
            const answeredCount = Object.keys(savedData.answers).length;
            const progress = Math.round((answeredCount / questions.length) * 100);
            const timeElapsed = Math.round((Date.now() - savedData.progress.startTime) / (1000 * 60));

            document.getElementById('resumeMessage').innerHTML = `
                ูุฏูู ุงุฎุชุจุงุฑ ูุญููุธ ูู ${timeElapsed} ุฏูููุฉ ูุถุช<br>
                <span class="text-sm text-gray-500">ุชูุช ุงูุฅุฌุงุจุฉ ุนูู ${answeredCount} ูู ${questions.length} ุณุคุงูุงู (${progress}%)</span>
            `;

            document.getElementById('resumeTestModal').classList.remove('hidden');
            document.getElementById('resumeTestModal').classList.add('flex');
        }

        // ุฅุธูุงุฑ ุดุงุดุฉ ุงูุฏููู ุงูุณุฑูุน
        function showOnboarding() {
            welcomeScreen.classList.add('hidden');
            onboardingScreen.classList.remove('hidden');
        }

        // ุจุฏุก ุงูุงุฎุชุจุงุฑ
        function startTest() {
            onboardingScreen.classList.add('hidden');
            testScreen.classList.remove('hidden');

            // ุฅูุดุงุก ุดุฑูุท ุงูุชูุฏู
            createProgressTimeline();

            // ุจุฏุก ุงููุคูุช
            startTimer();

            // ุนุฑุถ ุงูุณุคุงู ุงูุฃูู
            showQuestion(0);
        }

        // ุฅูุดุงุก ุดุฑูุท ุงูุชูุฏู ุงูุชูุงุนูู
        function createProgressTimeline() {
            const timeline = document.getElementById('progressTimeline');
            timeline.innerHTML = '';

            for (let i = currentQuestionIndex - 4; i <= (currentQuestionIndex > 4 ? currentQuestionIndex + 4 : 9); i++) {
                if (i <= originalQuestions.length && i > 0) {
                    createDot(i)
                }
            }

            function createDot(i) {
                const dot = document.createElement('div');
                const isAnswered = answers[i - 1] !== undefined;
                const isCurrent = i === currentQuestionIndex + 1;

                let className = 'w-8 h-8 rounded-full border-2 flex items-center justify-center text-xs font-bold cursor-pointer transition-all ';

                if (isAnswered) {
                    className += 'bg-green-500 text-white border-green-500 hover:bg-green-600';
                } else if (isCurrent) {
                    className += 'bg-indigo-600 text-white border-indigo-600 animate-pulse';
                } else {
                    className += 'bg-white text-gray-400 border-gray-300 hover:border-gray-400';
                }
                dot.className = className;
                dot.textContent = i;
                dot.title = isAnswered ? 'ุชูุช ุงูุฅุฌุงุจุฉ' : (isCurrent ? 'ุงูุณุคุงู ุงูุญุงูู' : 'ูู ุชุชู ุงูุฅุฌุงุจุฉ');
                dot.addEventListener('click', () => goToQuestion(i - 1));
                timeline.appendChild(dot);

            }


        }

        // ุงูุงูุชูุงู ูุณุคุงู ูุญุฏุฏ
        function goToQuestion(index) {
            if (index >= 0 && index < questions.length) {
                currentQuestionIndex = index;
                showQuestion(index);
            }
        }

        // ุงูุงูุชูุงู ูุฃูู ุณุคุงู ุบูุฑ ููุฌุงุจ ุนููู
        function goToFirstUnansweredQuestion() {
            for (let i = 0; i < questions.length; i++) {
                if (answers[i] === undefined) {
                    currentQuestionIndex = i;
                    showQuestion(i);
                    return;
                }
            }
        }

        // ุนุฑุถ ุดุฑุญ ููุน ุงูุณุคุงู
        function showQuestionTypeExplanation(questionType) {
            const explanationContainer = document.getElementById('questionTypeExplanation');
            let explanationHTML = '';

            switch (questionType) {
                case 'single':
                    explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">๐ฏ</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ุงุฎุชูุงุฑ ูุงุญุฏ</h4>
                                <p class="text-sm text-blue-600">ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุฃูุฑุจ ูู ูู ุจูู ุงูุฎูุงุฑุงุช</p>
                            </div>
                        </div>
                    `;
                    break;

                case 'multiple':
                    explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">โ๏ธ</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ุงุฎุชูุงุฑ ูุชุนุฏุฏ</h4>
                                <p class="text-sm text-blue-600">ุงุฎุชุฑ ูู ูุง ููุทุจู ุนูููุ ุซู ุงุถุบุท "ุชุฃููุฏ ุงูุฅุฌุงุจุฉ"</p>
                            </div>
                        </div>
                    `;
                    break;

                case 'ranking':
                    explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">๐</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ุชุฑุชูุจ ุญุณุจ ุงูุชูุถูู</h4>
                                <p class="text-sm text-blue-600">ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ โ โ ูุชุฑุชูุจ ุงูุนูุงุตุฑ ูู ุงูุฃูุซุฑ ุชูุถููุงู ุฅูู ุงูุฃูู</p>
                            </div>
                        </div>
                    `;
                    break;

                case 'rating':
                    explanationHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">โญ</span>
                            <div>
                                <h4 class="font-semibold text-blue-800">ุชูููู ุจุงููุฌูู</h4>
                                <p class="text-sm text-blue-600">ูููู ูู ุนุจุงุฑุฉ ูู 1 ุฅูู 5 ูุฌูู ุญุณุจ ุงูุทุจุงููุง ุนููู</p>
                            </div>
                        </div>
                    `;
                    break;
            }

            explanationContainer.innerHTML = explanationHTML;
        }

        // ุนุฑุถ ุงูุณุคุงู
        function showQuestion(index) {
            const question = questions[index] || "noQ";
            const intelligence = intelligences[question.type] || "noQ";
            const container = document.getElementById('questionContainer');

            // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุฎุฑูุฌ
            container.classList.add('question-transition', 'question-exit');

            setTimeout(() => {
                // ุฅุฎูุงุก ูุนูููุงุช ุงูุฐูุงุก ุงูุญุงูู ูุฌุนู ุงูุงุฎุชุจุงุฑ ุฃูุซุฑ ุญูุงุฏูุฉ
                document.getElementById('currentIntelligenceIcon').textContent = '๐ง';
                document.getElementById('currentIntelligenceName').textContent = 'ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ';
                // document.getElementById('currentIntelligenceIcon').textContent = intelligence.icon;
                // document.getElementById('currentIntelligenceName').textContent = intelligence.name;

                // ุชุญุฏูุซ ุฑูู ุงูุณุคุงู ูุงูุชูุฏู
                document.getElementById('currentQuestion').textContent = index;
                const progress = ((index + 1) / (questions.length + 1)) * 100;
                document.getElementById('progressPercent').textContent = Math.round(progress) + '%';

                // ุชุญุฏูุซ ุฏุงุฆุฑุฉ ุงูุชูุฏู
                const circle = document.getElementById('progressCircle');
                const circumference = 2 * Math.PI * 20;
                const offset = circumference - (progress / 100) * circumference;
                circle.style.strokeDashoffset = offset;

                // ุชุญุฏูุซ ุงููุต ุงูุชูุฏูู
                const answeredCount = Object.keys(answers).length;
                document.getElementById('progressText').textContent =
                    `ุชูุช ุงูุฅุฌุงุจุฉ ุนูู ${answeredCount} ูู ${questions.length} ยท ุงููุชุจูู: ${questions.length - answeredCount} ุณุคุงููุง`;

                // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
                createProgressTimeline();
                if (question == "noQ") {
                    updateNavigationButtons()
                    // container.innerHTML = `<div class="option-item"> <div class="rating-scale">ููุงูุฉ ุงูุงุณุฆูุฉ</div></div>`;
                    container.innerHTML = `<div class="option-item items-center"> <div class="rating-scale text-center" style="flex-direction: column;">ููุงูุฉ ุงูุงุณุฆูุฉ</div></div>`;
                    return;
                }

                // ุนุฑุถ ุดุฑุญ ููุน ุงูุณุคุงู
                // showQuestionTypeExplanation(question.questionType);

                // ุนุฑุถ ุงูุณุคุงู ุงูุฌุฏูุฏ
                container.innerHTML = createQuestionHTML(question, index);

                // ุฅุถุงูุฉ ุชุฃุซูุฑ ุงูุฏุฎูู
                container.classList.remove('question-exit');
                container.classList.add('question-enter');

                setTimeout(() => {
                    container.classList.remove('question-enter');
                    container.classList.add('question-active');
                }, 50);

                // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
                updateNavigationButtons()
                // document.getElementById('prevBtn').disabled = index === 0;
                // document.getElementById('nextBtn').disabled = !answers[index];

                // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ
                addQuestionEventListeners(question, index);

                // ุงุณุชุฑุงุญุฉ ููุชุตู ุงูุทุฑูู
                if (index === 20) {
                    showMidwayBreak();
                }
            }, 200);
        }

        // ุฅูุดุงุก HTML ููุณุคุงู
        function createQuestionHTML(question, index) {
            let html = `<h3 class="text-2xl md:text-3xl font-semibold mb-8 text-center leading-relaxed">${question.question}</h3>`;
            html += '<div class="space-y-6">';
            question.statements.forEach((statement, i) => {
                // if (!answers[index]) {
                //     answers[index] = new Array(1).fill(0);
                // }
                // // ุญูุธ ุงูุชูููู
                // answers[index][0] = Math.ceil(Math.random() * 5);


                const currentRating = answers[index] && answers[index][i] ? answers[index][i] : 0;
                html += `
                    <div class="option-item ${question.type === 'preference' ? 'preference-option' : ''}">
                        <div class="option-text">${statement.text}</div>
                        <div class="rating-scale">
                            <div class="rating-label">ูุง ุชูุทุจู</div>
                            <div class="rating-buttons">
                                ${[1, 2, 3, 4, 5].map(rating => `
                                    <div class="rating-btn ${currentRating === rating ? 'selected' : ''}" 
                                         data-rating="${rating}"
                                         onclick="selectRating(${index}, ${rating})">
                                        ${rating}
                                    </div>
                                `).join('')}
                            </div>
                            <div class="rating-label">ุชูุทุจู ุชูุงูุงู</div>
                        </div>
                    </div>
                `;

                // for (let star = 1; star <= 5; star++) {
                //     const filled = star <= currentRating ? 'text-yellow-400' : 'text-gray-300';
                //     html += `
                //                 <button type="button" class="star-btn text-3xl hover:text-yellow-400 transition-colors ${filled}" 
                //                         data-rating="${star}" data-statement="${i}">
                //                     โ
                //                 </button>
                //             `;
                // }
            });
            // html += '</div></div>';
            return html;
        }

        // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ููุณุคุงู
        function addQuestionEventListeners(question, index) {
            // initializeRatingSystem(question, index);
        }
        function selectRating(index, rating) {
            // answers[questionIndex][optionIndex] = rating;
            if (!answers[index]) {
                answers[index] = new Array(1).fill(0);
            }

            // ุญูุธ ุงูุชูููู
            answers[index][0] = rating;

            const ratingButtons = document.querySelectorAll('.rating-btn');
            ratingButtons.forEach((btn) => {
                const btnRating = parseInt(btn.getAttribute('data-rating'));
                btn.classList.toggle('selected', btnRating === rating);
            });
            saveAnswer()
            updateNavigationButtons();
            setTimeout(() => {
                // document.getElementById('nextBtn').click();
                if (index < questions.length && currentQuestionIndex !== (index + 1) && autoSubmit) {
                    currentQuestionIndex = index + 1;
                    showQuestion(currentQuestionIndex);
                } else if (index >= questions.length) {
                    showReviewModal();
                }
            }, 300);

        }
        document.getElementById('startBtn').click()
        document.getElementById('startTestBtn').click()

        // ุชููุฆุฉ ุงูุชุฑุชูุจ ุจุงูุฃุฒุฑุงุฑ
        function initializeSortable(index) {
            const container = document.getElementById('rankingContainer');

            // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ูุฃุฒุฑุงุฑ ุงูุญุฑูุฉ
            container.addEventListener('click', function (e) {
                if (e.target.classList.contains('move-up-btn') || e.target.classList.contains('move-down-btn')) {
                    const direction = e.target.dataset.direction;
                    const itemIndex = parseInt(e.target.dataset.itemIndex);
                    const items = Array.from(container.children);
                    const currentItem = items[itemIndex];

                    if (direction === 'up' && itemIndex > 0) {
                        // ุชุญุฑูู ููุฃุนูู
                        const previousItem = items[itemIndex - 1];
                        container.insertBefore(currentItem, previousItem);
                    } else if (direction === 'down' && itemIndex < items.length - 1) {
                        // ุชุญุฑูู ููุฃุณูู
                        const nextItem = items[itemIndex + 1];
                        container.insertBefore(nextItem, currentItem);
                    }

                    updateRankingNumbers();
                    updateMoveButtons();
                    saveRankingAnswer(index);
                }
            });
        }

        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุญุฑูุฉ
        function updateMoveButtons() {
            const container = document.getElementById('rankingContainer');
            const items = Array.from(container.children);

            items.forEach((item, index) => {
                const upBtn = item.querySelector('.move-up-btn');
                const downBtn = item.querySelector('.move-down-btn');

                // ุชุญุฏูุซ data-item-index
                upBtn.dataset.itemIndex = index;
                downBtn.dataset.itemIndex = index;

                // ุชุนุทูู/ุชูุนูู ุงูุฃุฒุฑุงุฑ ุญุณุจ ุงููููุน
                if (index === 0) {
                    upBtn.disabled = true;
                    upBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    upBtn.disabled = false;
                    upBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }

                if (index === items.length - 1) {
                    downBtn.disabled = true;
                    downBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    downBtn.disabled = false;
                    downBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            });
        }

        // ุชุญุฏูุซ ุฃุฑูุงู ุงูุชุฑุชูุจ
        function updateRankingNumbers() {
            const items = document.querySelectorAll('.ranking-item');
            items.forEach((item, i) => {
                const numberSpan = item.querySelector('span');
                numberSpan.textContent = i + 1;
            });
        }

        // ุญูุธ ุฅุฌุงุจุฉ ุงูุชุฑุชูุจ
        function saveRankingAnswer(index) {
            const items = document.querySelectorAll('.ranking-item');
            answers[index] = Array.from(items).map(item => parseInt(item.dataset.index));
            saveAnswer();
            updateNavigationButtons();
        }

        // ุญูุธ ุงูุชุฑุชูุจ ุงูุงูุชุฑุงุถู ุนูุฏ ุชุญููู ุงูุณุคุงู
        function saveDefaultRanking(index) {
            if (!answers[index]) {
                // ุฅุฐุง ูู ุชูู ููุงู ุฅุฌุงุจุฉ ูุญููุธุฉุ ุงุญูุธ ุงูุชุฑุชูุจ ุงูุงูุชุฑุงุถู
                answers[index] = [0, 1, 2, 3]; // ุงูุชุฑุชูุจ ุงูุฃุตูู
                saveAnswer();
                updateNavigationButtons();
            }
        }

        // ุชููุฆุฉ ูุธุงู ุงูุชูููู ุจุงููุฌูู
        function initializeRatingSystem(question, index) {
            const starButtons = document.querySelectorAll('.star-btn');

            starButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const rating = parseInt(this.dataset.rating);
                    const statementIndex = parseInt(this.dataset.statement);

                    // ุชููุฆุฉ ูุตูููุฉ ุงูุฅุฌุงุจุงุช ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
                    if (!answers[index]) {
                        answers[index] = new Array(question.statements.length).fill(0);
                    }

                    // ุญูุธ ุงูุชูููู
                    answers[index][statementIndex] = rating;

                    // ุชุญุฏูุซ ุงููุฌูู ุจุตุฑูุงู
                    const statementStars = document.querySelectorAll(`[data-statement="${statementIndex}"] .star-btn`);
                    statementStars.forEach((star, i) => {
                        if (i < rating) {
                            star.classList.remove('text-gray-300');
                            star.classList.add('text-yellow-400');
                        } else {
                            star.classList.remove('text-yellow-400');
                            star.classList.add('text-gray-300');
                        }
                    });

                    saveAnswer();
                    updateNavigationButtons();

                });
            });

            // ุชูุนูู ุงูุฒุฑ ุฅุฐุง ูุงูุช ููุงู ุฅุฌุงุจุฉ ูุญููุธุฉ ูุณุจูุงู
            if (answers[index] && answers[index].every(rating => rating > 0)) {
                const confirmBtn = document.getElementById('confirmRatingBtn');
                if (confirmBtn) {
                    confirmBtn.disabled = false;
                }
            }
        }

        // ุญูุธ ุงูุฅุฌุงุจุฉ ูุฅุธูุงุฑ ุฑุณุงูุฉ
        function saveAnswer() {
            const message = document.getElementById('autoSaveMessage');
            message.style.opacity = '1';
            setTimeout(() => {
                message.style.opacity = '0';
            }, 600);
        }

        // ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุงููุญููุธุฉ
        function loadSavedData() {
            const savedAnswers = localStorage.getItem('multipleIntelligenceAnswers');
            const savedProgress = localStorage.getItem('multipleIntelligenceProgress');

            if (savedAnswers && savedProgress) {
                const progress = JSON.parse(savedProgress);
                const timeDiff = Date.now() - progress.startTime;

                // ุฅุฐุง ูุฑ ุฃูู ูู 24 ุณุงุนุฉุ ุงุนุฑุถ ุฎูุงุฑ ุงูุงุณุชููุงู
                if (timeDiff < 24 * 60 * 60 * 1000) {
                    return {
                        answers: JSON.parse(savedAnswers),
                        progress: progress,
                        canResume: true
                    };
                }
            }

            return { canResume: false };
        }

        // ุฅุธูุงุฑ ูุคุดุฑ ุงูุงูุชูุงู ุงูุชููุงุฆู
        // function showAutoAdvanceIndicator() {
        //     const indicator = document.getElementById('autoAdvanceIndicator');
        //     indicator.style.opacity = '1';
        // }

        // // ุฅุฎูุงุก ูุคุดุฑ ุงูุงูุชูุงู ุงูุชููุงุฆู
        // function hideAutoAdvanceIndicator() {
        //     const indicator = document.getElementById('autoAdvanceIndicator');
        //     indicator.style.opacity = '0';
        // }

        // ุชุญุฏูุซ ุฃุฒุฑุงุฑ ุงูุชููู
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            // const finishBtn = document.getElementById('finishTestBtn');

            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = !answers[currentQuestionIndex] || autoSubmit;

            // ุฅุธูุงุฑ ุฒุฑ ุงูุฅููุงุก ุฅุฐุง ุชู ุงูุฅุฌุงุจุฉ ุนูู 90% ูู ุงูุฃุณุฆูุฉ ุนูู ุงูุฃูู
            const answeredCount = Object.keys(answers).length;
            const completionPercentage = (answeredCount / questions.length) * 100;

            // ุชุญุฏูุซ ูุต ุฒุฑ ุงูุชุงูู ูู ุงูุณุคุงู ุงูุฃุฎูุฑ
            if (currentQuestionIndex === questions.length) {
                nextBtn.textContent = '๐ ุฅููุงุก ุงูุงุฎุชุจุงุฑ';
                nextBtn.classList.remove('bg-indigo-600', 'hover:bg-indigo-700');
                nextBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                nextBtn.disabled = false;
            } else {
                nextBtn.textContent = 'ุงูุชุงูู';
                nextBtn.classList.remove('bg-green-600', 'hover:bg-green-700');
                nextBtn.classList.add('bg-indigo-600', 'hover:bg-indigo-700');
            }
        }

        // ุฃุญุฏุงุซ ุฃุฒุฑุงุฑ ุงูุชููู
        document.getElementById('prevBtn').addEventListener('click', function () {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
                updateNavigationButtons()
            }
        });

        document.getElementById('nextBtn').addEventListener('click', function () {
            if (currentQuestionIndex < questions.length) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                showReviewModal();
            }
        });
        document.querySelector('.autoSubmit').addEventListener('click', function () {
            const autoSubmitText = document.getElementById('autoSubmitText');
            autoSubmit = !autoSubmit
            autoSubmitText.textContent = `๐ก ุงุถุบุท ููุง ${autoSubmit ? 'ูุชุนุทูู' : 'ูุชูุนูู'} ุงูุงูุชูุงู ุชููุงุฆูุงู ุจุนุฏ ุงูุฅุฌุงุจุฉ`
            autoSubmitText.classList.toggle("bg-blue-100", autoSubmit)
            updateNavigationButtons()
        });

        // ุฒุฑ ุญูุธ ูุงุญูุงู
        // document.getElementById('saveLaterBtn').addEventListener('click', function () {
        //     // ุญูุธ ุงูุชูุฏู ุงูุญุงูู
        //     saveAnswer();

        //     // ุฅุธูุงุฑ ุฑุณุงูุฉ ุชุฃููุฏ ูุน ูุนูููุงุช ุงูุชูุฏู
        //     const answeredCount = Object.keys(answers).length;
        //     const progress = Math.round((answeredCount / questions.length) * 100);

        //     if (confirm(`ุชู ุญูุธ ุชูุฏูู!\n\nุงูุชูุฏู ุงูุญุงูู: ${answeredCount} ูู ${questions.length} ุณุคุงูุงู (${progress}%)\n\nููููู ุงูุนูุฏุฉ ูุงุญูุงู ูุฅููุงู ุงูุงุฎุชุจุงุฑ ูู ุญูุซ ุชูููุช.\n\nูู ุชุฑูุฏ ุงูุฎุฑูุฌ ุงูุขูุ`)) {
        //         // ุงูุนูุฏุฉ ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
        //         testScreen.classList.add('hidden');
        //         welcomeScreen.classList.remove('hidden');

        //         // ุฅููุงู ุงููุคูุช
        //         if (timerInterval) {
        //             clearInterval(timerInterval);
        //         }

        //         // ุฅุธูุงุฑ ุฑุณุงูุฉ ูุฌุงุญ ุงูุญูุธ
        //         setTimeout(() => {
        //             alert('โ ุชู ุญูุธ ุชูุฏูู ุจูุฌุงุญ!\n\nุนูุฏ ุงูุนูุฏุฉุ ุงุถุบุท "ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ" ูุณุชุฌุฏ ุฎูุงุฑ "ุงุณุชููุงู ุงูุงุฎุชุจุงุฑ" ูููุชุงุจุนุฉ ูู ุญูุซ ุชูููุช.');
        //         }, 500);
        //     }
        // });

        // ุฒุฑ ุฅููุงุก ุงูุงุฎุชุจุงุฑ
        // document.getElementById('finishTestBtn').addEventListener('click', function () {
        //     showReviewModal();
        // });

        // // ุฒุฑ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ
        // document.getElementById('goToUnansweredBtn').addEventListener('click', function () {
        //     goToFirstUnansweredQuestion();
        // });

        // ุจุฏุก ุงููุคูุช
        function startTimer() {
            timerInterval = setInterval(function () {
                const elapsed = Date.now() - startTime;
                const minutes = Math.floor(elapsed / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                document.getElementById('timerDisplay').textContent =
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // ุฅุธูุงุฑ ุงุณุชุฑุงุญุฉ ููุชุตู ุงูุทุฑูู
        function showMidwayBreak() {
            midwayBreak.classList.remove('hidden');

            // ุชูุฑูู ุงูุชููุณ
            let breathCount = 0;
            const breathingText = document.getElementById('breathingText');

            const breathingInterval = setInterval(function () {
                if (breathCount < 5) { // 5 ุฏูุฑุงุช ุชููุณ
                    if (breathCount % 2 === 0) {
                        breathingText.textContent = `ุดููู... ${4 - (breathCount % 4)}`;
                    } else {
                        breathingText.textContent = `ุฒููุฑ... ${4 - (breathCount % 4)}`;
                    }
                    breathCount++;
                } else {
                    clearInterval(breathingInterval);
                    breathingText.textContent = 'ุฌุงูุฒ ูููุชุงุจุนุฉ!';
                }
            }, 1000);
        }

        // ุญุณุงุจ ุงููุชุงุฆุฌ ูุน ูุธุงู ุงูุฃูุฒุงู ูุงูููุซูููุฉ ุงููุญุณู
        function calculateResults() {
            const scores = {};
            const maxScores = {};
            const actualScores = {};
            const weightedMaxScores = {};
            const weightedActualScores = {};
            const questionCounts = {};
            const detailedBreakdown = {};
            const reliabilityScores = {};

            // ุชููุฆุฉ ุงูููุงุท ูุงูุญุฏ ุงูุฃูุตู ููู ููุน ุฐูุงุก
            Object.keys(intelligences).forEach(type => {
                scores[type] = 0;
                maxScores[type] = 0;
                actualScores[type] = 0;
                weightedMaxScores[type] = 0;
                weightedActualScores[type] = 0;
                questionCounts[type] = 0;
                reliabilityScores[type] = 0;
                detailedBreakdown[type] = {
                    questions: [],
                    totalPossible: 0,
                    totalAchieved: 0,
                    answeredQuestions: 0,
                    weightedPossible: 0,
                    weightedAchieved: 0,
                    averageReliability: 0,
                    difficultyBreakdown: { easy: 0, medium: 0, hard: 0 }
                };
            });

            // ุญุณุงุจ ุงูููุงุท ูุงูุญุฏ ุงูุฃูุตู ููู ุณุคุงู ูุน ูุธุงู ุงูุฃูุฒุงู ุงููุญุณู
            questions.forEach((question, index) => {
                const questionType = question.type;
                const weight = question.weight || 1.0; // ุงููุฒู ุงูุงูุชุฑุงุถู 1.0
                const reliability = question.reliability || 0.8; // ุงูููุซูููุฉ ุงูุงูุชุฑุงุถูุฉ 80%
                const difficulty = question.difficulty || 'medium';

                questionCounts[questionType]++;

                // ุญุณุงุจ ุงูุญุฏ ุงูุฃูุตู ููุณุคุงู ูุน ุงูุชุญูู ุงููุชูุฏู
                let questionMaxScore = 0;
                let questionActualScore = 0;
                let isAnswered = false;

                switch (question.questionType) {
                    case 'single':
                        // ุงูุชุฃูุฏ ูู ูุฌูุฏ ููู ุตุญูุญุฉ ูู ุงูุฎูุงุฑุงุช
                        const validSingleOptions = question.options.filter(opt =>
                            typeof opt.value === 'number' &&
                            opt.value >= 0 &&
                            opt.value <= 5 // ุญุฏ ุฃูุตู ููุทูู
                        );

                        if (validSingleOptions.length > 0) {
                            questionMaxScore = Math.max(...validSingleOptions.map(opt => opt.value));

                            // ุญุณุงุจ ุงูููุงุท ุงููุนููุฉ
                            if (answers[index] !== undefined && answers[index] !== null) {
                                const answerIndex = answers[index];
                                if (typeof answerIndex === 'number' &&
                                    answerIndex >= 0 &&
                                    answerIndex < question.options.length) {
                                    const selectedOption = question.options[answerIndex];
                                    if (selectedOption && typeof selectedOption.value === 'number') {
                                        questionActualScore = Math.max(0, selectedOption.value);
                                        isAnswered = true;
                                    }
                                }
                            }
                        }
                        break;

                    case 'multiple':
                        // ุญุณุงุจ ูุฌููุน ุฌููุน ุงูุฎูุงุฑุงุช ููุงุฎุชูุงุฑ ุงููุชุนุฏุฏ ูุน ุงูุชุญูู
                        const validMultipleOptions = question.options.filter(opt =>
                            typeof opt.value === 'number' &&
                            opt.value >= 0 &&
                            opt.value <= 5
                        );

                        if (validMultipleOptions.length > 0) {
                            questionMaxScore = validMultipleOptions.reduce((sum, opt) => sum + opt.value, 0);

                            // ุญุณุงุจ ุงูููุงุท ุงููุนููุฉ
                            if (answers[index] !== undefined &&
                                answers[index] !== null &&
                                Array.isArray(answers[index]) &&
                                answers[index].length > 0) {

                                const selectedIndices = [...new Set(answers[index])]; // ุฅุฒุงูุฉ ุงูุชูุฑุงุฑุงุช
                                selectedIndices.forEach(optionIndex => {
                                    if (typeof optionIndex === 'number' &&
                                        optionIndex >= 0 &&
                                        optionIndex < question.options.length) {
                                        const selectedOption = question.options[optionIndex];
                                        if (selectedOption && typeof selectedOption.value === 'number') {
                                            questionActualScore += Math.max(0, selectedOption.value);
                                        }
                                    }
                                });
                                isAnswered = selectedIndices.length > 0;
                            }
                        }
                        break;

                    case 'ranking':
                        // ูุธุงู ุงูุชุฑุชูุจ: ุงูุฃูู=4ุ ุงูุซุงูู=3ุ ุงูุซุงูุซ=2ุ ุงูุฑุงุจุน=1
                        questionMaxScore = 4 + 3 + 2 + 1; // = 10 ููุงุท

                        // ุญุณุงุจ ุงูููุงุท ุงููุนููุฉ ูุน ุงูุชุญูู ุงูุตุงุฑู
                        if (answers[index] !== undefined &&
                            answers[index] !== null &&
                            Array.isArray(answers[index]) &&
                            answers[index].length === 4) {

                            const ranking = answers[index];
                            const uniqueItems = [...new Set(ranking)];

                            // ุงูุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุนูุงุตุฑ ููุฌูุฏุฉ ููุง ุชุชูุฑุฑ ููู ุงููุทุงู ุงูุตุญูุญ
                            if (uniqueItems.length === 4 &&
                                uniqueItems.every(item =>
                                    typeof item === 'number' &&
                                    item >= 0 &&
                                    item < 4
                                ) &&
                                uniqueItems.sort().join(',') === '0,1,2,3') {

                                ranking.forEach((optionIndex, rank) => {
                                    questionActualScore += (4 - rank); // ุงูุฃูู=4ุ ุงูุซุงูู=3ุ ุฅูุฎ
                                });
                                isAnswered = true;
                            } else {
                                // ุฅุฐุง ูุงู ุงูุชุฑุชูุจ ุบูุฑ ุตุญูุญุ ุฃุนุทู ููุงุท ุฌุฒุฆูุฉ
                                console.warn(`ุชุฑุชูุจ ุบูุฑ ุตุญูุญ ูู ุงูุณุคุงู ${index + 1}:`, ranking);
                                questionActualScore = questionMaxScore * 0.5; // 50% ูู ุงูููุงุท
                                isAnswered = true;
                            }
                        }
                        break;

                    case 'rating':
                        // ุงูุชุฃูุฏ ูู ูุฌูุฏ ุนุจุงุฑุงุช ุตุญูุญุฉ
                        if (question.statements &&
                            Array.isArray(question.statements) &&
                            question.statements.length > 0) {

                            questionMaxScore = question.statements.length * 5; // 5 ูุฌูู ููู ุนุจุงุฑุฉ

                            // ุญุณุงุจ ุงูููุงุท ุงููุนููุฉ
                            if (answers[index] !== undefined &&
                                answers[index] !== null &&
                                Array.isArray(answers[index]) &&
                                answers[index].length === question.statements.length) {

                                let validRatings = 0;
                                answers[index].forEach(rating => {
                                    if (typeof rating === 'number' && rating >= 1 && rating <= 5) {
                                        questionActualScore += rating;
                                        validRatings++;
                                    }
                                });

                                // ุงุนุชุจุฑ ุงูุณุคุงู ููุฌุงุจ ุนููู ุฅุฐุง ุชู ุชูููู 80% ูู ุงูุนุจุงุฑุงุช ุนูู ุงูุฃูู
                                isAnswered = validRatings >= Math.ceil(question.statements.length * 0.8);

                                if (!isAnswered && validRatings > 0) {
                                    // ุฅุนุทุงุก ููุงุท ุฌุฒุฆูุฉ ููุชููููุงุช ุงููุงูุตุฉ
                                    questionActualScore = (questionActualScore / validRatings) * question.statements.length * 0.7;
                                    isAnswered = true;
                                }
                            }
                        }
                        break;
                }

                // ุงูุชุฃูุฏ ูู ุฃู ุงูููุงุท ูู ุงููุทุงู ุงูููุทูู
                questionActualScore = Math.max(0, Math.min(questionMaxScore, questionActualScore));

                // ุชุทุจูู ุนุงูู ุงูููุซูููุฉ ุนูู ุงูููุงุท
                const reliableActualScore = questionActualScore * reliability;
                const reliableMaxScore = questionMaxScore * reliability;

                // ุฅุถุงูุฉ ุงูููุงุท ูููุฌุงููุน (ุงูุนุงุฏูุฉ ูุงูููุฒููุฉ)
                maxScores[questionType] += questionMaxScore;
                actualScores[questionType] += questionActualScore;
                weightedMaxScores[questionType] += questionMaxScore * weight;
                weightedActualScores[questionType] += reliableActualScore * weight;
                reliabilityScores[questionType] += reliability;

                // ุญูุธ ุชูุงุตูู ุงูุณุคุงู ููุชุดุฎูุต ุงููุญุณู
                detailedBreakdown[questionType].questions.push({
                    questionIndex: index + 1,
                    questionType: question.questionType,
                    maxScore: questionMaxScore,
                    actualScore: questionActualScore,
                    weight: weight,
                    reliability: reliability,
                    difficulty: difficulty,
                    weightedMaxScore: questionMaxScore * weight,
                    weightedActualScore: reliableActualScore * weight,
                    isAnswered: isAnswered,
                    answer: answers[index]
                });

                if (isAnswered) {
                    detailedBreakdown[questionType].answeredQuestions++;
                    detailedBreakdown[questionType].difficultyBreakdown[difficulty]++;
                }

                detailedBreakdown[questionType].totalPossible += questionMaxScore;
                detailedBreakdown[questionType].totalAchieved += questionActualScore;
                detailedBreakdown[questionType].weightedPossible += questionMaxScore * weight;
                detailedBreakdown[questionType].weightedAchieved += reliableActualScore * weight;
            });

            // ุชุญููู ุงูููุงุท ุฅูู ูุณุจ ูุฆููุฉ ูุน ูุธุงู ุงูุฃูุฒุงู ุงููุญุณู
            Object.keys(actualScores).forEach(type => {
                // ุญุณุงุจ ูุชูุณุท ุงูููุซูููุฉ ููุฐุง ุงูููุน ูู ุงูุฐูุงุก
                const avgReliability = questionCounts[type] > 0 ?
                    reliabilityScores[type] / questionCounts[type] : 0;
                detailedBreakdown[type].averageReliability = Math.round(avgReliability * 100) / 100;

                if (weightedMaxScores[type] > 0 && detailedBreakdown[type].answeredQuestions > 0) {
                    // ุญุณุงุจ ุงููุณุจุฉ ุงููุฆููุฉ ุงูููุฒููุฉ ุจุฏูุฉ ุนุงููุฉ
                    const weightedPercentage = (weightedActualScores[type] / weightedMaxScores[type]) * 100;

                    // ุชุทุจูู ุนุงูู ุชุตุญูุญ ุงูุตุนูุจุฉ
                    const difficultyFactor = calculateDifficultyFactor(detailedBreakdown[type].difficultyBreakdown, detailedBreakdown[type].answeredQuestions);

                    // ุชุทุจูู ุนุงูู ุชุตุญูุญ ุงูููุซูููุฉ
                    const reliabilityFactor = Math.min(1.0, avgReliability + 0.1); // ููุงูุฃุฉ ุตุบูุฑุฉ ููููุซูููุฉ ุงูุนุงููุฉ

                    // ุญุณุงุจ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
                    let finalScore = weightedPercentage * difficultyFactor * reliabilityFactor;

                    // ุชูุฑูุจ ูุฃูุฑุจ ุนูุดุฑ ูุน ุถูุงู ุงูุฏูุฉ
                    scores[type] = Math.round(finalScore * 10) / 10;

                    // ุงูุชุฃูุฏ ูู ุฃู ุงููุณุจุฉ ูู ุงููุทุงู ุงูุตุญูุญ
                    scores[type] = Math.max(0, Math.min(100, scores[type]));

                    // ุชุทุจูู ุชุนุฏูู ููุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ (ุฃูู ูุณูุฉ ูุน ุงููุธุงู ุงูุฌุฏูุฏ)
                    const answerRate = detailedBreakdown[type].answeredQuestions / questionCounts[type];
                    if (answerRate < 1.0 && answerRate >= 0.6) {
                        // ุชูููู ุงููุชูุฌุฉ ุจูุงุกู ุนูู ูุณุจุฉ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ (ุฃูู ุนููุจุฉ)
                        const penalty = (1 - answerRate) * 0.2; // ุนููุจุฉ 20% ูุญุฏ ุฃูุตู
                        scores[type] = Math.round((scores[type] * (1 - penalty)) * 10) / 10;
                    } else if (answerRate < 0.6) {
                        // ุฅุฐุง ุฃูุฌูุจ ุนูู ุฃูู ูู 60% ูู ุงูุฃุณุฆูุฉุ ุชุทุจูู ุนููุจุฉ ุฃูุจุฑ
                        const penalty = Math.min(0.5, (1 - answerRate) * 0.8);
                        scores[type] = Math.round((scores[type] * (1 - penalty)) * 10) / 10;
                    }
                } else {
                    scores[type] = 0;
                }
            });

            // ุฏุงูุฉ ุญุณุงุจ ุนุงูู ุงูุตุนูุจุฉ
            function calculateDifficultyFactor(difficultyBreakdown, totalAnswered) {
                if (totalAnswered === 0) return 1.0;

                const easyWeight = 0.9;   // ุงูุฃุณุฆูุฉ ุงูุณููุฉ ุชุญุตู ุนูู ูุฒู ุฃูู ููููุงู
                const mediumWeight = 1.0; // ุงูุฃุณุฆูุฉ ุงููุชูุณุทุฉ ูุฒู ุนุงุฏู
                const hardWeight = 1.2;   // ุงูุฃุณุฆูุฉ ุงูุตุนุจุฉ ุชุญุตู ุนูู ููุงูุฃุฉ

                const weightedTotal = (difficultyBreakdown.easy * easyWeight) +
                    (difficultyBreakdown.medium * mediumWeight) +
                    (difficultyBreakdown.hard * hardWeight);

                return Math.min(1.15, weightedTotal / totalAnswered); // ุญุฏ ุฃูุตู 15% ููุงูุฃุฉ
            }

            // ุฅูุดุงุก ุชูุฑูุฑ ุชุดุฎูุตู ุดุงูู
            const diagnostics = {
                summary: {
                    totalQuestions: questions.length,
                    answeredQuestions: Object.keys(answers).length,
                    completionRate: Math.round((Object.keys(answers).length / questions.length) * 100)
                },
                byIntelligenceType: {},
                validation: {
                    errors: [],
                    warnings: [],
                    isReliable: true
                },
                statistics: {}
            };

            // ูุชูุณุทุงุช ุนุงูุฉ ูุฑุฌุนูุฉ ููู ููุน ุฐูุงุก (ุจูุงุกู ุนูู ุฏุฑุงุณุงุช ุณุงุจูุฉ)
            const generalAverages = {
                linguistic: 62,
                logical: 58,
                spatial: 55,
                bodily: 60,
                musical: 45,
                interpersonal: 68,
                intrapersonal: 52,
                naturalist: 48
            };

            // ุชูุงุตูู ูู ููุน ุฐูุงุก ูุน ุงูููุงุฑูุงุช
            Object.keys(intelligences).forEach(type => {
                const breakdown = detailedBreakdown[type];
                const generalAvg = generalAverages[type];
                const scoreDifference = scores[type] - generalAvg;

                diagnostics.byIntelligenceType[type] = {
                    name: intelligences[type].name,
                    totalQuestions: questionCounts[type],
                    answeredQuestions: breakdown.answeredQuestions,
                    completionRate: Math.round((breakdown.answeredQuestions / questionCounts[type]) * 100),
                    maxPossibleScore: maxScores[type],
                    actualScore: actualScores[type],
                    weightedMaxScore: weightedMaxScores[type],
                    weightedActualScore: weightedActualScores[type],
                    finalPercentage: scores[type],
                    efficiency: maxScores[type] > 0 ? Math.round((actualScores[type] / maxScores[type]) * 100) : 0,
                    averageReliability: breakdown.averageReliability,
                    difficultyBreakdown: breakdown.difficultyBreakdown,
                    // ููุงุฑูุฉ ูุน ุงููุชูุณุท ุงูุนุงู
                    generalAverage: generalAvg,
                    differenceFromAverage: Math.round(scoreDifference * 10) / 10,
                    performanceLevel: scoreDifference > 15 ? 'ููุชุงุฒ' :
                        scoreDifference > 5 ? 'ุฌูุฏ ุฌุฏุงู' :
                            scoreDifference > -5 ? 'ูุชูุณุท' :
                                scoreDifference > -15 ? 'ุฃูู ูู ุงููุชูุณุท' : 'ูุญุชุงุฌ ุชุทููุฑ'
                };
            });

            // ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ
            const allScores = Object.values(scores);
            const validScores = allScores.filter(score => score > 0);

            if (validScores.length > 0) {
                const sum = validScores.reduce((a, b) => a + b, 0);
                const mean = sum / validScores.length;
                const variance = validScores.reduce((acc, score) => acc + Math.pow(score - mean, 2), 0) / validScores.length;
                const standardDeviation = Math.sqrt(variance);

                diagnostics.statistics = {
                    mean: Math.round(mean * 10) / 10,
                    median: validScores.sort((a, b) => a - b)[Math.floor(validScores.length / 2)],
                    standardDeviation: Math.round(standardDeviation * 10) / 10,
                    min: Math.min(...validScores),
                    max: Math.max(...validScores),
                    range: Math.max(...validScores) - Math.min(...validScores)
                };
            }

            // ุงูุชุญูู ูู ุตุญุฉ ุงููุชุงุฆุฌ
            Object.keys(scores).forEach(type => {
                const typeData = diagnostics.byIntelligenceType[type];

                // ุชุญูู ูู ุงูุชูุงู ุงูุจูุงูุงุช
                if (typeData.completionRate < 50) {
                    diagnostics.validation.warnings.push(`ูุณุจุฉ ุฅููุงู ููุฎูุถุฉ ููุฐูุงุก ${intelligences[type].name}: ${typeData.completionRate}%`);
                }

                // ุชุญูู ูู ููุทููุฉ ุงููุชุงุฆุฌ
                if (scores[type] === 0 && typeData.answeredQuestions > 0) {
                    diagnostics.validation.errors.push(`ูุชูุฌุฉ ุตูุฑ ุบูุฑ ููุทููุฉ ููุฐูุงุก ${intelligences[type].name} ุฑุบู ูุฌูุฏ ุฅุฌุงุจุงุช`);
                }

                if (scores[type] > 95 && typeData.completionRate === 100) {
                    diagnostics.validation.warnings.push(`ูุชูุฌุฉ ุนุงููุฉ ุฌุฏุงู ููุฐูุงุก ${intelligences[type].name}: ${scores[type]}%`);
                }
            });

            // ุชุญูู ูู ุงูุชูุฒูุน ุงูุนุงู
            if (diagnostics.statistics.mean) {
                if (diagnostics.statistics.mean < 15) {
                    diagnostics.validation.warnings.push(`ูุชูุณุท ุงููุชุงุฆุฌ ููุฎูุถ ุฌุฏุงู: ${diagnostics.statistics.mean}%`);
                    diagnostics.validation.isReliable = false;
                }

                if (diagnostics.statistics.mean > 85) {
                    diagnostics.validation.warnings.push(`ูุชูุณุท ุงููุชุงุฆุฌ ูุฑุชูุน ุฌุฏุงู: ${diagnostics.statistics.mean}%`);
                }

                if (diagnostics.statistics.standardDeviation < 3) {
                    diagnostics.validation.warnings.push(`ุชุดุงุจู ูุจูุฑ ูู ุงููุชุงุฆุฌ ูุฏ ูุดูุฑ ูุนุฏู ุฏูุฉ ุงูุฅุฌุงุจุงุช`);
                }
            }

            // ุทุจุงุนุฉ ุงูุชูุฑูุฑ ุงูุชุดุฎูุตู ุงูุดุงูู
            console.group('๐ ุชูุฑูุฑ ุชุดุฎูุต ุงููุชุงุฆุฌ ุงูุดุงูู');
            console.log('๐ ุงูููุฎุต ุงูุนุงู:', diagnostics.summary);
            console.log('๐ ุงูุฅุญุตุงุฆูุงุช:', diagnostics.statistics);
            console.log('๐ฏ ุชูุงุตูู ูู ููุน ุฐูุงุก:', diagnostics.byIntelligenceType);

            if (diagnostics.validation.errors.length > 0) {
                console.error('โ ุฃุฎุทุงุก:', diagnostics.validation.errors);
            }

            if (diagnostics.validation.warnings.length > 0) {
                console.warn('โ๏ธ ุชุญุฐูุฑุงุช:', diagnostics.validation.warnings);
            }

            console.log('โ ููุซูููุฉ ุงููุชุงุฆุฌ:', diagnostics.validation.isReliable ? 'ุนุงููุฉ' : 'ููุฎูุถุฉ');
            console.groupEnd();

            // ุฅุฑุฌุงุน ุงููุชุงุฆุฌ ูุน ูุนูููุงุช ุฅุถุงููุฉ
            return {
                scores: scores,
                diagnostics: diagnostics,
                isReliable: diagnostics.validation.isReliable
            };
        }

        // ุฅุธูุงุฑ ูุงูุฐุฉ ูุฑุงุฌุนุฉ ุงูุงุฎุชุจุงุฑ
        function showReviewModal() {
            const totalQuestions = questions.length;
            const answeredQuestions = Object.keys(answers).length;

            // ุฅูุดุงุก ููุฎุต ุงูุฅุฌุงุจุงุช
            createReviewSummary();

            // ุฅุธูุงุฑ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ ุฅู ูุฌุฏุช
            if (answeredQuestions < totalQuestions) {
                showUnansweredQuestions();
            } else {
                document.getElementById('unansweredSection').classList.add('hidden');
            }

            document.getElementById('reviewTestModal').classList.remove('hidden');
            document.getElementById('reviewTestModal').classList.add('flex');
        }

        // ุฅูุดุงุก ููุฎุต ุงูุฅุฌุงุจุงุช
        function createReviewSummary() {
            const reviewSummary = document.getElementById('reviewSummary');
            const intelligenceTypes = Object.keys(intelligences);

            reviewSummary.innerHTML = intelligenceTypes.map(type => {
                const intel = intelligences[type];
                const questionsOfType = questions.filter(q => q.type === type);
                const answeredOfType = questionsOfType.filter((q, index) => {
                    const questionIndex = questions.indexOf(q);
                    return answers[questionIndex] !== undefined;
                }).length;

                const percentage = questionsOfType.length > 0 ?
                    Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

                return `
                    <div class="text-center p-3 bg-white rounded-lg border border-gray-200">
                        <div class="text-2xl mb-1">${intel.icon}</div>
                        <div class="text-xs font-semibold text-gray-700 mb-1">${intel.name}</div>
                        <div class="text-sm font-bold" style="color: ${intel.color}">
                            ${answeredOfType}/${questionsOfType.length}
                        </div>
                        <div class="text-xs text-gray-500">${percentage}%</div>
                    </div>
                `;
            }).join('');
        }

        // ุฅุธูุงุฑ ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ
        function showUnansweredQuestions() {
            const unansweredSection = document.getElementById('unansweredSection');
            const unansweredList = document.getElementById('unansweredList');

            const unanswered = [];
            for (let i = 0; i < questions.length; i++) {
                if (answers[i] === undefined) {
                    unanswered.push(i + 1);
                }
            }

            if (unanswered.length > 0) {
                unansweredSection.classList.remove('hidden');

                const displayList = unanswered.length <= 15 ?
                    unanswered.join('ุ ') :
                    unanswered.slice(0, 15).join('ุ ') + ` ู${unanswered.length - 15} ุฃุณุฆูุฉ ุฃุฎุฑู`;

                unansweredList.innerHTML = `
                    <p class="mb-2">ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ ูู ุชุชู ุงูุฅุฌุงุจุฉ ุนูููุง:</p>
                    <div class="bg-white rounded-lg p-3 border border-yellow-300">
                        <strong>ุฃุฑูุงู ุงูุฃุณุฆูุฉ:</strong> ${displayList}
                    </div>
                    <p class="mt-2 text-xs">๐ก ููููู ุงูุถุบุท ุนูู "ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช" ููุนูุฏุฉ ูุฅููุงููุง</p>
                `;
            }
        }

        // ุงูุจุญุซ ุนู ุฃูู ุณุคุงู ุบูุฑ ููุฌุงุจ ุนููู
        function findFirstUnansweredQuestion() {
            for (let i = 0; i < questions.length; i++) {
                if (answers[i] === undefined) {
                    return i;
                }
            }
            return -1;
        }

        // ุนุฑุถ ุงููุชุงุฆุฌ (ุงููุธููุฉ ุงููุฏููุฉ ูุญุฏุซุฉ)
        function showResults() {
            showReviewModal();
        }

        // ุฅุธูุงุฑ ูุงูุฐุฉ ุงูุงุฎุชุจุงุฑ ุบูุฑ ุงูููุชูู
        function showIncompleteTestModal(answeredQuestions, totalQuestions) {
            const remainingQuestions = totalQuestions - answeredQuestions;
            const percentage = Math.round((answeredQuestions / totalQuestions) * 100);

            // ุงูุนุซูุฑ ุนูู ุฃุฑูุงู ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ
            const unansweredQuestions = [];
            for (let i = 0; i < totalQuestions; i++) {
                if (answers[i] === undefined) {
                    unansweredQuestions.push(i + 1);
                }
            }

            const unansweredList = unansweredQuestions.length <= 10 ?
                unansweredQuestions.join('ุ ') :
                unansweredQuestions.slice(0, 10).join('ุ ') + ` ูุฃุณุฆูุฉ ุฃุฎุฑู...`;

            document.getElementById('incompleteMessage').innerHTML = `
                ุชูุช ุงูุฅุฌุงุจุฉ ุนูู <strong>${answeredQuestions}</strong> ูู <strong>${totalQuestions}</strong> ุณุคุงูุงู<br>
                <span class="text-sm text-gray-500">ูุณุจุฉ ุงูุฅููุงู: ${percentage}% โข ุงููุชุจูู: ${remainingQuestions} ุฃุณุฆูุฉ</span><br>
                <div class="mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                    <div class="text-sm font-semibold text-yellow-800 mb-1">ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ:</div>
                    <div class="text-sm text-yellow-700">${unansweredList}</div>
                </div>
            `;

            document.getElementById('incompleteTestModal').classList.remove('hidden');
            document.getElementById('incompleteTestModal').classList.add('flex');
        }

        // ุงููุชุงุจุนุฉ ูุน ุงููุชุงุฆุฌ ูุน ุงูุชุญูู ุงูุดุงูู ูู ุงูุฏูุฉ
        function proceedWithResults() {
            clearInterval(timerInterval);
            // testScreen.classList.add('hidden');
            // resultsScreen.classList.remove('hidden');

            // ุญุณุงุจ ุงููุชุงุฆุฌ ูุน ุงูุชุดุฎูุต ุงูุดุงูู
            const resultsData = calculateResults();
            const scores = resultsData.scores;
            const diagnostics = resultsData.diagnostics;
            const isReliable = resultsData.isReliable;

            // ุนุฑุถ ุชุญุฐูุฑ ุฅุฐุง ูุงูุช ุงููุชุงุฆุฌ ุบูุฑ ููุซููุฉ
            if (!isReliable) {
                console.warn('โ๏ธ ุชุญุฐูุฑ: ุงููุชุงุฆุฌ ูุฏ ุชููู ุบูุฑ ุฏูููุฉ ุจุณุจุจ ุนุฏู ุงูุชูุงู ุงูุฅุฌุงุจุงุช');

                // ูููู ุฅุถุงูุฉ ุชูุจูู ุจุตุฑู ูููุณุชุฎุฏู
                const warningDiv = document.createElement('div');
                warningDiv.className = 'bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 mx-4';
                warningDiv.innerHTML = `
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">โ๏ธ</span>
                        <div>
                            <h4 class="font-semibold text-yellow-800">ุชูุจูู ุญูู ุฏูุฉ ุงููุชุงุฆุฌ</h4>
                            <p class="text-yellow-700 text-sm mt-1">
                                ุจุนุถ ุงููุชุงุฆุฌ ูุฏ ุชููู ุบูุฑ ุฏูููุฉ ุจุณุจุจ ุนุฏู ุฅููุงู ุฌููุน ุงูุฃุณุฆูุฉ. 
                                ููุญุตูู ุนูู ุชูููู ุฃูุซุฑ ุฏูุฉุ ูููุตุญ ุจุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ ูุฅููุงู ุฌููุน ุงูุฃุณุฆูุฉ.
                            </p>
                        </div>
                    </div>
                `;
                resultsScreen.insertBefore(warningDiv, resultsScreen.firstChild.nextSibling);
            }

            // ุนุฑุถ ุงุณู ุงููุณุชุฎุฏู
            document.getElementById('resultUserName').textContent = currentUser;

            // ุนุฑุถ ููุฎุต ููุท ุงูุฐูุงุกุงุช
            showIntelligencePattern(scores);

            // ุนุฑุถ ููุงุฑูุฉ ูุน ุงููุชูุณุท ุงูุนุงู
            showAverageComparison(scores, diagnostics);

            // ุนุฑุถ ุฃูู 3 ุฐูุงุกุงุช
            showLowestIntelligences(scores);

            // ุฅูุดุงุก ุงูุฑุณู ุงูุจูุงูู
            createResultsChart(scores);

            // ุนุฑุถ ุฃุนูู 3 ุฐูุงุกุงุช
            showTopIntelligences(scores);

            // ุนุฑุถ ุงูุชูุงุตูู ุงููุงููุฉ
            showDetailedResults(scores);

            // ุนุฑุถ ุงูุชูุตูุงุช ุงูุดุฎุตูุฉ
            showPersonalRecommendations(scores);

            // ุนุฑุถ ุฎุทุฉ ุงูุชุทููุฑ
            showDevelopmentPlan(scores);

            // ุฅุถุงูุฉ ูุนูููุงุช ุฅุญุตุงุฆูุฉ ูู ุฃุณูู ุงูุตูุญุฉ ููููุชููู
            if (diagnostics.statistics.mean) {
                const statsDiv = document.createElement('div');
                statsDiv.className = 'bg-gray-50 border border-gray-200 rounded-lg p-4 mt-8 mx-4';
                statsDiv.innerHTML = `
                    <details class="cursor-pointer">
                        <summary class="font-semibold text-gray-700 hover:text-gray-900">
                            ๐ ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ (ููููุชููู)
                        </summary>
                        <div class="mt-3 grid md:grid-cols-3 gap-4 text-sm">
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">ุงููุชูุณุท ุงูุนุงู</div>
                                <div class="text-lg font-bold text-indigo-600">${diagnostics.statistics.mean}%</div>
                            </div>
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">ุงูุงูุญุฑุงู ุงููุนูุงุฑู</div>
                                <div class="text-lg font-bold text-blue-600">${diagnostics.statistics.standardDeviation}</div>
                            </div>
                            <div class="bg-white rounded p-3">
                                <div class="font-semibold text-gray-600">ูุณุจุฉ ุงูุฅููุงู</div>
                                <div class="text-lg font-bold text-green-600">${diagnostics.summary.completionRate}%</div>
                            </div>
                        </div>
                    </details>
                `;
                resultsScreen.appendChild(statsDiv);
            }

            shareResults()
        }



        // ุนุฑุถ ููุงุฑูุฉ ูุน ุงููุชูุณุท ุงูุนุงู
        function showAverageComparison(scores, diagnostics) {
            const averageComparison = document.getElementById('averageComparison');

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช ุญุณุจ ุงููุฑู ุนู ุงููุชูุณุท
            const comparisons = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    ...diagnostics.byIntelligenceType[key]
                }))
                .sort((a, b) => b.differenceFromAverage - a.differenceFromAverage);

            averageComparison.innerHTML = comparisons.map(intel => {
                const isAboveAverage = intel.differenceFromAverage > 0;
                const difference = Math.abs(intel.differenceFromAverage);
                const arrowIcon = isAboveAverage ? 'โ๏ธ' : 'โ๏ธ';
                const colorClass = isAboveAverage ? 'text-green-600' : 'text-orange-600';
                const bgClass = isAboveAverage ? 'bg-green-50 border-green-200' : 'bg-orange-50 border-orange-200';

                return `
                    <div class="bg-white rounded-xl p-4 border-2 ${bgClass} hover:shadow-lg transition-shadow">
                        <div class="text-center mb-3">
                            <div class="text-3xl mb-2">${intel.icon}</div>
                            <h4 class="font-semibold text-gray-800 text-sm">${intel.name}</h4>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-600">ูุชูุฌุชู:</span>
                                <span class="font-bold" style="color: ${intel.color}">${intel.score}%</span>
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-gray-600">ุงููุชูุณุท ุงูุนุงู:</span>
                                <span class="font-semibold text-gray-700">${intel.generalAverage}%</span>
                            </div>
                            
                            <div class="border-t pt-2">
                                <div class="flex items-center justify-center gap-2">
                                    <span class="text-lg">${arrowIcon}</span>
                                    <span class="font-bold ${colorClass}">
                                        ${isAboveAverage ? '+' : '-'}${difference}%
                                    </span>
                                </div>
                                <div class="text-center mt-1">
                                    <span class="text-xs px-2 py-1 rounded-full ${bgClass} ${colorClass} font-medium">
                                        ${intel.performanceLevel}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ุนุฑุถ ููุฎุต ููุท ุงูุฐูุงุกุงุช
        function showIntelligencePattern(scores) {
            const intelligencePattern = document.getElementById('intelligencePattern');

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช ุญุณุจ ุงูููุงุท
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key]
                }))
                .sort((a, b) => b.score - a.score);

            // ุชุญุฏูุฏ ุงูููุท ุงูุนุงู
            const topThree = sortedIntelligences.slice(0, 3);
            const averageScore = Object.values(scores).reduce((sum, score) => sum + score, 0) / 8;

            let patternDescription = '';
            if (averageScore >= 70) {
                patternDescription = 'ูุฏูู ุชูุงุฒู ููุชุงุฒ ูู ูุนุธู ุฃููุงุน ุงูุฐูุงุกุงุช! ๐';
            } else if (averageScore >= 50) {
                patternDescription = 'ูุฏูู ุชูุฒูุน ูุชูุงุฒู ูุน ุชููุฒ ูู ุจุนุถ ุงููุฌุงูุงุช ๐';
            } else {
                patternDescription = 'ูุฏูู ููุงุท ููุฉ ูุญุฏุฏุฉ ูููู ุงูุชุฑููุฒ ุนูููุง ูุชุทููุฑูุง ๐ช';
            }

            intelligencePattern.innerHTML = `
                <div class="mb-6">
                    <p class="text-xl text-indigo-700 font-semibold mb-4">${patternDescription}</p>
                    <div class="bg-white rounded-xl p-4 border border-indigo-200">
                        <h4 class="font-semibold text-gray-800 mb-3">ุฃููู 3 ุฐูุงุกุงุช ูุฏูู:</h4>
                        <div class="flex flex-wrap justify-center gap-4">
                            ${topThree.map((intel, index) => `
                                <div class="flex items-center gap-2 bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-2 rounded-full border border-indigo-300">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <span class="font-semibold text-indigo-800">${intel.name}</span>
                                    <span class="bg-indigo-600 text-white px-2 py-1 rounded-full text-sm font-bold">${intel.score}%</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-4 md:grid-cols-8 gap-2">
                    ${sortedIntelligences.map(intel => `
                        <div class="text-center">
                            <div class="w-16 h-16 mx-auto mb-2 rounded-full flex items-center justify-center text-2xl" 
                                 style="background-color: ${intel.color}20; border: 2px solid ${intel.color}">
                                ${intel.icon}
                            </div>
                            <div class="text-xs font-bold" style="color: ${intel.color}">${intel.score}%</div>
                            <div class="text-xs text-gray-600 mt-1">${intel.name}</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // ุนุฑุถ ุฃูู 3 ุฐูุงุกุงุช
        function showLowestIntelligences(scores) {
            const lowestIntelligences = document.getElementById('lowestIntelligences');

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช ูู ุงูุฃูู ููุฃุนูู
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => a.score - b.score)
                .slice(0, 3);

            lowestIntelligences.innerHTML = sortedIntelligences.map((intel, index) => `
                <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border-l-4 border-gray-400 hover:shadow-lg transition-shadow">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${intel.icon}</div>
                        <h4 class="text-lg font-bold text-gray-800">${intel.name}</h4>
                        <div class="flex items-center justify-center gap-2 mt-2">
                            <div class="bg-gray-200 rounded-full h-3 w-20">
                                <div class="h-3 rounded-full bg-gray-400 transition-all duration-1000" style="width: ${intel.score}%"></div>
                            </div>
                            <span class="text-lg font-bold text-gray-600">${intel.score}%</span>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 mb-4">
                        <h5 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                            <span class="text-sm">๐</span> ูุง ููุ
                        </h5>
                        <p class="text-sm text-gray-600 leading-relaxed">
                            ${intel.details.description.substring(0, 120)}...
                        </p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h5 class="font-semibold text-blue-700 mb-3 flex items-center gap-2">
                            <span class="text-sm">๐</span> ููููุฉ ุงูุชุทููุฑ
                        </h5>
                        <ul class="space-y-2">
                            ${intel.details.learningMethods.slice(0, 3).map(method => `
                                <li class="flex items-start gap-2 text-sm text-blue-700">
                                    <span class="text-blue-500 font-bold mt-0.5">โข</span>
                                    <span>${method}</span>
                                </li>
                            `).join('')}
                        </ul>
                        
                        <div class="mt-3 pt-3 border-t border-blue-200">
                            <h6 class="font-semibold text-blue-600 mb-2 text-sm">ุฃูุดุทุฉ ููุชุฑุญุฉ:</h6>
                            <div class="flex flex-wrap gap-1">
                                ${intel.details.activities.slice(0, 2).map(activity => `
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${activity}</span>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ุนุฑุถ ุฃุนูู 3 ุฐูุงุกุงุช
        function showTopIntelligences(scores) {
            const topIntelligences = document.getElementById('topIntelligences');

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช ุญุณุจ ุงูููุงุท
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => b.score - a.score)
                .slice(0, 3);

            topIntelligences.innerHTML = sortedIntelligences.map((intel, index) => {
                const medalColors = ['๐ฅ', '๐ฅ', '๐ฅ'];
                const gradients = [
                    'from-yellow-50 to-amber-50 border-yellow-400',
                    'from-gray-50 to-slate-50 border-gray-400',
                    'from-orange-50 to-amber-50 border-orange-400'
                ];

                return `
                    <div class="bg-gradient-to-r ${gradients[index]} rounded-xl border-l-4 p-6 shadow-lg">
                        <div class="flex items-center mb-4">
                            <div class="text-4xl mr-4">${medalColors[index]}</div>
                            <div class="text-4xl mr-4">${intel.icon}</div>
                            <div class="flex-1">
                                <h4 class="text-xl font-bold text-gray-800">${intel.name}</h4>
                                <div class="flex items-center gap-2 mt-2">
                                    <div class="bg-gray-200 rounded-full h-4 flex-1">
                                        <div class="h-4 rounded-full transition-all duration-1000" style="width: ${intel.score}%; background-color: ${intel.color}"></div>
                                    </div>
                                    <span class="text-xl font-bold" style="color: ${intel.color}">${intel.score}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg p-4 mb-4">
                            <p class="text-gray-700 leading-relaxed">${intel.details.description}</p>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white rounded-lg p-3">
                                <h5 class="font-semibold text-green-700 mb-2 flex items-center gap-2">
                                    <span>๐ช</span> ููุงุท ุงูููุฉ
                                </h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.strengths.slice(0, 2).map(strength => `<li>โข ${strength}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <div class="bg-white rounded-lg p-3">
                                <h5 class="font-semibold text-blue-700 mb-2 flex items-center gap-2">
                                    <span>๐ผ</span> ููู ููุงุณุจุฉ
                                </h5>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.careers.slice(0, 3).map(career => `<li>โข ${career}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ุนุฑุถ ุงูุชูุงุตูู ุงููุงููุฉ
        function showDetailedResults(scores) {
            const detailedResults = document.getElementById('detailedResults');

            // ุชุฑุชูุจ ุฌููุน ุงูุฐูุงุกุงุช ุญุณุจ ุงูููุงุท
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => b.score - a.score);

            detailedResults.innerHTML = sortedIntelligences.map((intel, index) => {
                const isTopThree = index < 3;
                const borderClass = isTopThree ? 'border-l-4' : 'border-l-2';
                const bgClass = isTopThree ? 'from-indigo-50 to-purple-50' : 'from-gray-50 to-white';

                return `
                    <div class="bg-gradient-to-r ${bgClass} rounded-xl ${borderClass} p-6 shadow-lg transition-all hover:shadow-xl" style="border-color: ${intel.color}">
                        <!-- Header -->
                        <div class="flex items-center mb-6">
                            <div class="text-4xl mr-4">${intel.icon}</div>
                            <div class="flex-1">
                                <div class="flex items-center gap-3 mb-2">
                                    <h4 class="text-2xl font-bold" style="color: ${intel.color}">${intel.name}</h4>
                                    ${isTopThree ? `<span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-semibold">ุฃุนูู ${index + 1}</span>` : ''}
                                </div>
                                <div class="flex items-center gap-3">
                                    <div class="bg-gray-200 rounded-full h-5 flex-1">
                                        <div class="h-5 rounded-full transition-all duration-1000" style="width: ${intel.score}%; background-color: ${intel.color}"></div>
                                    </div>
                                    <span class="text-2xl font-bold" style="color: ${intel.color}">${intel.score}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Description -->
                        <div class="bg-white rounded-lg p-4 mb-6 border border-gray-100">
                            <h5 class="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                                <span class="text-lg">๐</span> ูุตู ูุฐุง ุงูููุน ูู ุงูุฐูุงุก
                            </h5>
                            <p class="text-gray-700 leading-relaxed">${intel.details.description}</p>
                        </div>
                        
                        <!-- Details Grid -->
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Learning Methods -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-green-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">๐</span> ุทุฑู ุงูุชุนูู ุงูููุงุณุจุฉ
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.learningMethods.map(method => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-green-500 font-bold mt-1">โข</span>
                                            <span>${method}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <!-- Activities -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-blue-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">๐ฏ</span> ุฃูุดุทุฉ ูููุงูุงุช ููุชุฑุญุฉ
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.activities.map(activity => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-blue-500 font-bold mt-1">โข</span>
                                            <span>${activity}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            
                            <!-- Careers -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-purple-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">๐ผ</span> ููู ูุชุฎุตุตุงุช ููุงุณุจุฉ
                                </h5>
                                <div class="flex flex-wrap gap-2">
                                    ${intel.details.careers.map(career => `
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">${career}</span>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <!-- Strengths -->
                            <div class="bg-white rounded-lg p-4 border border-gray-100">
                                <h5 class="font-semibold text-orange-700 mb-3 flex items-center gap-2">
                                    <span class="text-lg">๐ช</span> ููุงุท ุงูููุฉ ุงูุฑุฆูุณูุฉ
                                </h5>
                                <ul class="space-y-2">
                                    ${intel.details.strengths.map(strength => `
                                        <li class="flex items-start gap-2 text-gray-700">
                                            <span class="text-orange-500 font-bold mt-1">โข</span>
                                            <span>${strength}</span>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                        
                        ${isTopThree ? `
                            <div class="mt-6 bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-lg p-4">
                                <h5 class="font-semibold text-amber-800 mb-2 flex items-center gap-2">
                                    <span class="text-lg">๐ก</span> ูุตุงุฆุญ ุฎุงุตุฉ ูุชุทููุฑ ูุฐุง ุงูุฐูุงุก
                                </h5>
                                <p class="text-amber-700 text-sm leading-relaxed">
                                    ูุฐุง ุฃุญุฏ ุฃููู ุฃููุงุน ุงูุฐูุงุก ูุฏูู! ุฑูุฒ ุนูู ุงูุฃูุดุทุฉ ูุงูููู ุงููุฐููุฑุฉ ุฃุนูุงูุ ูุงุณุชุฎุฏู ุทุฑู ุงูุชุนูู ุงูููุงุณุจุฉ ูุชุญููู ุฃูุถู ุงููุชุงุฆุฌ ูู ุฏุฑุงุณุชู ูุนููู.
                                </p>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        // ุนุฑุถ ุงูุชูุตูุงุช ุงูุดุฎุตูุฉ
        function showPersonalRecommendations(scores) {
            const personalRecommendations = document.getElementById('personalRecommendations');

            // ุงูุญุตูู ุนูู ุฃุนูู 3 ุฐูุงุกุงุช
            const topThree = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => b.score - a.score)
                .slice(0, 3);

            // ุฌูุน ุงูุชูุตูุงุช ูู ุฃุนูู 3 ุฐูุงุกุงุช
            const allLearningMethods = [...new Set(topThree.flatMap(intel => intel.details.learningMethods))];
            const allActivities = [...new Set(topThree.flatMap(intel => intel.details.activities))];
            const allCareers = [...new Set(topThree.flatMap(intel => intel.details.careers))];

            personalRecommendations.innerHTML = `
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-indigo-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐</span> ุทุฑู ุงูุชุนูู ุงูุฃูุณุจ ูู
                    </h4>
                    <div class="space-y-3">
                        ${allLearningMethods.slice(0, 6).map(method => `
                            <div class="flex items-center gap-3 p-3 bg-indigo-50 rounded-lg">
                                <span class="w-2 h-2 bg-indigo-500 rounded-full"></span>
                                <span class="text-gray-700">${method}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐ฏ</span> ุฃูุดุทุฉ ููุชุฑุญุฉ ูู
                    </h4>
                    <div class="space-y-3">
                        ${allActivities.slice(0, 6).map(activity => `
                            <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
                                <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                                <span class="text-gray-700">${activity}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg md:col-span-2">
                    <h4 class="text-xl font-bold text-purple-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐ผ</span> ูุฌุงูุงุช ููููุฉ ููุงุณุจุฉ ูู
                    </h4>
                    <div class="grid md:grid-cols-3 gap-3">
                        ${allCareers.slice(0, 12).map(career => `
                            <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 text-center">
                                <span class="text-purple-800 font-medium">${career}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // ุนุฑุถ ุฎุทุฉ ุงูุชุทููุฑ
        function showDevelopmentPlan(scores) {
            const developmentPlan = document.getElementById('developmentPlan');

            // ุงูุญุตูู ุนูู ุฃุนูู 3 ุฐูุงุกุงุช
            const topThree = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => b.score - a.score)
                .slice(0, 3);

            // ุงูุญุตูู ุนูู ุฃูู 2 ุฐูุงุกุงุช ููุชุทููุฑ
            const bottomTwo = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    ...intelligences[key],
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => a.score - b.score)
                .slice(0, 2);

            developmentPlan.innerHTML = `
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐</span> ุงุณุชุซูุฑ ููุงุท ููุชู
                    </h4>
                    <p class="text-gray-600 mb-4">ุฑูุฒ ุนูู ุชุทููุฑ ูุฐู ุงูุฐูุงุกุงุช ุงููููุฉ ูุฏูู:</p>
                    <div class="space-y-4">
                        ${topThree.map((intel, index) => `
                            <div class="border-l-4 pl-4" style="border-color: ${intel.color}">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <h5 class="font-semibold" style="color: ${intel.color}">${intel.name} (${intel.score}%)</h5>
                                </div>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    ${intel.details.activities.slice(0, 2).map(activity => `<li>โข ${activity}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h4 class="text-xl font-bold text-orange-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐ช</span> ุทูุฑ ููุงุท ุงูุถุนู
                    </h4>
                    <p class="text-gray-600 mb-4">ูุฐู ุงููุฌุงูุงุช ุชุญุชุงุฌ ููุฒูุฏ ูู ุงูุชุทููุฑ:</p>
                    <div class="space-y-4">
                        ${bottomTwo.map(intel => `
                            <div class="border-l-4 border-gray-300 pl-4">
                                <div class="flex items-center gap-3 mb-2">
                                    <span class="text-2xl">${intel.icon}</span>
                                    <h5 class="font-semibold text-gray-700">${intel.name} (${intel.score}%)</h5>
                                </div>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    ${intel.details.learningMethods.slice(0, 2).map(method => `<li>โข ุฌุฑุจ: ${method}</li>`).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200 md:col-span-2">
                    <h4 class="text-xl font-bold text-blue-800 mb-4 flex items-center gap-2">
                        <span class="text-2xl">๐</span> ุฎุทุฉ ุนูู ููุฏุฉ 30 ูููุงู
                    </h4>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-green-700 mb-3">ุงูุฃุณุจูุน ุงูุฃูู</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>โข ุงุจุฏุฃ ุจูุดุงุท ูุงุญุฏ ูู ููุงุท ููุชู</li>
                                <li>โข ุงูุฑุฃ ุนู ุฃุนูู ุฐูุงุก ูุฏูู</li>
                                <li>โข ุฌุฑุจ ุทุฑููุฉ ุชุนูู ุฌุฏูุฏุฉ</li>
                            </ul>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-blue-700 mb-3">ุงูุฃุณุจูุน ุงูุซุงูู-ุงูุซุงูุซ</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>โข ุทุจู ุทุฑู ุงูุชุนูู ุงูููุงุณุจุฉ ูู</li>
                                <li>โข ุงุจุฏุฃ ููุงูุฉ ุฌุฏูุฏุฉ ูู ูุงุฆูุฉ ุงูุฃูุดุทุฉ</li>
                                <li>โข ุงุนูู ุนูู ุชุทููุฑ ููุทุฉ ุถุนู ูุงุญุฏุฉ</li>
                            </ul>
                        </div>
                        <div class="bg-white rounded-lg p-4">
                            <h5 class="font-semibold text-purple-700 mb-3">ุงูุฃุณุจูุน ุงูุฑุงุจุน</h5>
                            <ul class="text-sm text-gray-700 space-y-2">
                                <li>โข ูููู ุชูุฏูู</li>
                                <li>โข ุงุจุญุซ ุนู ูุฑุต ููููุฉ ููุงุณุจุฉ</li>
                                <li>โข ุถุน ุฎุทุฉ ููุดูุฑ ุงููุงุฏู</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // ุฅูุดุงุก ุงูุฑุณู ุงูุจูุงูู
        function createResultsChart(scores) {
            const ctx = document.getElementById('resultsChart').getContext('2d');

            const labels = Object.keys(intelligences).map(key => intelligences[key].name);
            const data = Object.keys(intelligences).map(key => scores[key]);
            const colors = Object.keys(intelligences).map(key => intelligences[key].color);

            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ูุณุจุฉ ุงูุฐูุงุก',
                        data: data,
                        backgroundColor: 'rgba(79, 70, 229, 0.2)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: colors,
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            }
                        }
                    }
                }
            });
        }

        // ุฃุญุฏุงุซ ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช
        function setupActionButtons() {
            // ุฒุฑ ุชุญููู PDF
            const downloadBtn = document.getElementById('downloadPdfBtn');
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function () {
                    generatePDFReport();
                });
            }

            // ุฒุฑ ูุดุงุฑูุฉ ุงููุชุงุฆุฌ
            // const shareBtn = document.getElementById('shareResultsBtn');
            // if (shareBtn) {
            //     shareBtn.addEventListener('click', function () {
            //         shareResults();
            //     });
            // }

            // ุฒุฑ ุญูุธ ุงููุชุงุฆุฌ
            const saveBtn = document.getElementById('saveResultsBtn');
            if (saveBtn) {
                saveBtn.addEventListener('click', function () {
                    saveResultsToFile();
                });
            }

            // ุฒุฑ ุทุจุงุนุฉ ุงูุฃุฌูุจุฉ
            const printAnswersBtn = document.getElementById('printAnswersBtn');
            if (printAnswersBtn) {
                printAnswersBtn.addEventListener('click', function () {
                    printAnswers();
                });
            }

            // ุฒุฑ ุนุฑุถ ุงููุชุงุฆุฌ ูู ุงููููุณู
            const showConsoleBtn = document.getElementById('showConsoleBtn');
            if (showConsoleBtn) {
                showConsoleBtn.addEventListener('click', function () {
                    // ุฅุธูุงุฑ ูุงูุฐุฉ ุฅุนุฏุงุฏุงุช ุงููููุณู
                    document.getElementById('consoleSettingsModal').classList.remove('hidden');
                    document.getElementById('consoleSettingsModal').classList.add('flex');
                });
            }

            // ุฃุญุฏุงุซ ูุงูุฐุฉ ุฅุนุฏุงุฏุงุช ุงููููุณู
            document.getElementById('applyConsoleSettings').addEventListener('click', function () {
                let DEBUG_SETTINGS = {};
                // ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ูู ุงููุงูุฐุฉ
                DEBUG_SETTINGS.showDetailedScoring = document.getElementById('showDetailedScoring').checked;
                DEBUG_SETTINGS.showQuestionAnalysis = document.getElementById('showQuestionAnalysis').checked;
                DEBUG_SETTINGS.showRecommendations = document.getElementById('showRecommendations').checked;
                DEBUG_SETTINGS.showStatistics = document.getElementById('showStatistics').checked;
                DEBUG_SETTINGS.enablePerformanceMetrics = document.getElementById('enablePerformanceMetrics').checked;

                // ุญุณุงุจ ุงููุชุงุฆุฌ ูุนุฑุถูุง ูู ุงููููุณู
                const resultsData = calculateResults();
                displayResultsInConsole(resultsData.scores, resultsData.diagnostics, resultsData.diagnostics.byIntelligenceType);

                // ุฅุฎูุงุก ุงููุงูุฐุฉ
                document.getElementById('consoleSettingsModal').classList.add('hidden');
                document.getElementById('consoleSettingsModal').classList.remove('flex');

                // ุฅุธูุงุฑ ุฑุณุงูุฉ ูููุณุชุฎุฏู
                alert('ุชู ุนุฑุถ ุงููุชุงุฆุฌ ุงูุชูุตูููุฉ ูู ุงููููุณู!\n\nุงูุชุญ ุฃุฏูุงุช ุงููุทูุฑ (F12) ูุงุฐูุจ ูุชุจููุจ Console ูุฑุคูุฉ ุงููุชุงุฆุฌ ุงููุงููุฉ ูุน ุงูุชูุตูุงุช ูุงูุชุญูููุงุช.');
            });

            document.getElementById('closeConsoleModal').addEventListener('click', function () {
                document.getElementById('consoleSettingsModal').classList.add('hidden');
                document.getElementById('consoleSettingsModal').classList.remove('flex');
            });

            // ุฒุฑ ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ
            const retakeBtn = document.getElementById('retakeBtn');
            if (retakeBtn) {
                retakeBtn.addEventListener('click', function () {
                    if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุฃูู ุชุฑูุฏ ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑุ ุณุชููุฏ ุงููุชุงุฆุฌ ุงูุญุงููุฉ.')) {
                        // ูุณุญ ุงูุจูุงูุงุช ุงููุญููุธุฉ
                        localStorage.removeItem('multipleIntelligenceAnswers');
                        localStorage.removeItem('multipleIntelligenceProgress');
                        localStorage.removeItem('multipleIntelligenceResults');
                        location.reload();
                    }
                });
            }
        }

        // ูุดุงุฑูุฉ ุงููุชุงุฆุฌ
        async function shareResults() {
            const resultsData = calculateResults();
            const scores = resultsData.scores;

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    name: intelligences[key].name
                }))
                .sort((a, b) => b.score - a.score);

            const topThree = sortedIntelligences.slice(0, 3);
            var data2 = new URLSearchParams();
            data2.append('data', JSON.stringify({ tops: topThree, time: Date.now() - startTime }));
            data2.append('type', 'stat.p3');
            data2.append('ob', '1');
            await fetch('saveExam', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
                },
                body: data2
            })
            var data = new URLSearchParams();
            data.append('data', JSON.stringify({ scores, questions, answers }));
            data.append('type', 'p3');
            data.append('ob', '1');
            fetch('saveExam', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
                },
                body: data
            }).catch(() => {
                alert("ุญุตูุช ูุดููุฉ ูู ุญูุธ ุงูุจูุงูุงุช ูุฏ ุชุถุทุฑ ุงูู ุงุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ")
            }).finally(() => {
                testScreen.classList.add('hidden');
                resultsScreen.classList.remove('hidden');
            })

        }

        // ุญูุธ ุงููุชุงุฆุฌ ูู ููู
        function saveResultsToFile() {
            const resultsData = calculateResults();
            const scores = resultsData.scores;

            // ุฅูุดุงุก ุจูุงูุงุช ุดุงููุฉ ููุญูุธ
            const fullResults = {
                userInfo: {
                    name: currentUser,
                    testDate: new Date().toISOString(),
                    completionTime: Math.round((Date.now() - startTime) / 1000 / 60) // ุจุงูุฏูุงุฆู
                },
                scores: scores,
                answers: answers,
                diagnostics: resultsData.diagnostics,
                recommendations: generateRecommendations(scores)
            };

            // ุญูุธ ูู ุงูุชุฎุฒูู ุงููุญูู ุฃูุถุงู
            // localStorage.setItem('multipleIntelligenceResults', JSON.stringify(fullResults));

            // ุชุญููู ูููู JSON
            const dataStr = JSON.stringify(fullResults, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);

            const link = document.createElement('a');
            link.href = url;
            link.download = `ูุชุงุฆุฌ_ุงูุฐูุงุกุงุช_ุงููุชุนุฏุฏุฉ_${new Date().getTime()}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            alert('ุชู ุญูุธ ุงููุชุงุฆุฌ ุจูุฌุงุญ! ููููู ุงุณุชูุฑุงุฏูุง ูุงุญูุงู.');
        }

        // ุฅูุดุงุก ุงูุชูุตูุงุช
        function generateRecommendations(scores) {
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    name: intelligences[key].name,
                    details: intelligenceDetails[key]
                }))
                .sort((a, b) => b.score - a.score);

            const topThree = sortedIntelligences.slice(0, 3);

            return {
                learningMethods: [...new Set(topThree.flatMap(intel => intel.details.learningMethods))].slice(0, 8),
                activities: [...new Set(topThree.flatMap(intel => intel.details.activities))].slice(0, 8),
                careers: [...new Set(topThree.flatMap(intel => intel.details.careers))].slice(0, 10)
            };
        }

        // ุฅูุดุงุก ุชูุฑูุฑ PDF
        function generatePDFReport() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // ุฅุนุฏุงุฏ ุงูุฎุท ุงูุนุฑุจู
            doc.setFont('helvetica');
            doc.setFontSize(16);

            // ุงูุนููุงู
            doc.text('ุชูุฑูุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ', 105, 20, { align: 'center' });
            doc.setFontSize(12);
            doc.text(`ุงุณู ุงููุณุชุฎุฏู: ${currentUser}`, 20, 40);
            doc.text(`ุชุงุฑูุฎ ุงูุงุฎุชุจุงุฑ: ${new Date().toLocaleDateString('ar-SA')}`, 20, 50);

            // ุญุณุงุจ ุงููุชุงุฆุฌ
            const resultsData = calculateResults();
            const scores = resultsData.scores;

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    name: intelligences[key].name
                }))
                .sort((a, b) => b.score - a.score);

            // ุฃุนูู 3 ุฐูุงุกุงุช
            doc.setFontSize(14);
            doc.text('ุฃุนูู 3 ุฐูุงุกุงุช:', 20, 70);
            doc.setFontSize(12);

            let yPos = 85;
            sortedIntelligences.slice(0, 3).forEach((intel, index) => {
                doc.text(`${index + 1}. ${intel.name}: ${intel.score}%`, 25, yPos);
                yPos += 10;
            });

            // ุฌููุน ุงููุชุงุฆุฌ
            doc.setFontSize(14);
            doc.text('ุฌููุน ุงููุชุงุฆุฌ:', 20, yPos + 15);
            doc.setFontSize(10);
            yPos += 30;

            sortedIntelligences.forEach((intel) => {
                if (yPos > 270) {
                    doc.addPage();
                    yPos = 20;
                }
                doc.text(`${intel.name}: ${intel.score}%`, 25, yPos);
                yPos += 8;
            });

            // ุงูุชูุตูุงุช
            if (yPos > 200) {
                doc.addPage();
                yPos = 20;
            }

            doc.setFontSize(14);
            doc.text('ุงูุชูุตูุงุช:', 20, yPos + 15);
            doc.setFontSize(10);
            yPos += 30;

            const topIntel = sortedIntelligences[0];
            const recommendations = intelligenceDetails[topIntel.type].learningMethods.slice(0, 5);

            recommendations.forEach((rec) => {
                if (yPos > 270) {
                    doc.addPage();
                    yPos = 20;
                }
                const lines = doc.splitTextToSize(`โข ${rec}`, 170);
                doc.text(lines, 25, yPos);
                yPos += lines.length * 5 + 3;
            });

            // ุญูุธ ุงูููู
            doc.save(`ุชูุฑูุฑ_ุงูุฐูุงุกุงุช_ุงููุชุนุฏุฏุฉ_${new Date().getTime()}.pdf`);
        }

        // ุชุตุฏูุฑ ุงูุจูุงูุงุช ุฅูู CSV
        function exportDataToCSV() {
            const resultsData = calculateResults();
            const scores = resultsData.scores;

            // ุฅูุดุงุก ุจูุงูุงุช CSV
            let csvContent = "ููุน ุงูุฐูุงุก,ุงููุณุจุฉ ุงููุฆููุฉ,ุงููุตู\n";

            Object.keys(intelligences).forEach(type => {
                const intel = intelligences[type];
                const score = scores[type];
                csvContent += `"${intel.name}","${score}%","${intelligenceDetails[type].description.substring(0, 100)}..."\n`;
            });

            // ุฅุถุงูุฉ ููุฎุต ุงูุฅุฌุงุจุงุช
            csvContent += "\n\nููุฎุต ุงูุฅุฌุงุจุงุช:\n";
            csvContent += "ุฑูู ุงูุณุคุงู,ููุน ุงูุณุคุงู,ุงูุฅุฌุงุจุฉ\n";

            questions.forEach((question, index) => {
                const answer = answers[index];
                let answerText = 'ูู ูุชู ุงูุฅุฌุงุจุฉ';

                if (answer !== undefined) {
                    if (Array.isArray(answer)) {
                        answerText = answer.join(', ');
                    } else {
                        answerText = answer.toString();
                    }
                }

                csvContent += `"${index + 1}","${question.questionType}","${answerText}"\n`;
            });

            // ุชุญููู ุงูููู
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `ุจูุงูุงุช_ุงูุฐูุงุกุงุช_ุงููุชุนุฏุฏุฉ_${new Date().getTime()}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // ุทุจุงุนุฉ ุงูุฃุฌูุจุฉ ุงูุชูุตูููุฉ
        function printAnswers() {
            // ุฅูุดุงุก ูุงูุฐุฉ ุทุจุงุนุฉ ููุฃุฌูุจุฉ
            const printWindow = window.open('', '_blank');

            // ุชุฌููุน ุงูุฃุฌูุจุฉ ุญุณุจ ููุน ุงูุฐูุงุก
            const answersByIntelligence = {};
            Object.keys(intelligences).forEach(type => {
                answersByIntelligence[type] = [];
            });

            // ุชุตููู ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ
            questions.forEach((question, index) => {
                const answer = answers[index];
                let answerText = 'ูู ูุชู ุงูุฅุฌุงุจุฉ';
                let answerDetails = '';

                if (answer !== undefined && answer !== null) {
                    switch (question.questionType) {
                        case 'single':
                            if (typeof answer === 'number' && answer >= 0 && answer < question.options.length) {
                                answerText = question.options[answer].text;
                                answerDetails = `ุงูุฎูุงุฑ ${answer + 1}`;
                            }
                            break;

                        case 'multiple':
                            if (Array.isArray(answer) && answer.length > 0) {
                                const selectedOptions = answer.map(optIndex => {
                                    if (optIndex >= 0 && optIndex < question.options.length) {
                                        return question.options[optIndex].text;
                                    }
                                    return 'ุฎูุงุฑ ุบูุฑ ุตุญูุญ';
                                }).filter(opt => opt !== 'ุฎูุงุฑ ุบูุฑ ุตุญูุญ');

                                answerText = selectedOptions.join(' โข ');
                                answerDetails = `ุชู ุงุฎุชูุงุฑ ${selectedOptions.length} ูู ${question.options.length} ุฎูุงุฑุงุช`;
                            }
                            break;

                        case 'ranking':
                            if (Array.isArray(answer) && answer.length === 4) {
                                const rankedItems = answer.map((optIndex, rank) => {
                                    if (optIndex >= 0 && optIndex < question.options.length) {
                                        return `${rank + 1}. ${question.options[optIndex].text}`;
                                    }
                                    return `${rank + 1}. ุฎูุงุฑ ุบูุฑ ุตุญูุญ`;
                                });
                                answerText = rankedItems.join(' | ');
                                answerDetails = 'ุชุฑุชูุจ ูู ุงูุฃูุซุฑ ุชูุถููุงู ููุฃูู';
                            }
                            break;

                        case 'rating':
                            if (Array.isArray(answer) && answer.length > 0) {
                                const ratings = answer.map((rating, index) => {
                                    if (index < question.statements.length) {
                                        const stars = 'โ'.repeat(rating) + 'โ'.repeat(5 - rating);
                                        return `${question.statements[index].text}: ${stars} (${rating}/5)`;
                                    }
                                    return '';
                                }).filter(r => r !== '');

                                answerText = ratings.join(' | ');
                                answerDetails = `ุชูููู ${ratings.length} ุนุจุงุฑุงุช`;
                            }
                            break;
                    }
                }

                answersByIntelligence[question.type].push({
                    questionNumber: index + 1,
                    question: question.question,
                    questionType: question.questionType,
                    answer: answerText,
                    details: answerDetails,
                    isAnswered: answer !== undefined && answer !== null
                });
            });

            // ุญุณุงุจ ุฅุญุตุงุฆูุงุช ุงูุฅุฌุงุจุงุช
            const totalQuestions = questions.length;
            const answeredQuestions = Object.keys(answers).length;
            const completionRate = Math.round((answeredQuestions / totalQuestions) * 100);

            // ุฅูุดุงุก ูุญุชูู ุงูุทุจุงุนุฉ
            printWindow.document.write(`
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <title>ุชูุงุตูู ุงูุฃุฌูุจุฉ - ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            margin: 20px; 
                            line-height: 1.6; 
                            font-size: 12px;
                        }
                        .header { 
                            text-align: center; 
                            border-bottom: 3px solid #4f46e5; 
                            padding-bottom: 20px; 
                            margin-bottom: 30px; 
                            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
                            padding: 20px;
                            border-radius: 10px;
                        }
                        .stats {
                            background-color: #f8fafc;
                            padding: 15px;
                            border-radius: 8px;
                            margin-bottom: 25px;
                            border-left: 4px solid #10b981;
                        }
                        .intelligence-section {
                            margin-bottom: 30px;
                            page-break-inside: avoid;
                        }
                        .intelligence-header {
                            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
                            color: white;
                            padding: 12px 20px;
                            border-radius: 8px;
                            margin-bottom: 15px;
                            font-weight: bold;
                            font-size: 14px;
                        }
                        .question-item {
                            margin: 12px 0;
                            padding: 15px;
                            border: 1px solid #e5e7eb;
                            border-radius: 8px;
                            background-color: #fafafa;
                            page-break-inside: avoid;
                        }
                        .question-item.answered {
                            border-left: 4px solid #10b981;
                            background-color: #f0fdf4;
                        }
                        .question-item.unanswered {
                            border-left: 4px solid #ef4444;
                            background-color: #fef2f2;
                        }
                        .question-number {
                            font-weight: bold;
                            color: #4f46e5;
                            font-size: 13px;
                        }
                        .question-text {
                            font-weight: 600;
                            margin: 8px 0;
                            color: #374151;
                        }
                        .question-type {
                            font-size: 10px;
                            background-color: #e5e7eb;
                            padding: 2px 8px;
                            border-radius: 12px;
                            color: #6b7280;
                            display: inline-block;
                            margin-bottom: 8px;
                        }
                        .answer-text {
                            background-color: white;
                            padding: 10px;
                            border-radius: 6px;
                            border: 1px solid #d1d5db;
                            margin-top: 8px;
                        }
                        .answer-details {
                            font-size: 10px;
                            color: #6b7280;
                            font-style: italic;
                            margin-top: 5px;
                        }
                        .unanswered-text {
                            color: #dc2626;
                            font-style: italic;
                        }
                        .page-break {
                            page-break-before: always;
                        }
                        .summary-box {
                            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
                            border: 2px solid #f59e0b;
                            padding: 15px;
                            border-radius: 10px;
                            margin: 20px 0;
                        }
                        @media print { 
                            body { margin: 0; font-size: 11px; }
                            .page-break { page-break-before: always; }
                        }
                        .type-stats {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            background-color: rgba(255,255,255,0.3);
                            padding: 8px 12px;
                            border-radius: 6px;
                            margin-top: 8px;
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>๐ ุชูุงุตูู ุงูุฃุฌูุจุฉ - ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</h1>
                        <p><strong>ุงุณู ุงููุณุชุฎุฏู:</strong> ${currentUser}</p>
                        <p><strong>ุชุงุฑูุฎ ุงูุงุฎุชุจุงุฑ:</strong> ${new Date().toLocaleDateString('ar-SA')}</p>
                        <p><strong>ููุช ุงูุทุจุงุนุฉ:</strong> ${new Date().toLocaleString('ar-SA')}</p>
                    </div>
                    
                    <div class="stats">
                        <h2>๐ ุฅุญุตุงุฆูุงุช ุงูุฅุฌุงุจุงุช:</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 10px;">
                            <div><strong>ุฅุฌูุงูู ุงูุฃุณุฆูุฉ:</strong> ${totalQuestions} ุณุคุงู</div>
                            <div><strong>ุงูุฃุณุฆูุฉ ุงููุฌุงุจุฉ:</strong> ${answeredQuestions} ุณุคุงู</div>
                            <div><strong>ุงูุฃุณุฆูุฉ ุบูุฑ ุงููุฌุงุจุฉ:</strong> ${totalQuestions - answeredQuestions} ุณุคุงู</div>
                            <div><strong>ูุณุจุฉ ุงูุฅููุงู:</strong> ${completionRate}%</div>
                        </div>
                    </div>
                    
                    ${Object.keys(intelligences).map(type => {
                const intel = intelligences[type];
                const questionsOfType = answersByIntelligence[type];
                const answeredOfType = questionsOfType.filter(q => q.isAnswered).length;
                const typeCompletionRate = questionsOfType.length > 0 ?
                    Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

                return `
                            <div class="intelligence-section">
                                <div class="intelligence-header">
                                    ${intel.icon} ${intel.name}
                                    <div class="type-stats">
                                        <span>ุงูุฃุณุฆูุฉ: ${questionsOfType.length}</span>
                                        <span>ุงููุฌุงุจุฉ: ${answeredOfType}</span>
                                        <span>ุงููุณุจุฉ: ${typeCompletionRate}%</span>
                                    </div>
                                </div>
                                
                                ${questionsOfType.map(item => `
                                    <div class="question-item ${item.isAnswered ? 'answered' : 'unanswered'}">
                                        <div class="question-number">ุงูุณุคุงู ุฑูู ${item.questionNumber}</div>
                                        <div class="question-type">
                                            ${item.questionType === 'single' ? 'ุงุฎุชูุงุฑ ูุงุญุฏ' :
                        item.questionType === 'multiple' ? 'ุงุฎุชูุงุฑ ูุชุนุฏุฏ' :
                            item.questionType === 'ranking' ? 'ุชุฑุชูุจ' :
                                item.questionType === 'rating' ? 'ุชูููู ุจุงููุฌูู' : item.questionType}
                                        </div>
                                        <div class="question-text">${item.question}</div>
                                        <div class="answer-text ${!item.isAnswered ? 'unanswered-text' : ''}">
                                            <strong>ุงูุฅุฌุงุจุฉ:</strong> ${item.answer}
                                        </div>
                                        ${item.details ? `<div class="answer-details">${item.details}</div>` : ''}
                                    </div>
                                `).join('')}
                            </div>
                        `;
            }).join('')}
                    
                    <div class="summary-box page-break">
                        <h2>๐ ููุฎุต ุงูุฃุฌูุจุฉ:</h2>
                        <p><strong>ุชู ุฅููุงู ${completionRate}% ูู ุงูุงุฎุชุจุงุฑ</strong></p>
                        ${answeredQuestions < totalQuestions ? `
                            <p style="color: #dc2626;">
                                <strong>ุชูุจูู:</strong> ูู ูุชู ุงูุฅุฌุงุจุฉ ุนูู ${totalQuestions - answeredQuestions} ุฃุณุฆูุฉ. 
                                ููุญุตูู ุนูู ูุชุงุฆุฌ ุฃูุซุฑ ุฏูุฉุ ูููุตุญ ุจุฅููุงู ุฌููุน ุงูุฃุณุฆูุฉ.
                            </p>
                        ` : `
                            <p style="color: #059669;">
                                <strong>ููุชุงุฒ!</strong> ุชู ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ. ุงููุชุงุฆุฌ ุณุชููู ุฏูููุฉ ูุดุงููุฉ.
                            </p>
                        `}
                        
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #d1d5db;">
                            <h3>ุชูุฒูุน ุงูุฃุฌูุจุฉ ุญุณุจ ููุน ุงูุฐูุงุก:</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px; margin-top: 10px;">
                                ${Object.keys(intelligences).map(type => {
                const intel = intelligences[type];
                const questionsOfType = answersByIntelligence[type];
                const answeredOfType = questionsOfType.filter(q => q.isAnswered).length;
                const typeRate = questionsOfType.length > 0 ?
                    Math.round((answeredOfType / questionsOfType.length) * 100) : 0;

                return `
                                        <div style="background: white; padding: 8px; border-radius: 6px; border: 1px solid #e5e7eb;">
                                            <strong>${intel.icon} ${intel.name}:</strong><br>
                                            ${answeredOfType}/${questionsOfType.length} (${typeRate}%)
                                        </div>
                                    `;
            }).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; font-size: 10px; color: #6b7280; border-top: 1px solid #e5e7eb; padding-top: 20px;">
                        <p>ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ุจูุงุณุทุฉ ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</p>
                        <p>ุชุงุฑูุฎ ุงูุทุจุงุนุฉ: ${new Date().toLocaleString('ar-SA')}</p>
                        <p>ูุฐุง ุงูุชูุฑูุฑ ูุญุชูู ุนูู ุฌููุน ุฅุฌุงุจุงุชู ุงูุชูุตูููุฉ ููู ุณุคุงู ูู ุงูุงุฎุชุจุงุฑ</p>
                    </div>
                </body>
                </html>
            `);

            printWindow.document.close();
            printWindow.focus();

            // ุงูุชุธุงุฑ ุชุญููู ุงููุญุชูู ุซู ุทุจุงุนุฉ
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 1000);
        }

        // ุทุจุงุนุฉ ุงููุชุงุฆุฌ
        function printResults() {
            const resultsData = calculateResults();
            const scores = resultsData.scores;

            // ุชุฑุชูุจ ุงูุฐูุงุกุงุช
            const sortedIntelligences = Object.keys(scores)
                .map(key => ({
                    type: key,
                    score: scores[key],
                    name: intelligences[key].name,
                    icon: intelligences[key].icon
                }))
                .sort((a, b) => b.score - a.score);

            // ุฅูุดุงุก ูุงูุฐุฉ ุทุจุงุนุฉ
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <title>ุชูุฑูุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
                        .intelligence-item { margin: 15px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
                        .score { font-weight: bold; color: #2563eb; }
                        .top-three { background-color: #f0f9ff; }
                        .recommendations { margin-top: 30px; padding: 20px; background-color: #f9fafb; border-radius: 5px; }
                        @media print { body { margin: 0; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>๐ง ุชูุฑูุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</h1>
                        <p><strong>ุงุณู ุงููุณุชุฎุฏู:</strong> ${currentUser}</p>
                        <p><strong>ุชุงุฑูุฎ ุงูุงุฎุชุจุงุฑ:</strong> ${new Date().toLocaleDateString('ar-SA')}</p>
                        <p><strong>ููุช ุงูุงุฎุชุจุงุฑ:</strong> ${new Date().toLocaleTimeString('ar-SA')}</p>
                    </div>
                    
                    <h2>๐ ุงููุชุงุฆุฌ ูุฑุชุจุฉ ุญุณุจ ุงูููุฉ:</h2>
                    ${sortedIntelligences.map((intel, index) => `
                        <div class="intelligence-item ${index < 3 ? 'top-three' : ''}">
                            <h3>${intel.icon} ${intel.name}</h3>
                            <p class="score">ุงููุณุจุฉ: ${intel.score}%</p>
                            ${index < 3 ? '<p><em>โญ ูู ุฃููู ุฐูุงุกุงุชู</em></p>' : ''}
                        </div>
                    `).join('')}
                    
                    <div class="recommendations">
                        <h2>๐ก ุชูุตูุงุช ููุชุทููุฑ:</h2>
                        <h3>๐ ุงุณุชุซูุฑ ููุงุท ููุชู:</h3>
                        <ul>
                            ${sortedIntelligences.slice(0, 3).map(intel => `
                                <li><strong>${intel.name}:</strong> ุฑูุฒ ุนูู ุงูุฃูุดุทุฉ ุงูููุงุณุจุฉ ููุฐุง ุงูููุน ูู ุงูุฐูุงุก</li>
                            `).join('')}
                        </ul>
                        
                        <h3>๐ ุทูุฑ ููุงุท ุงูุถุนู:</h3>
                        <ul>
                            ${sortedIntelligences.slice(-2).map(intel => `
                                <li><strong>${intel.name}:</strong> ูุงุฑุณ ุงูุฃูุดุทุฉ ุงูุชู ุชููู ูุฐุง ุงูููุน ูู ุงูุฐูุงุก</li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div style="margin-top: 40px; text-align: center; font-size: 12px; color: #666;">
                        <p>ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ุจูุงุณุทุฉ ุงุฎุชุจุงุฑ ุงูุฐูุงุกุงุช ุงููุชุนุฏุฏุฉ</p>
                        <p>ูููุฒูุฏ ูู ุงููุนูููุงุช ูุงูุชูุตูุงุช ุงูููุตูุฉุ ุฑุงุฌุน ุงููุชุงุฆุฌ ุงููุงููุฉ ุนูู ุงููููุน</p>
                    </div>
                </body>
                </html>
            `);

            printWindow.document.close();
            printWindow.focus();

            // ุงูุชุธุงุฑ ุชุญููู ุงููุญุชูู ุซู ุทุจุงุนุฉ
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 500);
        }

        // ุฒุฑ ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ
        const retakeBtn = document.getElementById('retakeBtn');
        if (retakeBtn) {
            retakeBtn.addEventListener('click', function () {
                location.reload();
            });
        }

        // ุชููุฆุฉ ุงูุฃุญุฏุงุซ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', function () {
            setupActionButtons();

            // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ููุฃุฒุฑุงุฑ ุงูุฌุฏูุฏุฉ
            const exportBtn = document.getElementById('exportDataBtn');
            if (exportBtn) {
                exportBtn.addEventListener('click', exportDataToCSV);
            }

            const printBtn = document.getElementById('printResultsBtn');
            if (printBtn) {
                printBtn.addEventListener('click', printResults);
            }
        });
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'98d3ecb7e77b58e9',t:'MTc2MDI0NDA4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>