<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"Ù…Ù‚ÙŠØ§Ø³ Ø¨ØµÙŠØ±Ø©"</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');

        * {
            font-family: 'Cairo', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .input-focus:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn-loading {
            background: linear-gradient(-45deg, #667eea, #764ba2, #667eea, #764ba2);
            background-size: 400% 400%;
            animation: gradient 2s ease infinite;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .error-message {
            animation: shake 0.5s ease-in-out;
        }

        #cont {
            padding-top: 0;

        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }
    </style>
</head>

<body class="gradient-bg min-h-screen flex items-center justify-center p-4">
    <div id="cont" class="bg-white rounded-2xl card-shadow w-full max-w-md p-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <!-- <h1 class="text-2xl font-bold text-red-800 mb-4"> "Ù…Ù‚ÙŠØ§Ø³ Ø¨ØµÙŠØ±Ø©" </h1> -->
            <img style="width: 166px;margin-inline: auto;margin-bottom: 0;" src="logo.svg" alt="" srcset="">
            <h1 class="text-3xl font-bold text-gray-800 mb-4">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
            <div class="bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg p-4 text-right">
                <p class="text-gray-700 text-sm leading-relaxed">
                    Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø±Ø­Ù„ØªÙƒ Ù„Ø§ÙƒØªØ´Ø§Ù Ù†ÙØ³Ùƒ!<br>
                    ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø³ØªØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù…ÙŠÙˆÙ„Ùƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© (RIASEC) Ùˆ Ù†Ù…Ø· Ø´Ø®ØµÙŠØªÙƒ (MBTI) ÙˆØ§Ø®ØªØ¨Ø§Ø± ( Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© )
                    Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
                    Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ùƒ âœ¨
                </p>
            </div>
        </div>

        <!-- Login Form -->
        <form id="loginForm" class="space-y-6">
            <!-- Username Field -->
            <div>
                <label for="username" class="block text-sm font-medium text-gray-700 mb-2">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                <input type="text" id="username" name="username"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200 text-right"
                    placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©" required>
                <div id="usernameError" class="text-red-500 text-sm mt-1 hidden error-message"></div>
            </div>

            <!-- Password Field -->
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700 mb-2">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                <div class="relative">
                    <input type="password" id="password" name="password"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg input-focus transition-all duration-200 text-right pr-12"
                        placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
                    <button type="button" id="togglePassword"
                        class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors">
                        ğŸ‘ï¸
                    </button>
                </div>
                <div id="passwordError" class="text-red-500 text-sm mt-1 hidden error-message"></div>
            </div>

            <!-- Remember Me -->
            <div class="flex items-center justify-between">
                <label class="flex items-center">
                    <input type="checkbox" id="rememberMe"
                        class="ml-2 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                    <span class="text-sm text-gray-700">ØªØ°ÙƒÙ‘Ø±Ù†ÙŠ</span>
                </label>
                <a href="#" id="forgotPassword"
                    class="text-sm text-purple-600 hover:text-purple-800 transition-colors">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a>
            </div>

            <!-- Login Button -->
            <button type="submit" id="loginBtn"
                class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                <span id="loginBtnText">Ø¯Ø®ÙˆÙ„</span>
            </button>

            <!-- Sign Up Link -->
            <div class="text-center">
                <p class="text-sm text-gray-600">
                    Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ
                    <a href="https://wa.me/966581334216" id="signUpLink"
                        class="text-purple-600 hover:text-purple-800 font-medium transition-colors">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø±
                        Ø§Ù„ÙˆØ§ØªØ³ Ø£Ø¨</a>
                </p>
            </div>
        </form>
    </div>

    <script>
        // Password toggle functionality
        const togglePassword = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');

        togglePassword.addEventListener('click', function () {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        });

        // Form validation and submission
        const loginForm = document.getElementById('loginForm');
        const loginBtn = document.getElementById('loginBtn');
        const loginBtnText = document.getElementById('loginBtnText');
        const usernameInput = document.getElementById('username');
        const usernameError = document.getElementById('usernameError');
        const passwordError = document.getElementById('passwordError');

        function showError(element, message) {
            element.textContent = message;
            element.classList.remove('hidden');
            element.parentElement.querySelector('input').classList.add('border-red-500');
        }

        function hideError(element) {
            element.classList.add('hidden');
            element.parentElement.querySelector('input').classList.remove('border-red-500');
        }

        function validateForm() {
            let isValid = true;

            // Reset errors
            hideError(usernameError);
            hideError(passwordError);

            // Validate username
            if (usernameInput.value.trim() === '') {
                showError(usernameError, 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
                isValid = false;
            } else if (usernameInput.value.trim().length < 3) {
                showError(usernameError, 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                isValid = false;
            }

            // Validate password
            if (passwordInput.value === '') {
                showError(passwordError, 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                isValid = false;
            } else if (passwordInput.value.length < 3) {
                showError(passwordError, 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                isValid = false;
            }

            return isValid;
        }

        loginForm.addEventListener('submit', function (e) {
            e.preventDefault();

            if (!validateForm()) {
                return;
            }

            // Show loading state
            loginBtn.disabled = true;
            loginBtn.classList.add('btn-loading');
            loginBtnText.textContent = 'Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚...';


            // Simulate successful login
            loginBtnText.textContent = 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! âœ“';
            let pass = passwordInput.value.trim();
            if (pass.length == 10 && pass.startsWith("0")) {
                pass = pass.slice(1, 10)
            } else if (pass.length == 12 && pass.startsWith("966")) {
                pass = pass.slice(3, 12)
            }
            var data = new URLSearchParams();
            data.append('user', usernameInput.value);
            data.append("pass", pass);
            fetch("login", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
                },
                body: data
            })
                .then((response) => {
                    return response.text()
                })
                .then((data) => {
                    if (data == "exist") {
                        location.href = "/welcome"
                    } else if (data == "admin") {
                        location.href = "/admin"
                    }
                    else {
                        loginBtn.disabled = false;
                        loginBtn.classList.remove('btn-loading');
                        loginBtnText.textContent = 'Ø¯Ø®ÙˆÙ„';
                        alert("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯")
                    }
                })
        });

        // Real-time validation
        usernameInput.addEventListener('input', function () {
            if (this.value.trim() !== '') {
                hideError(usernameError);
            }
        });

        passwordInput.addEventListener('input', function () {
            if (this.value !== '') {
                hideError(passwordError);
            }
        });

        // Handle forgot password
        document.getElementById('forgotPassword').addEventListener('click', function (e) {
            e.preventDefault();
            window.open("https://wa.me/966581334216?text=Ø§ÙˆØ§Ø¬Ù‡ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
        });
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'97faf593830dea75',t:'MTc1Nzk2OTAzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>