<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÖ ÿ™ŸÖ ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ ÿ®ŸÜÿ¨ÿßÿ≠ - Achievement Unlocked</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Cairo', sans-serif;
            background:
                linear-gradient(135deg, #0f172a 0%, #1e293b 15%, #1e40af 30%, #3b82f6 45%, #60a5fa 60%, #93c5fd 75%, #dbeafe 90%, #f0f9ff 100%);
            background-size: 400% 400%;
            animation: gradientShift 12s ease infinite;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Wave Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse at 25% 25%, rgba(59, 130, 246, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 75% 75%, rgba(96, 165, 250, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 10%, rgba(147, 197, 253, 0.5) 0%, transparent 40%),
                radial-gradient(ellipse at 10% 90%, rgba(30, 58, 138, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 90% 10%, rgba(219, 234, 254, 0.3) 0%, transparent 40%);
            animation: floatingBubbles 15s ease-in-out infinite;
            pointer-events: none;
            z-index: -3;
        }

        /* Geometric Patterns */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 15% 40%, rgba(255, 215, 0, 0.1) 0%, transparent 30%),
                radial-gradient(circle at 85% 60%, rgba(192, 192, 192, 0.1) 0%, transparent 30%),
                radial-gradient(circle at 40% 80%, rgba(59, 130, 246, 0.2) 0%, transparent 35%),
                radial-gradient(circle at 70% 20%, rgba(147, 197, 253, 0.15) 0%, transparent 40%);
            animation: floatingBubbles 18s ease-in-out infinite reverse;
            pointer-events: none;
            z-index: -2;
        }

        /* Floating Particles Layer */
        .particles-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(59, 130, 246, 0.4) 100%);
            border-radius: 50%;
            animation: floatParticle 20s linear infinite;
        }

        .particle:nth-child(odd) {
            background: radial-gradient(circle, rgba(255, 215, 0, 0.6) 0%, rgba(147, 197, 253, 0.3) 100%);
            animation-duration: 25s;
        }

        .particle:nth-child(3n) {
            background: radial-gradient(circle, rgba(192, 192, 192, 0.7) 0%, rgba(96, 165, 250, 0.4) 100%);
            animation-duration: 30s;
        }

        /* Geometric Shapes */
        .geometric-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: rotateShape 20s linear infinite;
        }

        .shape-1 {
            top: 10%;
            left: 10%;
            width: 100px;
            height: 100px;
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            animation-duration: 25s;
        }

        .shape-2 {
            top: 60%;
            right: 15%;
            width: 80px;
            height: 80px;
            border: 2px solid rgba(255, 215, 0, 0.4);
            transform: rotate(45deg);
            animation-duration: 30s;
            animation-direction: reverse;
        }

        .shape-3 {
            bottom: 20%;
            left: 20%;
            width: 0;
            height: 0;
            border-left: 40px solid transparent;
            border-right: 40px solid transparent;
            border-bottom: 70px solid rgba(147, 197, 253, 0.2);
            animation-duration: 35s;
        }

        /* Pulsing Light Effects */
        .light-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .light-pulse {
            position: absolute;
            border-radius: 50%;
            animation: pulseLight 8s ease-in-out infinite;
        }

        .light-1 {
            top: 20%;
            left: 80%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);
            animation-delay: 0s;
        }

        .light-2 {
            bottom: 30%;
            left: 10%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.08) 0%, transparent 70%);
            animation-delay: 2s;
        }

        .light-3 {
            top: 50%;
            right: 20%;
            width: 180px;
            height: 180px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.12) 0%, transparent 70%);
            animation-delay: 4s;
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            25% {
                background-position: 100% 25%;
            }

            50% {
                background-position: 100% 75%;
            }

            75% {
                background-position: 0% 75%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes floatingBubbles {

            0%,
            100% {
                transform: translateX(0px) translateY(0px) scale(1) rotate(0deg);
                opacity: 0.7;
            }

            25% {
                transform: translateX(30px) translateY(-40px) scale(1.2) rotate(90deg);
                opacity: 0.9;
            }

            50% {
                transform: translateX(-25px) translateY(-30px) scale(0.8) rotate(180deg);
                opacity: 0.8;
            }

            75% {
                transform: translateX(35px) translateY(20px) scale(1.1) rotate(270deg);
                opacity: 0.85;
            }
        }

        @keyframes floatParticle {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes rotateShape {
            0% {
                transform: rotate(0deg) scale(1);
                opacity: 0.1;
            }

            50% {
                transform: rotate(180deg) scale(1.2);
                opacity: 0.2;
            }

            100% {
                transform: rotate(360deg) scale(1);
                opacity: 0.1;
            }
        }

        @keyframes pulseLight {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.1;
            }

            50% {
                transform: scale(1.3);
                opacity: 0.3;
            }
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {

            0%,
            100% {
                opacity: 0;
                transform: scale(0);
            }

            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .fade-in {
            animation: fadeIn 1.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .bounce-in {
            animation: bounceIn 1s ease-out;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }

            50% {
                transform: scale(1.05);
            }

            70% {
                transform: scale(0.9);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .achievement-badge {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
    </style>
    <style>
        .whatsapp-float {
            position: fixed;
            inset-inline-end: 20px;
            /* ŸäŸÖŸäŸÜ */
            inset-block-end: 20px;
            /* ÿ™ÿ≠ÿ™ */
            width: 60px;
            height: 60px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 6px 18px rgba(0, 0, 0, .2);
            z-index: 9999;
            transition: .2s transform, .2s box-shadow;
        }

        .whatsapp-float:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 24px rgba(0, 0, 0, .3);
        }
    </style>
</head>

<body class="overflow-x-hidden">
    <a class="whatsapp-float" href="https://wa.me/966581334216?text=ŸÑŸÇÿØ ÿßŸÜŸáŸäÿ™ ÿ¨ŸÖŸäÿπ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™" target="_blank"
        rel="noopener" aria-label="ÿ™ŸàÿßÿµŸÑ Ÿàÿßÿ™ÿ≥ÿßÿ®">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="28" height="28" fill="white">
            <path
                d="M16 .5c-8.7 0-15.7 6.7-15.7 15 0 2.6.7 5.1 2 7.4L.5 31.5l9.4-2.9c2.2 1.2 4.7 1.8 7.2 1.8 8.7 0 15.7-6.7 15.7-15S24.7.5 16 .5zm0 27.4c-2.2 0-4.3-.6-6.2-1.7l-.4-.2-5.6 1.7 1.7-5.4-.3-.4c-1.3-2-2-4.4-2-6.8 0-7 5.9-12.7 13.2-12.7S29.2 8 29.2 15c0 7-5.9 12.7-13.2 12.7z" />
            <path
                d="M23 19.2c-.4-.2-2.5-1.2-2.9-1.4s-.7-.2-1 .2c-.3.4-1.1 1.4-1.4 1.7s-.5.3-.9.1c-.4-.2-1.6-.6-3-1.9-1.1-1-1.8-2.2-2-2.5s0-.6.2-.8c.2-.2.4-.5.6-.7.2-.2.3-.4.5-.7.2-.3.1-.6 0-.8s-1-2.4-1.4-3.3c-.4-.9-.7-.8-1-.8h-.8c-.3 0-.8.1-1.2.6-.4.5-1.6 1.6-1.6 3.9s1.6 4.5 1.8 4.8c.2.3 3.2 5 7.8 6.8.9.4 1.6.6 2.2.8.9.3 1.7.2 2.3.1.7-.1 2.5-1 2.9-1.9.4-.9.4-1.7.3-1.9-.1-.2-.3-.3-.7-.5z" />
        </svg>
    </a>

    <!-- Advanced Background Effects -->
    <div class="particles-layer" id="particles"></div>
    <div class="geometric-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>
    <div class="light-effects">
        <div class="light-pulse light-1"></div>
        <div class="light-pulse light-2"></div>
        <div class="light-pulse light-3"></div>
    </div>

    <!-- Sparkle Effects -->
    <div id="sparkles"></div>

    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header Section -->
        <div class="text-center mb-12 fade-in">
            <div
                class="achievement-badge inline-flex items-center px-6 py-3 rounded-full text-purple-900 font-bold text-lg mb-4 bounce-in">
                üèÖ ÿ™ŸÖ ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ ÿ®ŸÜÿ¨ÿßÿ≠ - Achievement Unlocked üèÖ
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
                ŸÖÿ®ÿ±ŸàŸÉ! <%=user.name%> ŸÑŸÇÿØ ÿ£ŸÜŸáŸäÿ™ ÿ¨ŸÖŸäÿπ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ŸÉ ÿßŸÑÿ´ŸÑÿßÿ´ ÿ®ŸÜÿ¨ÿßÿ≠
            </h1>
        </div>

        <!-- Tests Completed Cards -->
        <div class="testCards grid md:grid-cols-3 gap-8 mb-12 fade-in">
            <!-- RIASEC Test -->
            <div id="p1"
                class="group relative bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-105 border border-blue-200 overflow-hidden">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-10">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <defs>
                            <pattern id="riasec-pattern" x="0" y="0" width="20" height="20"
                                patternUnits="userSpaceOnUse">
                                <circle cx="10" cy="10" r="2" fill="currentColor" />
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#riasec-pattern)" class="text-blue-400" />
                    </svg>
                </div>

                <div class="relative text-center">
                    <div
                        class="bg-blue-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:rotate-12 transition-transform duration-300">
                        <span class="text-3xl">üéØ</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">ÿßŸÑŸÖŸäŸàŸÑ ÿßŸÑŸÖŸáŸÜŸäÿ©</h3>
                    <p class="text-xl font-bold text-blue-600 mb-4 tracking-wide">RIASEC</p>
                    <div
                        class="bg-gradient-to-r from-green-400 to-green-500 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg">
                        ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
                    </div>
                    <div class="mt-4 text-sm text-gray-600">
                        <span class="bg-blue-100 px-3 py-1 rounded-full">ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑŸÖŸäŸàŸÑ ÿßŸÑŸÖŸáŸÜŸäÿ©</span>
                    </div>
                </div>

                <!-- Hover Effect Glow -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 opacity-0 group-hover:opacity-10 rounded-2xl transition-opacity duration-300">
                </div>
            </div>

            <!-- MBTI Test -->
            <div id="p2"
                class="group relative bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-105 border border-purple-200 overflow-hidden">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-10">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <defs>
                            <pattern id="mbti-pattern" x="0" y="0" width="15" height="15" patternUnits="userSpaceOnUse">
                                <rect x="5" y="5" width="5" height="5" fill="currentColor" />
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#mbti-pattern)" class="text-purple-400" />
                    </svg>
                </div>

                <div class="relative text-center">
                    <div
                        class="bg-purple-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:rotate-12 transition-transform duration-300">
                        <span class="text-3xl">üß†</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ¥ÿÆÿµŸäÿ©</h3>
                    <p class="text-xl font-bold text-purple-600 mb-4 tracking-wide">MBTI</p>
                    <div
                        class="bg-gradient-to-r from-green-400 to-green-500 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg">
                        ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
                    </div>
                    <div class="mt-4 text-sm text-gray-600">
                        <span class="bg-purple-100 px-3 py-1 rounded-full">16 ŸÜŸÖÿ∑ ÿ¥ÿÆÿµŸäÿ©</span>
                    </div>
                </div>

                <!-- Hover Effect Glow -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-purple-400 to-purple-600 opacity-0 group-hover:opacity-10 rounded-2xl transition-opacity duration-300">
                </div>
            </div>

            <!-- Multiple Intelligences Test -->
            <div id="p3"
                class="group relative bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-500 hover:scale-105 border border-orange-200 overflow-hidden">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-10">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <defs>
                            <pattern id="intelligence-pattern" x="0" y="0" width="25" height="25"
                                patternUnits="userSpaceOnUse">
                                <polygon points="12.5,2 18,10 12.5,18 7,10" fill="currentColor" />
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#intelligence-pattern)" class="text-orange-400" />
                    </svg>
                </div>

                <div class="relative text-center">
                    <div
                        class="bg-orange-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:rotate-12 transition-transform duration-300">
                        <span class="text-3xl">üåü</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">ÿßŸÑÿ∞ŸÉÿßÿ°ÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ©</h3>
                    <p class="text-xl font-bold text-orange-600 mb-4 tracking-wide">Multiple Intelligences</p>
                    <div
                        class="bg-gradient-to-r from-green-400 to-green-500 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg">
                        ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
                    </div>
                    <div class="mt-4 text-sm text-gray-600">
                        <span class="bg-orange-100 px-3 py-1 rounded-full">8 ÿ£ŸÜŸàÿßÿπ ÿ∞ŸÉÿßÿ°</span>
                    </div>
                </div>

                <!-- Hover Effect Glow -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-orange-400 to-orange-600 opacity-0 group-hover:opacity-10 rounded-2xl transition-opacity duration-300">
                </div>
            </div>
        </div>

        <!-- Journey Summary -->
        <div class="bg-white rounded-xl p-8 shadow-lg mb-12 fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                üì¶ ÿ±ÿ≠ŸÑÿ™ŸÉ ÿ®ÿßÿÆÿ™ÿµÿßÿ± - Your Journey Summary
            </h2>
            <div class="grid md:grid-cols-3 gap-6 text-center">
                <div class="bg-blue-50 rounded-lg p-4">
                    <div class="text-3xl text-blue-600 mb-2">‚úÖ</div>
                    <div class="text-sm text-gray-600 mb-1">ÿπÿØÿØ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©</div>
                    <div class="text-2xl font-bold text-blue-600">3 / 3</div>
                </div>
                <div class="bg-green-50 rounded-lg p-4">
                    <div class="text-3xl text-green-600 mb-2">‚è±Ô∏è</div>
                    <div class="text-sm text-gray-600 mb-1">ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÉŸÑŸä ÿßŸÑŸÖÿ≥ÿ™ÿ∫ÿ±ŸÇ</div>
                    <div class="text-2xl font-bold text-green-600 totalTime">00:12:45</div>
                </div>
                <div class="bg-purple-50 rounded-lg p-4">
                    <div class="text-3xl text-purple-600 mb-2">üìä</div>
                    <div class="text-sm text-gray-600 mb-1">ŸÜÿ≥ÿ®ÿ© ÿßŸÑÿ™ŸÇÿØŸëŸÖ ÿßŸÑŸÉŸÑŸä</div>
                    <div class="text-2xl font-bold text-purple-600">100%</div>
                </div>
            </div>
        </div>

        <!-- Motivational Message -->
        <div class="text-center mb-12 fade-in">
            <div
                class="relative bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-600 text-white rounded-xl p-6 shadow-xl overflow-hidden border border-emerald-300 max-w-4xl mx-auto">
                <!-- Floating Elements -->
                <div class="absolute top-2 left-3 text-2xl animate-bounce">‚ú®</div>
                <div class="absolute top-2 right-3 text-2xl animate-pulse">üèÜ</div>

                <div class="relative z-10">
                    <h2 class="text-2xl md:text-3xl font-bold mb-3 leading-tight">
                        üéØ ŸÑŸÇÿØ ÿßÿ¨ÿ™ÿ≤ÿ™ ÿ±ÿ≠ŸÑÿ© ÿßÿ≥ÿ™ŸÉÿ¥ÿßŸÅ ÿßŸÑÿ∞ÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠ ‚Äî ŸÜÿ≠ŸÜ ŸÅÿÆŸàÿ±ŸàŸÜ ÿ®ŸÉ üåü
                    </h2>

                    <p class="text-lg md:text-xl opacity-90 leading-relaxed">
                        üìù ŸÑŸÇÿØ ÿ£ŸÉŸÖŸÑÿ™ ÿ±ÿ≠ŸÑÿ™ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠ ŸÖŸÜ ÿ®ÿØÿßŸäÿ© ÿßÿ≥ÿ™ŸÉÿ¥ÿßŸÅ ÿßŸÑÿ∞ÿßÿ™ ÿ•ŸÑŸâ ÿßŸÑŸàÿµŸàŸÑ ŸÑŸÑŸáÿØŸÅ ‚Äî ÿÆÿ∑Ÿàÿ© ŸÖŸáŸÖŸëÿ© ŸÜÿ≠Ÿà ŸÖÿ≥ÿ™ŸÇÿ®ŸÑŸÉ
                    </p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="grid md:grid-cols-2 gap-8 mb-12 fade-in max-w-4xl mx-auto">
            <!-- ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ -->
            <button
                class="group relative bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 hover:from-blue-700 hover:via-blue-800 hover:to-indigo-900 text-white font-bold py-8 px-8 rounded-2xl transition-all duration-500 hover-lift shadow-2xl overflow-hidden border border-blue-400">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-20">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <defs>
                            <pattern id="results-pattern" x="0" y="0" width="20" height="20"
                                patternUnits="userSpaceOnUse">
                                <circle cx="10" cy="10" r="2" fill="currentColor" />
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#results-pattern)" class="text-white" />
                    </svg>
                </div>

                <div class="relative z-10 flex flex-col items-center">
                    <div
                        class="bg-white bg-opacity-20 w-20 h-20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                        <span class="text-4xl">üîç</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂ ŸÜÿ™ÿßÿ¶ÿ¨Ÿä</h3>
                    <p class="text-blue-100 text-center text-sm leading-relaxed">
                        ÿ¥ÿßŸáÿØ ÿ™ÿ≠ŸÑŸäŸÑ ÿ¥ÿßŸÖŸÑ ŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ŸÉ ÿßŸÑÿ´ŸÑÿßÿ´ ŸÖÿπ ÿßŸÑÿ±ÿ≥ŸàŸÖ ÿßŸÑÿ®ŸäÿßŸÜŸäÿ© ŸàÿßŸÑÿ™ŸàÿµŸäÿßÿ™
                    </p>
                    <div class="mt-4 flex gap-2">
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs">üìä ÿ™ÿ≠ŸÑŸäŸÑ ŸÖŸÅÿµŸÑ</span>
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs">üìà ÿ±ÿ≥ŸàŸÖ ÿ®ŸäÿßŸÜŸäÿ©</span>
                    </div>
                </div>

                <!-- Glow Effect -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 opacity-0 group-hover:opacity-30 rounded-2xl transition-opacity duration-300">
                </div>
            </button>

            <!-- ÿ™ÿ≠ŸÖŸäŸÑ PDF -->
            <button
                class="group relative bg-gradient-to-br from-red-600 via-red-700 to-rose-800 hover:from-red-700 hover:via-red-800 hover:to-rose-900 text-white font-bold py-8 px-8 rounded-2xl transition-all duration-500 hover-lift shadow-2xl overflow-hidden border border-red-400">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-20">
                    <svg class="w-full h-full" viewBox="0 0 100 100">
                        <defs>
                            <pattern id="pdf-pattern" x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse">
                                <rect x="8" y="8" width="9" height="9" fill="currentColor" />
                            </pattern>
                        </defs>
                        <rect width="100" height="100" fill="url(#pdf-pattern)" class="text-white" />
                    </svg>
                </div>

                <div class="relative z-10 flex flex-col items-center">
                    <div
                        class="bg-white bg-opacity-20 w-20 h-20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                        <span class="text-4xl">üìÑ</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2">ÿ™ÿ≠ŸÖŸäŸÑ PDF</h3>
                    <p class="text-red-100 text-center text-sm leading-relaxed">
                        ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ™ŸÇÿ±Ÿäÿ± ÿ¥ÿßŸÖŸÑ ÿ®ÿµŸäÿ∫ÿ© PDF Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ŸÜÿ™ÿßÿ¶ÿ¨ŸÉ Ÿàÿ™ŸàÿµŸäÿßÿ™ŸÉ ÿßŸÑŸÖŸáŸÜŸäÿ©
                    </p>
                    <div class="mt-4 flex gap-2">
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs">üìã ÿ™ŸÇÿ±Ÿäÿ± ŸÉÿßŸÖŸÑ</span>
                        <span class="bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs">‚¨áÔ∏è ÿ™ÿ≠ŸÖŸäŸÑ ŸÅŸàÿ±Ÿä</span>
                    </div>
                </div>

                <!-- Glow Effect -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-red-400 to-rose-500 opacity-0 group-hover:opacity-30 rounded-2xl transition-opacity duration-300">
                </div>
            </button>
        </div>

        <!-- ÿßŸÑÿ±ÿ≥ÿßŸÑÿ© -->
        <div id="messageModal"
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±</h2>
                <p class="text-gray-600 mb-8 text-center leading-relaxed">
                    ŸÇÿØ ÿ™ÿ£ÿÆÿ∞ ÿßŸÑÿπŸÖŸÑŸäÿ© ŸàŸÇÿ™ ÿ∑ŸàŸäŸÑ ŸÇŸÑŸäŸÑÿßŸã
                </p>
                <!-- ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ´ŸÑÿßÿ´ÿ© -->
                <div class="flex flex-col gap-3 butts">
                    <button id="option1" onclick="generatePDF('p1')"
                        class="bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200">
                        ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿßŸàŸÑ
                    </button>

                    <button id="option2" onclick="generatePDF('p2')"
                        class="bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200">
                        ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ´ÿßŸÜŸä
                    </button>

                    <button id="option3" onclick="generatePDF('p3')"
                        class="bg-red-500 hover:bg-red-600 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200">
                        ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ´ÿßŸÑÿ´
                    </button>
                </div>

                <div class="loading-spinner  hidden">
                    <svg style="margin-inline: auto;" class="animate-spin h-40 w-40 text-red"
                        xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#9ab5eb" stroke-width="4">
                        </circle>
                        <path class="opacity-75" fill="blue"
                            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>



        <!-- Footer -->
        <footer class="text-center text-white opacity-75 fade-in">
            <div class="border-t border-white border-opacity-20 pt-6">
                <p class="mb-2">üë®‚Äçüíª ÿ™ŸÖ ÿßŸÑÿ™ÿ∑ŸàŸäÿ± ÿ®Ÿàÿßÿ≥ÿ∑ÿ©: ÿ≠ŸÖÿØ ÿßŸÑÿ≥ŸÑŸäŸÖ & ÿπÿ®ÿØÿßŸÑÿ≥ŸÑÿßŸÖ ÿßŸÑÿ¥ÿ±ŸÇŸä ‚Äî ŸÅÿ±ŸäŸÇ Spark_HA</p>
                <p class="text-sm">¬©Ô∏è 2025 ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ© ‚Äî All Rights Reserved üåü</p>
            </div>
        </footer>
    </div>

    <script>
        const p1 = JSON.parse('<%-p1%>');
        const p2 = JSON.parse('<%-p2%>');
        const p3 = JSON.parse('<%-p3%>');
        function formatTime(ms) {
            const minutes = Math.floor(ms / 60000);
            const seconds = Math.floor((ms % 60000) / 1000);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        document.querySelectorAll(".testCards>div").forEach(x => {
            x.addEventListener('click', () => {
                location.href = `results/${x.id}`
            })
        })
        console.log(formatTime(p1.time) , formatTime(p2.time) , formatTime(p3.time))
        document.querySelector(".totalTime").innerText = formatTime(p1.time + p2.time + p3.time)
        console.log(p3)
        // Create floating particles
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 5 + 's';
            particle.style.animationDuration = (20 + Math.random() * 10) + 's';

            document.getElementById('particles').appendChild(particle);

            setTimeout(() => {
                particle.remove();
            }, 30000);
        }
        const messageModal = document.getElementById('messageModal');
        function hideMessage() {
            messageModal.classList.add('hidden');
        }
        messageModal.addEventListener('click', function (e) {
            if (e.target === messageModal) {
                hideMessage();
            }
        });
        function printResult() {
            messageModal.classList.remove('hidden');

        }
        async function generatePDF(x) {
            const butts = document.querySelector('.butts');
            const spinner = document.querySelector('.loading-spinner');
            butts.classList.add('hidden');
            spinner.classList.remove('hidden');

            var data = new URLSearchParams();
            data.append("exam", x);
            data.append("id", "<%=user.user%>");
            const resp = await fetch('/html-to-pdf', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
                },
                body: data
            });
            const exams = { p1: "ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÖŸäŸàŸÑ ÿßŸÑŸÖŸáŸÜŸäÿ© ‚Äì RIASEC", p2: "ÿ™ŸÇÿ±Ÿäÿ± ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ¥ÿÆÿµŸäÿ© ‚Äì MBTI", p3: "ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑÿ∞ŸÉÿßÿ°ÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ©" }
            const blob = await resp.blob();
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = exams[x];
            link.click();
            URL.revokeObjectURL(link.href);
            butts.classList.remove('hidden');
            spinner.classList.add('hidden');


        };

        // Generate effects continuously
        // setInterval(createSparkle, 200);
        setInterval(createParticle, 800);

        // Create initial particles
        for (let i = 0; i < 15; i++) {
            setTimeout(createParticle, i * 200);
        }

        // Add click handlers to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function () {
                const buttonText = this.textContent.trim();

                // Create ripple effect
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255,255,255,0.6)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.left = '50%';
                ripple.style.top = '50%';
                ripple.style.width = '20px';
                ripple.style.height = '20px';
                ripple.style.marginLeft = '-10px';
                ripple.style.marginTop = '-10px';

                this.style.position = 'relative';
                this.appendChild(ripple);

                setTimeout(() => {
                    ripple.remove();
                }, 600);

                // Show action feedback
                if (buttonText.includes('ÿßÿ≥ÿ™ÿπÿ±ÿßÿ∂')) {
                    // Create results modal
                    showResultsModal();
                } else if (buttonText.includes('ÿ™ÿ≠ŸÖŸäŸÑ')) {
                    // Generate and download PDF
                    // generatePDF();
                    printResult();

                    // alert("ÿ¨ÿßÿ±Ÿä ÿßŸÑÿπŸÖŸÑ ÿπŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑÿÆÿßÿµŸäÿ©")
                }
            });
        });

        // Add CSS for ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Show Results Modal Function
        function showResultsModal() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gray-800">üìä ŸÜÿ™ÿßÿ¶ÿ¨ ÿßÿÆÿ™ÿ®ÿßÿ±ÿßÿ™ŸÉ ÿßŸÑÿ¥ÿßŸÖŸÑÿ©</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700 text-2xl">‚úï</button>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <!-- RIASEC Results -->
                        <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
                            <div class="text-center mb-4">
                                <div class="bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3">
                                    <span class="text-2xl">üéØ</span>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">RIASEC</h3>
                            </div>

                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-sm">${p1.tops[0].arabicName} (${p1.tops[0].englishName})</span>
                                    <span class="font-bold text-blue-600">${Math.round(p1.tops[0].percentages)}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: ${Math.round(p1.tops[0].percentages)}%"></div>
                                </div>
                                
                                <div class="flex justify-between">
                                    <span class="text-sm">${p1.tops[1].arabicName} (${p1.tops[1].englishName})</span>
                                    <span class="font-bold text-blue-600">${Math.round(p1.tops[1].percentages)}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: ${Math.round(p1.tops[1].percentages)}%"></div>
                                </div>

                                <div class="flex justify-between">
                                    <span class="text-sm">${p1.tops[2].arabicName} (${p1.tops[2].englishName})</span>
                                    <span class="font-bold text-blue-600">${Math.round(p1.tops[2].percentages)}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: ${Math.round(+p1.tops[2].percentages)}%"></div>
                                </div>


                            </div>
                        </div>
                        
                        <!-- MBTI Results -->
                        <div class="bg-purple-50 rounded-xl p-6 border border-purple-200">
                            <div class="text-center mb-4">
                                <div class="bg-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3">
                                    <span class="text-2xl">üß†</span>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">MBTI</h3>
                            </div>
                            <div class="text-center">
                                <div class="bg-purple-100 rounded-lg p-4 mb-3">
                                <div class="personalityType text-sm text-gray-600">
                                    ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑŸÖÿ≠ÿßŸàÿ± ÿßŸÑÿßÿ±ÿ®ÿπÿ©
                                </div>
                                </div>
                                <div class="grid grid-cols-2 gap-2 text-xs">
                  <% tops.forEach(function(item) { %>
                    <div class="bg-purple-200 rounded px-2 py-1">
                      <%=item.name%> - <%=item.persent%>%
                    </div>
                    <% }); %>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Multiple Intelligences Results -->
                        <div class="bg-orange-50 rounded-xl p-6 border border-orange-200">
                            <div class="text-center mb-4">
                                <div class="bg-orange-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3">
                                    <span class="text-2xl">üåü</span>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">ÿßŸÑÿ∞ŸÉÿßÿ°ÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ©</h3>
                            </div>

                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-sm">${p3.tops[0].name}</span>
                                    <span class="font-bold text-orange-600">${p3.tops[0].score}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-orange-500 h-2 rounded-full" style="width: ${p3.tops[0].score}%"></div>
                                </div>
                            </div>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-sm">${p3.tops[1].name}</span>
                                    <span class="font-bold text-orange-600">${p3.tops[1].score}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-orange-500 h-2 rounded-full" style="width: ${p3.tops[1].score}%"></div>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span class="text-sm">${p3.tops[2].name}</span>
                                    <span class="font-bold text-orange-600">${p3.tops[2].score}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-orange-500 h-2 rounded-full" style="width: ${p3.tops[2].score}%"></div>
                                </div>
                            </div>


                        </div>
                    </div>
                    
                    
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Celebration sound effect simulation (visual feedback)
        setTimeout(() => {
            const celebration = document.createElement('div');
            celebration.innerHTML = 'üéâ';
            celebration.style.position = 'fixed';
            celebration.style.top = '20px';
            celebration.style.right = '20px';
            celebration.style.fontSize = '3rem';
            celebration.style.zIndex = '1000';
            celebration.style.animation = 'bounceIn 1s ease-out';
            document.body.appendChild(celebration);

            setTimeout(() => {
                celebration.remove();
            }, 3000);
        }, 1000);
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'9804aff8547be8e2',t:'MTc1ODA3MTA0NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>