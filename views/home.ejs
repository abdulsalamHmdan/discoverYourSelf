<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مقياس بصيرة - صفحة ترحيبية</title>
    <script src="/_sdk/element_sdk.js"></script>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #305767 0%, #203a43 25%, #2c5364 50%, #1e3c72 75%, #2a5298 100%);
            min-height: 100%;
            overflow-x: hidden;
            position: relative;
        }



        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.02) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }


        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            position: relative;
            z-index: 1;
        }

        .floating-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }

        .shape:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            top: 20%;
            right: 10%;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            bottom: 20%;
            left: 15%;
            animation-delay: 4s;
        }

        .shape:nth-child(4) {
            bottom: 10%;
            right: 20%;
            animation-delay: 1s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(180deg);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: slideInFromRight 1s ease-out;
        }

        .wave-emoji {
            font-size: 3rem;
            display: inline-block;
            animation: wave 2s ease-in-out infinite;
            margin-left: 1rem;
        }

        @keyframes wave {

            0%,
            100% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(20deg);
            }

            75% {
                transform: rotate(-10deg);
            }
        }

        .main-title {
            font-size: 3.5rem;
            font-weight: 700;
            color: #ffffff;
            margin: 1.5rem 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4), 0 0 30px rgba(255, 255, 255, 0.1);
            animation: slideInFromRight 1.2s ease-out;
            letter-spacing: 1px;
            line-height: 1.2;
        }

        .subtitle {
            font-size: 1.4rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 1rem;
            font-weight: 300;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }



        @keyframes glow {
            from {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 10px rgba(255, 255, 255, 0.2);
            }

            to {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.4);
            }
        }

        .welcome-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1), 0 5px 15px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(15px);
            animation: slideInUp 1s ease-out 0.3s both;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            border-radius: 25px 25px 0 0;
        }

        .welcome-header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
        }

        .welcome-title {
            font-size: 1.6rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.8rem;
            letter-spacing: 0.3px;
        }

        .welcome-divider {
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            margin: 0 auto;
            border-radius: 2px;
        }

        .welcome-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .two-columns-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .intro-section,
        .philosophy-section,
        .benefits-section {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(138, 155, 255, 0.08), rgba(155, 135, 255, 0.12));
            border-radius: 15px;
            border: 1px solid rgba(138, 155, 255, 0.2);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(138, 155, 255, 0.1);
        }

        .intro-section:hover,
        .philosophy-section:hover,
        .benefits-section:hover {
            background: linear-gradient(135deg, rgba(138, 155, 255, 0.12), rgba(155, 135, 255, 0.18));
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(138, 155, 255, 0.2);
            border-color: rgba(138, 155, 255, 0.3);
        }

        .section-icon {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .section-title-small {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.8rem;
            letter-spacing: 0.2px;
        }

        .welcome-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 0;
            font-weight: 400;
            letter-spacing: 0.2px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 0.8rem;
        }

        .benefit-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.4rem 0.3rem;
            background: linear-gradient(135deg, rgba(240, 248, 255, 0.9), rgba(230, 245, 255, 0.8));
            border-radius: 6px;
            border: 1px solid rgba(173, 216, 230, 0.3);
            transition: all 0.3s ease;
            min-height: 55px;
            justify-content: center;
        }

        .benefit-item:hover {
            background: linear-gradient(135deg, rgba(245, 250, 255, 0.95), rgba(235, 248, 255, 0.9));
            transform: translateY(-2px);
            box-shadow: 0 3px 12px rgba(173, 216, 230, 0.25);
            border-color: rgba(173, 216, 230, 0.4);
        }

        .benefit-icon {
            font-size: 0.9rem;
            margin-bottom: 0.1rem;
            display: block;
        }

        .benefit-text {
            font-size: 0.65rem;
            font-weight: 600;
            color: #2c3e50;
            text-align: center;
            letter-spacing: 0.1px;
            line-height: 1.1;
        }

        .highlight-text {
            color: #667eea;
            font-weight: 600;
        }

        .tests-section {
            margin: 3rem 0;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffffff;
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .tests-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .test-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98), rgba(248, 250, 252, 0.95));
            border-radius: 20px;
            padding: 0;
            text-align: center;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12), 0 6px 20px rgba(0, 0, 0, 0.06);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: fadeInUp 1s ease-out;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(15px);
            min-height: 420px;
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 1.5rem 1.8rem 1.2rem;
            border-radius: 20px 20px 0 0;
            position: relative;
            overflow: hidden;
        }

        .card-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1.5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
            pointer-events: none;
        }

        .card-badge {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 1px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .test-card:nth-child(1) .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            animation-delay: 0.5s;
        }

        .test-card:nth-child(2) .card-header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            animation-delay: 0.7s;
        }

        .test-card:nth-child(3) .card-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            animation-delay: 0.9s;
        }

        .test-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            transform: scaleX(0);
            transition: transform 0.4s ease;
            border-radius: 0 0 25px 25px;
        }

        .test-card:hover::after {
            transform: scaleX(1);
        }

        .test-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s;
            z-index: 1;
        }

        .test-card:hover::before {
            left: 100%;
        }

        .test-card:hover {
            transform: translateY(-20px) scale(1.03);
            box-shadow: 0 30px 70px rgba(0, 0, 0, 0.25), 0 15px 40px rgba(102, 126, 234, 0.15);
        }

        .test-icon {
            font-size: 2.8rem;
            margin-bottom: 0.8rem;
            display: block;
            filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.2));
            transition: all 0.4s ease;
            color: white;
            position: relative;
            z-index: 2;
        }

        .test-card:hover .test-icon {
            transform: scale(1.1) rotate(6deg);
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
        }

        .card-content {
            padding: 1.5rem 1.8rem 2rem;
        }

        .test-features {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        .feature-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
        }

        .test-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1rem;
            letter-spacing: 0.3px;
            line-height: 1.3;
        }

        .test-description {
            font-size: 0.9rem;
            color: #5a6c7d;
            line-height: 1.5;
            font-weight: 400;
        }

        .closing-section {
            text-align: center;
            margin: 3rem 0;
            animation: fadeInUp 1s ease-out 1.2s both;
        }

        .closing-message {
            font-size: 1.3rem;
            color: #ffffff;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.2rem 4rem;
            border-radius: 60px;
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: 600;
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: pulse 3s infinite;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.6);
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 10px 30px rgba(238, 90, 36, 0.4);
            }

            50% {
                box-shadow: 0 10px 30px rgba(238, 90, 36, 0.6);
            }

            100% {
                box-shadow: 0 10px 30px rgba(238, 90, 36, 0.4);
            }
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 255, 0.9));
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 900px;
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.15), 0 5px 20px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .highlight-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            border-radius: 20px 20px 0 0;
        }

        .highlight-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.25), 0 8px 30px rgba(0, 0, 0, 0.15);
            border-color: rgba(102, 126, 234, 0.4);
        }

        .highlight-icon {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 1rem;
            filter: drop-shadow(0 3px 8px rgba(0, 0, 0, 0.2));
            animation: glow 2s ease-in-out infinite alternate;
        }

        .highlight-box .closing-message {
            color: #2c3e50;
            font-size: 1.1rem;
            line-height: 1.7;
            text-align: center;
            margin: 0;
            font-weight: 500;
            text-shadow: none;
        }

        @keyframes slideInFromRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 1200px) {
            .tests-grid {
                gap: 1rem;
            }

            .test-card {
                min-height: 380px;
            }

            .test-title {
                font-size: 1.1rem;
            }

            .test-description {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .main-title {
                font-size: 2rem;
            }

            .welcome-card {
                padding: 1.5rem;
            }

            .welcome-title {
                font-size: 1.6rem;
            }

            .two-columns-section {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .benefits-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .section-icon {
                font-size: 2rem;
            }

            .section-title-small {
                font-size: 1.2rem;
            }

            .welcome-text {
                font-size: 1rem;
            }

            .tests-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .test-card {
                min-height: auto;
            }
        }
    </style>
    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>

<body>
    <div class="floating-shapes">
        <svg class="shape" width="60" height="60" viewbox="0 0 60 60">
            <circle cx="30" cy="30" r="25" fill="#ffffff" />
        </svg>
        <svg class="shape" width="80" height="80" viewbox="0 0 80 80">
            <rect x="10" y="10" width="60" height="60" rx="15" fill="#ffffff" />
        </svg>
        <svg class="shape" width="70" height="70" viewbox="0 0 70 70">
            <polygon points="35,5 65,55 5,55" fill="#ffffff" />
        </svg>
        <svg class="shape" width="50" height="50" viewbox="0 0 50 50">
            <polygon points="25,5 45,20 35,45 15,45 5,20" fill="#ffffff" />
        </svg>
    </div>
    <div class="container">
        <header class="header">
            <!-- بوكس ترحيبي شفاف بدون فراغ علوي وسفلي -->
            <div class="mx-auto max-w-4xl px-4 md:px-6">
                <div class="relative overflow-hidden rounded-3xl p-[2px]
              bg-gradient-to-br from-white/50 via-white/30 to-transparent
              shadow-[0_10px_40px_rgba(0,0,0,0.08)]">

                    <!-- المحتوى الداخلي -->
                    <div class="relative rounded-3xl bg-white/25 backdrop-blur-xl
                text-gray-800 ring-1 ring-white/20
                px-8 md:px-14 py-6 md:py-8 text-center shadow-inner leading-tight">

                        <!-- تأثيرات الإضاءة الناعمة -->
                        <span
                            class="absolute -top-12 -right-12 h-44 w-44 rounded-full bg-white/30 blur-3xl opacity-60"></span>
                        <span
                            class="absolute -bottom-16 -left-16 h-56 w-56 rounded-full bg-indigo-200/20 blur-3xl opacity-50"></span>

                        <!-- المحتوى -->
                        <h1 class="text-4xl md:text-4xl font-extrabold text-gray-800 mb-3">
                            👋 مرحبًا بك في رحلتك لاكتشاف الذات
                        </h1>

                        <p class="text-xl text-gray-800/90 mb-1">
                            أهلاً بك في <span class="font-bold text-indigo-600">(مقياس بصيرة) ✨</span>
                        </p>

                        <p class="text-lg text-gray-700 mb-1">
                            تحت إشراف المستشار المهني <span class="font-semibold text-indigo-700">علي العلي</span>
                        </p>

                        <p class="text-lg text-gray-800/90 leading-relaxed max-w-2xl mx-auto">
                            مقياس بصيرة يساعدك على التعرّف على نفسك بشكل أعمق وتحديد مسارك بثقة ووضوح.
                        </p>

                    </div>
                </div>
            </div>


        </header>
        <div class="welcome-card">
            <div class="welcome-header">
                <h2 class="welcome-title">🌟 مرحباً بك في بصيرة</h2>
                <div class="welcome-divider"></div>
            </div>
            <div class="welcome-content">
                <div class="two-columns-section">
                    <div class="intro-section">
                        <div class="section-icon">
                            🎯
                        </div>
                        <h3 class="section-title-small">منصة التقييم الرائدة</h3>
                        <p class="welcome-text" id="welcome-message">نرحب بكم في <span class="highlight-text">مقياس
                                بصيرة</span>، المنصة الرائدة في مجال التقييم النفسي والشخصي، والتي تقدم لكم تجربة علمية
                            متقدمة لاستكشاف أعماق الذات وفهم أنماط التفكير والسلوك بدقة ووضوح.</p>
                    </div>
                    <div class="philosophy-section">
                        <div class="section-icon">
                            💡
                        </div>
                        <h3 class="section-title-small">فلسفتنا في التقييم</h3>
                        <p class="welcome-text" id="description-text">نؤمن في بصيرة أن <span
                                class="highlight-text">المعرفة الحقيقية تبدأ من الداخل</span>، ولهذا تم تطوير اختباراتنا
                            وفقاً لأحدث المعايير العلمية والنفسية لتمكينكم من الحصول على رؤية شاملة وعميقة لشخصيتكم.</p>
                    </div>
                </div>
                <div class="benefits-section">
                    <div class="section-icon">
                        🚀
                    </div>
                    <h3 class="section-title-small">الفوائد المحققة</h3>
                    <div class="benefits-grid">
                        <div class="benefit-item"><span class="benefit-icon">🎯</span> <span class="benefit-text">قرارات
                                أكثر وعياً</span>
                        </div>
                        <div class="benefit-item"><span class="benefit-icon">💼</span> <span class="benefit-text">نجاح
                                مهني متميز</span>
                        </div>
                        <div class="benefit-item"><span class="benefit-icon">🌱</span> <span class="benefit-text">تطوير
                                شخصي مستمر</span>
                        </div>
                        <div class="benefit-item"><span class="benefit-icon">🧠</span> <span class="benefit-text">فهم
                                عميق للذات</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section class="tests-section">
            <h2 class="section-title">🔹 باقة المقياس المختارة في رحلة بصيرة</h2>
            <div class="tests-grid">
                <% if (data.exams.includes("p1")) { %>
                    <div class="test-card">
                        <div class="card-header"><span class="test-icon">🎯</span>
                            <div class="card-badge">
                                Holland
                            </div>
                        </div>
                        <div class="card-content">
                            <h3 class="test-title" id="test1-title">مقياس هولاند للميول المهنية</h3>
                            <p class="test-description" id="test1-description">يعتمد على نظرية جون هولاند الشهيرة التي
                                تصنف
                                الشخصيات إلى ستة أنماط مهنية: الواقعي، الاستقصائي، الفني، الاجتماعي، المغامر، والتقليدي.
                                يساعدكم هذا المقياس في اكتشاف الميول المهنية الحقيقية وتحديد المسارات الوظيفية الأنسب
                                لشخصيتكم وقدراتكم.</p>
                            <div class="test-features">
                                <% if (data.p1 !== "done") { %>
                                    <a href="/p1" class="feature-tag">بدء المقياس</a>
                                    <% }else{ %>
                                        <a href="/results/p1" class="feature-tag">استعراض النتائج</a>
                                        <% } %>
                            </div>
                        </div>
                    </div>
                    <% } %>

                        <% if (data.exams.includes("p2")) { %>

                            <div class="test-card">
                                <div class="card-header"><span class="test-icon">🧩</span>
                                    <div class="card-badge">
                                        MBTI
                                    </div>
                                </div>
                                <div class="card-content">
                                    <h3 class="test-title" id="test2-title">مؤشر مايرز-بريجز للأنماط الشخصية</h3>
                                    <p class="test-description" id="test2-description">أحد أشهر اختبارات الشخصية
                                        عالمياً،
                                        يحدد
                                        نمطكم
                                        الشخصي من بين 16 نمطاً مختلفاً بناءً على أربعة أبعاد: الانطوائية/الانبساطية،
                                        الحدس/الحس،
                                        التفكير/الشعور، والحكم/الإدراك. يوفر فهماً عميقاً لطريقة تفكيركم واتخاذ قراراتكم
                                        وتفاعلكم مع
                                        العالم.</p>
                                    <div class="test-features">
                                        <% if (data.p2 !== "done") { %>
                                            <a href="/p2" class="feature-tag">بدء المقياس</a>
                                            <% }else{ %>
                                                <a href="/results/p2" class="feature-tag">استعراض النتائج</a>
                                                <% } %>
                                    </div>
                                </div>
                            </div>
                            <% } %>
                                <% if (data.exams.includes("p3")) { %>
                                    <div class="test-card">
                                        <div class="card-header"><span class="test-icon">🌟</span>
                                            <div class="card-badge">
                                                Gardner
                                            </div>
                                        </div>
                                        <div class="card-content">
                                            <h3 class="test-title" id="test3-title">مقياس الذكاءات المتعددة لجاردنر</h3>
                                            <p class="test-description" id="test3-description">يستند إلى نظرية هوارد
                                                جاردنر للذكاءات
                                                المتعددة، ويقيس ثمانية أنواع من الذكاء: اللغوي، المنطقي-الرياضي،
                                                المكاني، الموسيقي،
                                                الجسدي-الحركي، الطبيعي، الاجتماعي، والذاتي. يساعدكم في اكتشاف نقاط قوتكم
                                                الفكرية
                                                المتنوعة
                                                وتطوير إمكاناتكم الكامنة.</p>
                                            <div class="test-features">
                                                <% if (data.p3 !== "done") { %>
                                                    <a href="/p3" class="feature-tag">بدء المقياس</a>
                                                    <% }else{ %>
                                                        <a href="/results/p3" class="feature-tag">استعراض النتائج</a>
                                                        <% } %>
                                            </div>
                                        </div>
                                    </div>
                                    <% } %>
            </div>
        </section>
        <div class="closing-section">
            <div class="highlight-box">
                <div class="highlight-icon">
                    💡
                </div>
                <p class="closing-message" id="closing-message">عند إتمام كل اختبار، ستحصلون على تقرير تفصيلي شامل
                    ومتكامل يتضمن تحليلاً علمياً دقيقاً لنتائجكم، مع توصيات مخصصة لتطوير قدراتكم وتعزيز نقاط قوتكم، مما
                    يمكنكم من وضع خطط تطوير شخصية ومهنية فعالة ومدروسة.</p>
            </div>
            <p class="closing-message" id="final-message">💡 بصيرة معك… لتكتشف ذاتك وتحقق أهدافك</p><a href="#"
                class="cta-button" id="cta-button">ابدأ التقييم الآن</a>
        </div>
    </div>
    <script>
        const defaultConfig = {
            background_color: "#1e3c72",
            surface_color: "#ffffff",
            text_color: "#2c3e50",
            primary_action_color: "#667eea",
            secondary_surface_color: "#2a5298",
            font_family: "Segoe UI",
            font_size: 16,
            main_title: "مرحبًا بك في رحلتك لاكتشاف الذات",
            subtitle: "أهلاً بك في (مقياس بصيرة) ✨",
            supervisor: "تحت إشراف المستشار المهني علي العلي",
            description: "مقياس بصيرة يساعدك على التعرّف على نفسك بشكل أعمق وتحديد مسارك بثقة",
            welcome_message: "منصة متقدمة للتقييم النفسي والشخصي تقدم تجربة علمية لاستكشاف أعماق الذات وفهم أنماط التفكير والسلوك.",
            description_text: "نؤمن أن المعرفة الحقيقية تبدأ من الداخل. اختباراتنا مطورة وفق أحدث المعايير العلمية لمساعدتكم على اتخاذ قرارات أكثر وعياً في الحياة الشخصية والمهنية.",
            test1_title: "مقياس هولاند للميول المهنية",
            test1_description: "يعتمد على نظرية جون هولاند الشهيرة التي تصنف الشخصيات إلى ستة أنماط مهنية: الواقعي، الاستقصائي، الفني، الاجتماعي، المغامر، والتقليدي. يساعدكم هذا المقياس في اكتشاف الميول المهنية الحقيقية وتحديد المسارات الوظيفية الأنسب لشخصيتكم وقدراتكم.",
            test2_title: "مؤشر مايرز-بريجز للأنماط الشخصية",
            test2_description: "أحد أشهر اختبارات الشخصية عالمياً، يحدد نمطكم الشخصي من بين 16 نمطاً مختلفاً بناءً على أربعة أبعاد: الانطوائية/الانبساطية، الحدس/الحس، التفكير/الشعور، والحكم/الإدراك. يوفر فهماً عميقاً لطريقة تفكيركم واتخاذ قراراتكم وتفاعلكم مع العالم.",
            test3_title: "مقياس الذكاءات المتعددة لجاردنر",
            test3_description: "يستند إلى نظرية هوارد جاردنر للذكاءات المتعددة، ويقيس ثمانية أنواع من الذكاء: اللغوي، المنطقي-الرياضي، المكاني، الموسيقي، الجسدي-الحركي، الطبيعي، الاجتماعي، والذاتي. يساعدكم في اكتشاف نقاط قوتكم الفكرية المتنوعة وتطوير إمكاناتكم الكامنة.",
            closing_message: "💡 عند إتمام كل اختبار، ستحصلون على تقرير تفصيلي شامل ومتكامل يتضمن تحليلاً علمياً دقيقاً لنتائجكم، مع توصيات مخصصة لتطوير قدراتكم وتعزيز نقاط قوتكم، مما يمكنكم من وضع خطط تطوير شخصية ومهنية فعالة ومدروسة. 💡 بصيرة معك… لتكتشف ذاتك وتحقق أهدافك",
            cta_button: "ابدأ التقييم الآن"
        };

        async function onConfigChange(config) {
            const customFont = config.font_family || defaultConfig.font_family;
            const baseSize = config.font_size || defaultConfig.font_size;
            const baseFontStack = 'Tahoma, Geneva, Verdana, sans-serif';

            // Apply colors
            document.body.style.background = `linear-gradient(135deg, ${config.background_color || defaultConfig.background_color} 0%, ${config.secondary_surface_color || defaultConfig.secondary_surface_color} 100%)`;

            const welcomeCards = document.querySelectorAll('.welcome-card, .test-card');
            welcomeCards.forEach(card => {
                card.style.background = `rgba(255, 255, 255, 0.95)`;
            });

            const ctaButton = document.getElementById('cta-button');
            ctaButton.style.background = `linear-gradient(45deg, ${config.primary_action_color || defaultConfig.primary_action_color}, #ee5a24)`;

            // Apply fonts
            document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;

            // Apply font sizes
            document.querySelector('.main-title').style.fontSize = `${baseSize * 1.875}px`;
            document.querySelector('.section-title').style.fontSize = `${baseSize * 1.125}px`;
            document.querySelectorAll('.welcome-text').forEach(el => {
                el.style.fontSize = `${baseSize * 1.2}px`;
            });
            document.querySelectorAll('.test-title').forEach(el => {
                el.style.fontSize = `${baseSize * 1.4}px`;
            });
            document.querySelectorAll('.test-description').forEach(el => {
                el.style.fontSize = `${baseSize}px`;
            });
            document.querySelectorAll('.closing-message').forEach(el => {
                el.style.fontSize = `${baseSize * 1.3}px`;
            });
            ctaButton.style.fontSize = `${baseSize * 1.2}px`;

            // Update text content
            document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('supervisor').textContent = config.supervisor || defaultConfig.supervisor;
            document.getElementById('description').textContent = config.description || defaultConfig.description;

            // Update welcome message with HTML formatting
            const welcomeEl = document.getElementById('welcome-message');
            const welcomeText = config.welcome_message || defaultConfig.welcome_message;
            welcomeEl.innerHTML = welcomeText.replace(/مقياس بصيرة/g, '<span class="highlight-text">مقياس بصيرة</span>');

            // Update description with HTML formatting
            const descEl = document.getElementById('description-text');
            const descText = config.description_text || defaultConfig.description_text;
            descEl.innerHTML = descText.replace(/المعرفة الحقيقية تبدأ من الداخل/g, '<span class="highlight-text">المعرفة الحقيقية تبدأ من الداخل</span>');

            document.getElementById('test1-title').textContent = config.test1_title || defaultConfig.test1_title;
            document.getElementById('test1-description').textContent = config.test1_description || defaultConfig.test1_description;
            document.getElementById('test2-title').textContent = config.test2_title || defaultConfig.test2_title;
            document.getElementById('test2-description').textContent = config.test2_description || defaultConfig.test2_description;
            document.getElementById('test3-title').textContent = config.test3_title || defaultConfig.test3_title;
            document.getElementById('test3-description').textContent = config.test3_description || defaultConfig.test3_description;

            const closingText = config.closing_message || defaultConfig.closing_message;
            const parts = closingText.split('💡 بصيرة معك… لتكتشف ذاتك وتحقق أهدافك');
            document.getElementById('closing-message').textContent = parts[0].trim();
            if (parts[1]) {
                document.getElementById('final-message').textContent = '💡 بصيرة معك… لتكتشف ذاتك وتحقق أهدافك' + parts[1];
            } else {
                document.getElementById('final-message').textContent = '💡 بصيرة معك… لتكتشف ذاتك وتحقق أهدافك';
            }

            document.getElementById('cta-button').textContent = config.cta_button || defaultConfig.cta_button;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            config.background_color = value;
                            window.elementSdk.setConfig({ background_color: value });
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            config.surface_color = value;
                            window.elementSdk.setConfig({ surface_color: value });
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            config.text_color = value;
                            window.elementSdk.setConfig({ text_color: value });
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            config.primary_action_color = value;
                            window.elementSdk.setConfig({ primary_action_color: value });
                        }
                    },
                    {
                        get: () => config.secondary_surface_color || defaultConfig.secondary_surface_color,
                        set: (value) => {
                            config.secondary_surface_color = value;
                            window.elementSdk.setConfig({ secondary_surface_color: value });
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        config.font_family = value;
                        window.elementSdk.setConfig({ font_family: value });
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        config.font_size = value;
                        window.elementSdk.setConfig({ font_size: value });
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["main_title", config.main_title || defaultConfig.main_title],
                ["subtitle", config.subtitle || defaultConfig.subtitle],
                ["supervisor", config.supervisor || defaultConfig.supervisor],
                ["description", config.description || defaultConfig.description],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                ["description_text", config.description_text || defaultConfig.description_text],
                ["test1_title", config.test1_title || defaultConfig.test1_title],
                ["test1_description", config.test1_description || defaultConfig.test1_description],
                ["test2_title", config.test2_title || defaultConfig.test2_title],
                ["test2_description", config.test2_description || defaultConfig.test2_description],
                ["test3_title", config.test3_title || defaultConfig.test3_title],
                ["test3_description", config.test3_description || defaultConfig.test3_description],
                ["closing_message", config.closing_message || defaultConfig.closing_message],
                ["cta_button", config.cta_button || defaultConfig.cta_button]
            ]);
        }

        // Initialize SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }

        // Add click handler for CTA button
        document.getElementById('cta-button').addEventListener('click', function (e) {
            e.preventDefault();
            // Add a nice click animation
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = 'translateY(-3px)';
            }, 150);
        });
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'99546272a42be9ef',t:'MTc2MTU5MTA4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>